function Cm(t,s){for(var n=0;n<s.length;n++){const a=s[n];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(a,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Rm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cd={exports:{}},Cr={},Rd={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),Am=Symbol.for("react.portal"),Em=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),Im=Symbol.for("react.provider"),Pm=Symbol.for("react.context"),Dm=Symbol.for("react.forward_ref"),Fm=Symbol.for("react.suspense"),_m=Symbol.for("react.memo"),Um=Symbol.for("react.lazy"),Uo=Symbol.iterator;function Om(t){return t===null||typeof t!="object"?null:(t=Uo&&t[Uo]||t["@@iterator"],typeof t=="function"?t:null)}var Ad={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ed=Object.assign,Td={};function pn(t,s,n){this.props=t,this.context=s,this.refs=Td,this.updater=n||Ad}pn.prototype.isReactComponent={};pn.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};pn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ld(){}Ld.prototype=pn.prototype;function Pl(t,s,n){this.props=t,this.context=s,this.refs=Td,this.updater=n||Ad}var Dl=Pl.prototype=new Ld;Dl.constructor=Pl;Ed(Dl,pn.prototype);Dl.isPureReactComponent=!0;var Oo=Array.isArray,Id=Object.prototype.hasOwnProperty,Fl={current:null},Pd={key:!0,ref:!0,__self:!0,__source:!0};function Dd(t,s,n){var a,r={},i=null,l=null;if(s!=null)for(a in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)Id.call(s,a)&&!Pd.hasOwnProperty(a)&&(r[a]=s[a]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var c=Array(o),h=0;h<o;h++)c[h]=arguments[h+2];r.children=c}if(t&&t.defaultProps)for(a in o=t.defaultProps,o)r[a]===void 0&&(r[a]=o[a]);return{$$typeof:ca,type:t,key:i,ref:l,props:r,_owner:Fl.current}}function qm(t,s){return{$$typeof:ca,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function _l(t){return typeof t=="object"&&t!==null&&t.$$typeof===ca}function Mm(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return s[n]})}var qo=/\/+/g;function Yr(t,s){return typeof t=="object"&&t!==null&&t.key!=null?Mm(""+t.key):s.toString(36)}function Oa(t,s,n,a,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ca:case Am:l=!0}}if(l)return l=t,r=r(l),t=a===""?"."+Yr(l,0):a,Oo(r)?(n="",t!=null&&(n=t.replace(qo,"$&/")+"/"),Oa(r,s,n,"",function(h){return h})):r!=null&&(_l(r)&&(r=qm(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(qo,"$&/")+"/")+t)),s.push(r)),1;if(l=0,a=a===""?".":a+":",Oo(t))for(var o=0;o<t.length;o++){i=t[o];var c=a+Yr(i,o);l+=Oa(i,s,n,c,r)}else if(c=Om(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=a+Yr(i,o++),l+=Oa(i,s,n,c,r);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function ya(t,s,n){if(t==null)return t;var a=[],r=0;return Oa(t,a,"","",function(i){return s.call(n,i,r++)}),a}function Bm(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var ze={current:null},qa={transition:null},zm={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:qa,ReactCurrentOwner:Fl};function Fd(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:ya,forEach:function(t,s,n){ya(t,function(){s.apply(this,arguments)},n)},count:function(t){var s=0;return ya(t,function(){s++}),s},toArray:function(t){return ya(t,function(s){return s})||[]},only:function(t){if(!_l(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=pn;re.Fragment=Em;re.Profiler=Lm;re.PureComponent=Pl;re.StrictMode=Tm;re.Suspense=Fm;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zm;re.act=Fd;re.cloneElement=function(t,s,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=Ed({},t.props),r=t.key,i=t.ref,l=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=Fl.current),s.key!==void 0&&(r=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)Id.call(s,c)&&!Pd.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){o=Array(c);for(var h=0;h<c;h++)o[h]=arguments[h+2];a.children=o}return{$$typeof:ca,type:t.type,key:r,ref:i,props:a,_owner:l}};re.createContext=function(t){return t={$$typeof:Pm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Im,_context:t},t.Consumer=t};re.createElement=Dd;re.createFactory=function(t){var s=Dd.bind(null,t);return s.type=t,s};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:Dm,render:t}};re.isValidElement=_l;re.lazy=function(t){return{$$typeof:Um,_payload:{_status:-1,_result:t},_init:Bm}};re.memo=function(t,s){return{$$typeof:_m,type:t,compare:s===void 0?null:s}};re.startTransition=function(t){var s=qa.transition;qa.transition={};try{t()}finally{qa.transition=s}};re.unstable_act=Fd;re.useCallback=function(t,s){return ze.current.useCallback(t,s)};re.useContext=function(t){return ze.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return ze.current.useDeferredValue(t)};re.useEffect=function(t,s){return ze.current.useEffect(t,s)};re.useId=function(){return ze.current.useId()};re.useImperativeHandle=function(t,s,n){return ze.current.useImperativeHandle(t,s,n)};re.useInsertionEffect=function(t,s){return ze.current.useInsertionEffect(t,s)};re.useLayoutEffect=function(t,s){return ze.current.useLayoutEffect(t,s)};re.useMemo=function(t,s){return ze.current.useMemo(t,s)};re.useReducer=function(t,s,n){return ze.current.useReducer(t,s,n)};re.useRef=function(t){return ze.current.useRef(t)};re.useState=function(t){return ze.current.useState(t)};re.useSyncExternalStore=function(t,s,n){return ze.current.useSyncExternalStore(t,s,n)};re.useTransition=function(){return ze.current.useTransition()};re.version="18.3.1";Rd.exports=re;var d=Rd.exports;const _d=Rm(d),$m=Cm({__proto__:null,default:_d},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm=d,Vm=Symbol.for("react.element"),Hm=Symbol.for("react.fragment"),Gm=Object.prototype.hasOwnProperty,Qm=Wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jm={key:!0,ref:!0,__self:!0,__source:!0};function Ud(t,s,n){var a,r={},i=null,l=null;n!==void 0&&(i=""+n),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)Gm.call(s,a)&&!Jm.hasOwnProperty(a)&&(r[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)r[a]===void 0&&(r[a]=s[a]);return{$$typeof:Vm,type:t,key:i,ref:l,props:r,_owner:Qm.current}}Cr.Fragment=Hm;Cr.jsx=Ud;Cr.jsxs=Ud;Cd.exports=Cr;var e=Cd.exports,Ii={},Od={exports:{}},at={},qd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(O,k){var _=O.length;O.push(k);e:for(;0<_;){var I=_-1>>>1,F=O[I];if(0<r(F,k))O[I]=k,O[_]=F,_=I;else break e}}function n(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var k=O[0],_=O.pop();if(_!==k){O[0]=_;e:for(var I=0,F=O.length,Q=F>>>1;I<Q;){var $=2*(I+1)-1,b=O[$],B=$+1,K=O[B];if(0>r(b,_))B<F&&0>r(K,b)?(O[I]=K,O[B]=_,I=B):(O[I]=b,O[$]=_,I=$);else if(B<F&&0>r(K,_))O[I]=K,O[B]=_,I=B;else break e}}return k}function r(O,k){var _=O.sortIndex-k.sortIndex;return _!==0?_:O.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],h=[],p=1,m=null,f=3,g=!1,j=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var k=n(h);k!==null;){if(k.callback===null)a(h);else if(k.startTime<=O)a(h),k.sortIndex=k.expirationTime,s(c,k);else break;k=n(h)}}function y(O){if(w=!1,x(O),!j)if(n(c)!==null)j=!0,R(v);else{var k=n(h);k!==null&&P(y,k.startTime-O)}}function v(O,k){j=!1,w&&(w=!1,N(q),q=-1),g=!0;var _=f;try{for(x(k),m=n(c);m!==null&&(!(m.expirationTime>k)||O&&!z());){var I=m.callback;if(typeof I=="function"){m.callback=null,f=m.priorityLevel;var F=I(m.expirationTime<=k);k=t.unstable_now(),typeof F=="function"?m.callback=F:m===n(c)&&a(c),x(k)}else a(c);m=n(c)}if(m!==null)var Q=!0;else{var $=n(h);$!==null&&P(y,$.startTime-k),Q=!1}return Q}finally{m=null,f=_,g=!1}}var T=!1,U=null,q=-1,D=5,M=-1;function z(){return!(t.unstable_now()-M<D)}function L(){if(U!==null){var O=t.unstable_now();M=O;var k=!0;try{k=U(!0,O)}finally{k?C():(T=!1,U=null)}}else T=!1}var C;if(typeof u=="function")C=function(){u(L)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,A=E.port2;E.port1.onmessage=L,C=function(){A.postMessage(null)}}else C=function(){S(L,0)};function R(O){U=O,T||(T=!0,C())}function P(O,k){q=S(function(){O(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){j||g||(j=!0,R(v))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var _=f;f=k;try{return O()}finally{f=_}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,k){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var _=f;f=O;try{return k()}finally{f=_}},t.unstable_scheduleCallback=function(O,k,_){var I=t.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?I+_:I):_=I,O){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=_+F,O={id:p++,callback:k,priorityLevel:O,startTime:_,expirationTime:F,sortIndex:-1},_>I?(O.sortIndex=_,s(h,O),n(c)===null&&O===n(h)&&(w?(N(q),q=-1):w=!0,P(y,_-I))):(O.sortIndex=F,s(c,O),j||g||(j=!0,R(v))),O},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(O){var k=f;return function(){var _=f;f=k;try{return O.apply(this,arguments)}finally{f=_}}}})(Md);qd.exports=Md;var Km=qd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=d,nt=Km;function G(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bd=new Set,Wn={};function Ds(t,s){an(t,s),an(t+"Capture",s)}function an(t,s){for(Wn[t]=s,t=0;t<s.length;t++)Bd.add(s[t])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pi=Object.prototype.hasOwnProperty,Xm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mo={},Bo={};function Zm(t){return Pi.call(Bo,t)?!0:Pi.call(Mo,t)?!1:Xm.test(t)?Bo[t]=!0:(Mo[t]=!0,!1)}function ep(t,s,n,a){if(n!==null&&n.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tp(t,s,n,a){if(s===null||typeof s>"u"||ep(t,s,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $e(t,s,n,a,r,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){De[t]=new $e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];De[s]=new $e(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){De[t]=new $e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){De[t]=new $e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){De[t]=new $e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){De[t]=new $e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){De[t]=new $e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){De[t]=new $e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){De[t]=new $e(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ul=/[\-:]([a-z])/g;function Ol(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(Ul,Ol);De[s]=new $e(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(Ul,Ol);De[s]=new $e(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(Ul,Ol);De[s]=new $e(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){De[t]=new $e(t,1,!1,t.toLowerCase(),null,!1,!1)});De.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){De[t]=new $e(t,1,!1,t.toLowerCase(),null,!0,!0)});function ql(t,s,n,a){var r=De.hasOwnProperty(s)?De[s]:null;(r!==null?r.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(tp(s,n,r,a)&&(n=null),a||r===null?Zm(s)&&(n===null?t.removeAttribute(s):t.setAttribute(s,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(s=r.attributeName,a=r.attributeNamespace,n===null?t.removeAttribute(s):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,a?t.setAttributeNS(a,s,n):t.setAttribute(s,n))))}var Mt=Ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),qs=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),Ml=Symbol.for("react.strict_mode"),Di=Symbol.for("react.profiler"),zd=Symbol.for("react.provider"),$d=Symbol.for("react.context"),Bl=Symbol.for("react.forward_ref"),Fi=Symbol.for("react.suspense"),_i=Symbol.for("react.suspense_list"),zl=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Wd=Symbol.for("react.offscreen"),zo=Symbol.iterator;function bn(t){return t===null||typeof t!="object"?null:(t=zo&&t[zo]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Xr;function Ln(t){if(Xr===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);Xr=s&&s[1]||""}return`
`+Xr+t}var Zr=!1;function ei(t,s){if(!t||Zr)return"";Zr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(h){var a=h}Reflect.construct(t,[],s)}else{try{s.call()}catch(h){a=h}t.call(s.prototype)}else{try{throw Error()}catch(h){a=h}t()}}catch(h){if(h&&a&&typeof h.stack=="string"){for(var r=h.stack.split(`
`),i=a.stack.split(`
`),l=r.length-1,o=i.length-1;1<=l&&0<=o&&r[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(r[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||r[l]!==i[o]){var c=`
`+r[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Zr=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ln(t):""}function sp(t){switch(t.tag){case 5:return Ln(t.type);case 16:return Ln("Lazy");case 13:return Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 2:case 15:return t=ei(t.type,!1),t;case 11:return t=ei(t.type.render,!1),t;case 1:return t=ei(t.type,!0),t;default:return""}}function Ui(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ms:return"Fragment";case qs:return"Portal";case Di:return"Profiler";case Ml:return"StrictMode";case Fi:return"Suspense";case _i:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $d:return(t.displayName||"Context")+".Consumer";case zd:return(t._context.displayName||"Context")+".Provider";case Bl:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zl:return s=t.displayName||null,s!==null?s:Ui(t.type)||"Memo";case Kt:s=t._payload,t=t._init;try{return Ui(t(s))}catch{}}return null}function np(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ui(s);case 8:return s===Ml?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vd(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ap(t){var s=Vd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),a=""+t[s];if(!t.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return r.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(t,s,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Na(t){t._valueTracker||(t._valueTracker=ap(t))}function Hd(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var n=s.getValue(),a="";return t&&(a=Vd(t)?t.checked?"true":"false":t.value),t=a,t!==n?(s.setValue(t),!0):!1}function Za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oi(t,s){var n=s.checked;return be({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $o(t,s){var n=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;n=hs(s.value!=null?s.value:n),t._wrapperState={initialChecked:a,initialValue:n,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Gd(t,s){s=s.checked,s!=null&&ql(t,"checked",s,!1)}function qi(t,s){Gd(t,s);var n=hs(s.value),a=s.type;if(n!=null)a==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Mi(t,s.type,n):s.hasOwnProperty("defaultValue")&&Mi(t,s.type,hs(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Wo(t,s,n){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,n||s===t.value||(t.value=s),t.defaultValue=s}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mi(t,s,n){(s!=="number"||Za(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var In=Array.isArray;function Ys(t,s,n,a){if(t=t.options,s){s={};for(var r=0;r<n.length;r++)s["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=s.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&a&&(t[n].defaultSelected=!0)}else{for(n=""+hs(n),s=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,a&&(t[r].defaultSelected=!0);return}s!==null||t[r].disabled||(s=t[r])}s!==null&&(s.selected=!0)}}function Bi(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(G(91));return be({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vo(t,s){var n=s.value;if(n==null){if(n=s.children,s=s.defaultValue,n!=null){if(s!=null)throw Error(G(92));if(In(n)){if(1<n.length)throw Error(G(93));n=n[0]}s=n}s==null&&(s=""),n=s}t._wrapperState={initialValue:hs(n)}}function Qd(t,s){var n=hs(s.value),a=hs(s.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),s.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),a!=null&&(t.defaultValue=""+a)}function Ho(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Jd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zi(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Jd(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ba,Kd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,n,a,r){MSApp.execUnsafeLocalFunction(function(){return t(s,n,a,r)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(ba=ba||document.createElement("div"),ba.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ba.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Vn(t,s){if(s){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=s;return}}t.textContent=s}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rp=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(t){rp.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Fn[s]=Fn[t]})});function Yd(t,s,n){return s==null||typeof s=="boolean"||s===""?"":n||typeof s!="number"||s===0||Fn.hasOwnProperty(t)&&Fn[t]?(""+s).trim():s+"px"}function Xd(t,s){t=t.style;for(var n in s)if(s.hasOwnProperty(n)){var a=n.indexOf("--")===0,r=Yd(n,s[n],a);n==="float"&&(n="cssFloat"),a?t.setProperty(n,r):t[n]=r}}var ip=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $i(t,s){if(s){if(ip[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(G(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(G(61))}if(s.style!=null&&typeof s.style!="object")throw Error(G(62))}}function Wi(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vi=null;function $l(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,Xs=null,Zs=null;function Go(t){if(t=ha(t)){if(typeof Hi!="function")throw Error(G(280));var s=t.stateNode;s&&(s=Lr(s),Hi(t.stateNode,t.type,s))}}function Zd(t){Xs?Zs?Zs.push(t):Zs=[t]:Xs=t}function eu(){if(Xs){var t=Xs,s=Zs;if(Zs=Xs=null,Go(t),s)for(t=0;t<s.length;t++)Go(s[t])}}function tu(t,s){return t(s)}function su(){}var ti=!1;function nu(t,s,n){if(ti)return t(s,n);ti=!0;try{return tu(t,s,n)}finally{ti=!1,(Xs!==null||Zs!==null)&&(su(),eu())}}function Hn(t,s){var n=t.stateNode;if(n===null)return null;var a=Lr(n);if(a===null)return null;n=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,s,typeof n));return n}var Gi=!1;if(_t)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Gi=!1}function lp(t,s,n,a,r,i,l,o,c){var h=Array.prototype.slice.call(arguments,3);try{s.apply(n,h)}catch(p){this.onError(p)}}var _n=!1,er=null,tr=!1,Qi=null,op={onError:function(t){_n=!0,er=t}};function cp(t,s,n,a,r,i,l,o,c){_n=!1,er=null,lp.apply(op,arguments)}function dp(t,s,n,a,r,i,l,o,c){if(cp.apply(this,arguments),_n){if(_n){var h=er;_n=!1,er=null}else throw Error(G(198));tr||(tr=!0,Qi=h)}}function Fs(t){var s=t,n=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(n=s.return),t=s.return;while(t)}return s.tag===3?n:null}function au(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Qo(t){if(Fs(t)!==t)throw Error(G(188))}function up(t){var s=t.alternate;if(!s){if(s=Fs(t),s===null)throw Error(G(188));return s!==t?null:t}for(var n=t,a=s;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Qo(r),t;if(i===a)return Qo(r),s;i=i.sibling}throw Error(G(188))}if(n.return!==a.return)n=r,a=i;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,a=i;break}if(o===a){l=!0,a=r,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,a=r;break}if(o===a){l=!0,a=i,n=r;break}o=o.sibling}if(!l)throw Error(G(189))}}if(n.alternate!==a)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:s}function ru(t){return t=up(t),t!==null?iu(t):null}function iu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=iu(t);if(s!==null)return s;t=t.sibling}return null}var lu=nt.unstable_scheduleCallback,Jo=nt.unstable_cancelCallback,hp=nt.unstable_shouldYield,mp=nt.unstable_requestPaint,Ce=nt.unstable_now,pp=nt.unstable_getCurrentPriorityLevel,Wl=nt.unstable_ImmediatePriority,ou=nt.unstable_UserBlockingPriority,sr=nt.unstable_NormalPriority,fp=nt.unstable_LowPriority,cu=nt.unstable_IdlePriority,Rr=null,Rt=null;function xp(t){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Rr,t,void 0,(t.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:yp,gp=Math.log,jp=Math.LN2;function yp(t){return t>>>=0,t===0?32:31-(gp(t)/jp|0)|0}var ka=64,wa=4194304;function Pn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nr(t,s){var n=t.pendingLanes;if(n===0)return 0;var a=0,r=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var o=l&~r;o!==0?a=Pn(o):(i&=l,i!==0&&(a=Pn(i)))}else l=n&~r,l!==0?a=Pn(l):i!==0&&(a=Pn(i));if(a===0)return 0;if(s!==0&&s!==a&&!(s&r)&&(r=a&-a,i=s&-s,r>=i||r===16&&(i&4194240)!==0))return s;if(a&4&&(a|=n&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=a;0<s;)n=31-gt(s),r=1<<n,a|=t[n],s&=~r;return a}function vp(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(t,s){for(var n=t.suspendedLanes,a=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-gt(i),o=1<<l,c=r[l];c===-1?(!(o&n)||o&a)&&(r[l]=vp(o,s)):c<=s&&(t.expiredLanes|=o),i&=~o}}function Ji(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function du(){var t=ka;return ka<<=1,!(ka&4194240)&&(ka=64),t}function si(t){for(var s=[],n=0;31>n;n++)s.push(t);return s}function da(t,s,n){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-gt(s),t[s]=n}function bp(t,s){var n=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-gt(n),i=1<<r;s[r]=0,a[r]=-1,t[r]=-1,n&=~i}}function Vl(t,s){var n=t.entangledLanes|=s;for(t=t.entanglements;n;){var a=31-gt(n),r=1<<a;r&s|t[a]&s&&(t[a]|=s),n&=~r}}var de=0;function uu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hu,Hl,mu,pu,fu,Ki=!1,Sa=[],ns=null,as=null,rs=null,Gn=new Map,Qn=new Map,Xt=[],kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ko(t,s){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Gn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qn.delete(s.pointerId)}}function wn(t,s,n,a,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},s!==null&&(s=ha(s),s!==null&&Hl(s)),t):(t.eventSystemFlags|=a,s=t.targetContainers,r!==null&&s.indexOf(r)===-1&&s.push(r),t)}function wp(t,s,n,a,r){switch(s){case"focusin":return ns=wn(ns,t,s,n,a,r),!0;case"dragenter":return as=wn(as,t,s,n,a,r),!0;case"mouseover":return rs=wn(rs,t,s,n,a,r),!0;case"pointerover":var i=r.pointerId;return Gn.set(i,wn(Gn.get(i)||null,t,s,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,Qn.set(i,wn(Qn.get(i)||null,t,s,n,a,r)),!0}return!1}function xu(t){var s=Ns(t.target);if(s!==null){var n=Fs(s);if(n!==null){if(s=n.tag,s===13){if(s=au(n),s!==null){t.blockedOn=s,fu(t.priority,function(){mu(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ma(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var n=Yi(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Vi=a,n.target.dispatchEvent(a),Vi=null}else return s=ha(n),s!==null&&Hl(s),t.blockedOn=n,!1;s.shift()}return!0}function Yo(t,s,n){Ma(t)&&n.delete(s)}function Sp(){Ki=!1,ns!==null&&Ma(ns)&&(ns=null),as!==null&&Ma(as)&&(as=null),rs!==null&&Ma(rs)&&(rs=null),Gn.forEach(Yo),Qn.forEach(Yo)}function Sn(t,s){t.blockedOn===s&&(t.blockedOn=null,Ki||(Ki=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Sp)))}function Jn(t){function s(r){return Sn(r,t)}if(0<Sa.length){Sn(Sa[0],t);for(var n=1;n<Sa.length;n++){var a=Sa[n];a.blockedOn===t&&(a.blockedOn=null)}}for(ns!==null&&Sn(ns,t),as!==null&&Sn(as,t),rs!==null&&Sn(rs,t),Gn.forEach(s),Qn.forEach(s),n=0;n<Xt.length;n++)a=Xt[n],a.blockedOn===t&&(a.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)xu(n),n.blockedOn===null&&Xt.shift()}var en=Mt.ReactCurrentBatchConfig,ar=!0;function Cp(t,s,n,a){var r=de,i=en.transition;en.transition=null;try{de=1,Gl(t,s,n,a)}finally{de=r,en.transition=i}}function Rp(t,s,n,a){var r=de,i=en.transition;en.transition=null;try{de=4,Gl(t,s,n,a)}finally{de=r,en.transition=i}}function Gl(t,s,n,a){if(ar){var r=Yi(t,s,n,a);if(r===null)hi(t,s,a,rr,n),Ko(t,a);else if(wp(r,t,s,n,a))a.stopPropagation();else if(Ko(t,a),s&4&&-1<kp.indexOf(t)){for(;r!==null;){var i=ha(r);if(i!==null&&hu(i),i=Yi(t,s,n,a),i===null&&hi(t,s,a,rr,n),i===r)break;r=i}r!==null&&a.stopPropagation()}else hi(t,s,a,null,n)}}var rr=null;function Yi(t,s,n,a){if(rr=null,t=$l(a),t=Ns(t),t!==null)if(s=Fs(t),s===null)t=null;else if(n=s.tag,n===13){if(t=au(s),t!==null)return t;t=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return rr=t,null}function gu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pp()){case Wl:return 1;case ou:return 4;case sr:case fp:return 16;case cu:return 536870912;default:return 16}default:return 16}}var es=null,Ql=null,Ba=null;function ju(){if(Ba)return Ba;var t,s=Ql,n=s.length,a,r="value"in es?es.value:es.textContent,i=r.length;for(t=0;t<n&&s[t]===r[t];t++);var l=n-t;for(a=1;a<=l&&s[n-a]===r[i-a];a++);return Ba=r.slice(t,1<a?1-a:void 0)}function za(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ca(){return!0}function Xo(){return!1}function rt(t){function s(n,a,r,i,l){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ca:Xo,this.isPropagationStopped=Xo,this}return be(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),s}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=rt(fn),ua=be({},fn,{view:0,detail:0}),Ap=rt(ua),ni,ai,Cn,Ar=be({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cn&&(Cn&&t.type==="mousemove"?(ni=t.screenX-Cn.screenX,ai=t.screenY-Cn.screenY):ai=ni=0,Cn=t),ni)},movementY:function(t){return"movementY"in t?t.movementY:ai}}),Zo=rt(Ar),Ep=be({},Ar,{dataTransfer:0}),Tp=rt(Ep),Lp=be({},ua,{relatedTarget:0}),ri=rt(Lp),Ip=be({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pp=rt(Ip),Dp=be({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fp=rt(Dp),_p=be({},fn,{data:0}),ec=rt(_p),Up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=qp[t])?!!s[t]:!1}function Kl(){return Mp}var Bp=be({},ua,{key:function(t){if(t.key){var s=Up[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Op[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(t){return t.type==="keypress"?za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zp=rt(Bp),$p=be({},Ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tc=rt($p),Wp=be({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),Vp=rt(Wp),Hp=be({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=rt(Hp),Qp=be({},Ar,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jp=rt(Qp),Kp=[9,13,27,32],Yl=_t&&"CompositionEvent"in window,Un=null;_t&&"documentMode"in document&&(Un=document.documentMode);var Yp=_t&&"TextEvent"in window&&!Un,yu=_t&&(!Yl||Un&&8<Un&&11>=Un),sc=" ",nc=!1;function vu(t,s){switch(t){case"keyup":return Kp.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function Xp(t,s){switch(t){case"compositionend":return Nu(s);case"keypress":return s.which!==32?null:(nc=!0,sc);case"textInput":return t=s.data,t===sc&&nc?null:t;default:return null}}function Zp(t,s){if(Bs)return t==="compositionend"||!Yl&&vu(t,s)?(t=ju(),Ba=Ql=es=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return yu&&s.locale!=="ko"?null:s.data;default:return null}}var ef={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!ef[t.type]:s==="textarea"}function bu(t,s,n,a){Zd(a),s=ir(s,"onChange"),0<s.length&&(n=new Jl("onChange","change",null,n,a),t.push({event:n,listeners:s}))}var On=null,Kn=null;function tf(t){Pu(t,0)}function Er(t){var s=Ws(t);if(Hd(s))return t}function sf(t,s){if(t==="change")return s}var ku=!1;if(_t){var ii;if(_t){var li="oninput"in document;if(!li){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),li=typeof rc.oninput=="function"}ii=li}else ii=!1;ku=ii&&(!document.documentMode||9<document.documentMode)}function ic(){On&&(On.detachEvent("onpropertychange",wu),Kn=On=null)}function wu(t){if(t.propertyName==="value"&&Er(Kn)){var s=[];bu(s,Kn,t,$l(t)),nu(tf,s)}}function nf(t,s,n){t==="focusin"?(ic(),On=s,Kn=n,On.attachEvent("onpropertychange",wu)):t==="focusout"&&ic()}function af(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Er(Kn)}function rf(t,s){if(t==="click")return Er(s)}function lf(t,s){if(t==="input"||t==="change")return Er(s)}function of(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var yt=typeof Object.is=="function"?Object.is:of;function Yn(t,s){if(yt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var n=Object.keys(t),a=Object.keys(s);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!Pi.call(s,r)||!yt(t[r],s[r]))return!1}return!0}function lc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oc(t,s){var n=lc(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=s&&a>=s)return{node:n,offset:s-t};t=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lc(n)}}function Su(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Su(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Cu(){for(var t=window,s=Za();s instanceof t.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)t=s.contentWindow;else break;s=Za(t.document)}return s}function Xl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function cf(t){var s=Cu(),n=t.focusedElem,a=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&Su(n.ownerDocument.documentElement,n)){if(a!==null&&Xl(n)){if(s=a.start,t=a.end,t===void 0&&(t=s),"selectionStart"in n)n.selectionStart=s,n.selectionEnd=Math.min(t,n.value.length);else if(t=(s=n.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(a.start,r);a=a.end===void 0?i:Math.min(a.end,r),!t.extend&&i>a&&(r=a,a=i,i=r),r=oc(n,i);var l=oc(n,a);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(r.node,r.offset),t.removeAllRanges(),i>a?(t.addRange(s),t.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),t.addRange(s)))}}for(s=[],t=n;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<s.length;n++)t=s[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var df=_t&&"documentMode"in document&&11>=document.documentMode,zs=null,Xi=null,qn=null,Zi=!1;function cc(t,s,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zi||zs==null||zs!==Za(a)||(a=zs,"selectionStart"in a&&Xl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),qn&&Yn(qn,a)||(qn=a,a=ir(Xi,"onSelect"),0<a.length&&(s=new Jl("onSelect","select",null,s,n),t.push({event:s,listeners:a}),s.target=zs)))}function Ra(t,s){var n={};return n[t.toLowerCase()]=s.toLowerCase(),n["Webkit"+t]="webkit"+s,n["Moz"+t]="moz"+s,n}var $s={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionend:Ra("Transition","TransitionEnd")},oi={},Ru={};_t&&(Ru=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function Tr(t){if(oi[t])return oi[t];if(!$s[t])return t;var s=$s[t],n;for(n in s)if(s.hasOwnProperty(n)&&n in Ru)return oi[t]=s[n];return t}var Au=Tr("animationend"),Eu=Tr("animationiteration"),Tu=Tr("animationstart"),Lu=Tr("transitionend"),Iu=new Map,dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(t,s){Iu.set(t,s),Ds(s,[t])}for(var ci=0;ci<dc.length;ci++){var di=dc[ci],uf=di.toLowerCase(),hf=di[0].toUpperCase()+di.slice(1);ps(uf,"on"+hf)}ps(Au,"onAnimationEnd");ps(Eu,"onAnimationIteration");ps(Tu,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(Lu,"onTransitionEnd");an("onMouseEnter",["mouseout","mouseover"]);an("onMouseLeave",["mouseout","mouseover"]);an("onPointerEnter",["pointerout","pointerover"]);an("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function uc(t,s,n){var a=t.type||"unknown-event";t.currentTarget=n,dp(a,s,void 0,t),t.currentTarget=null}function Pu(t,s){s=(s&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],r=a.event;a=a.listeners;e:{var i=void 0;if(s)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,h=o.currentTarget;if(o=o.listener,c!==i&&r.isPropagationStopped())break e;uc(r,o,h),i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,h=o.currentTarget,o=o.listener,c!==i&&r.isPropagationStopped())break e;uc(r,o,h),i=c}}}if(tr)throw t=Qi,tr=!1,Qi=null,t}function pe(t,s){var n=s[al];n===void 0&&(n=s[al]=new Set);var a=t+"__bubble";n.has(a)||(Du(s,t,2,!1),n.add(a))}function ui(t,s,n){var a=0;s&&(a|=4),Du(n,t,a,s)}var Aa="_reactListening"+Math.random().toString(36).slice(2);function Xn(t){if(!t[Aa]){t[Aa]=!0,Bd.forEach(function(n){n!=="selectionchange"&&(mf.has(n)||ui(n,!1,t),ui(n,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Aa]||(s[Aa]=!0,ui("selectionchange",!1,s))}}function Du(t,s,n,a){switch(gu(s)){case 1:var r=Cp;break;case 4:r=Rp;break;default:r=Gl}n=r.bind(null,s,n,t),r=void 0,!Gi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(r=!0),a?r!==void 0?t.addEventListener(s,n,{capture:!0,passive:r}):t.addEventListener(s,n,!0):r!==void 0?t.addEventListener(s,n,{passive:r}):t.addEventListener(s,n,!1)}function hi(t,s,n,a,r){var i=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;o!==null;){if(l=Ns(o),l===null)return;if(c=l.tag,c===5||c===6){a=i=l;continue e}o=o.parentNode}}a=a.return}nu(function(){var h=i,p=$l(n),m=[];e:{var f=Iu.get(t);if(f!==void 0){var g=Jl,j=t;switch(t){case"keypress":if(za(n)===0)break e;case"keydown":case"keyup":g=zp;break;case"focusin":j="focus",g=ri;break;case"focusout":j="blur",g=ri;break;case"beforeblur":case"afterblur":g=ri;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Vp;break;case Au:case Eu:case Tu:g=Pp;break;case Lu:g=Gp;break;case"scroll":g=Ap;break;case"wheel":g=Jp;break;case"copy":case"cut":case"paste":g=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=tc}var w=(s&4)!==0,S=!w&&t==="scroll",N=w?f!==null?f+"Capture":null:f;w=[];for(var u=h,x;u!==null;){x=u;var y=x.stateNode;if(x.tag===5&&y!==null&&(x=y,N!==null&&(y=Hn(u,N),y!=null&&w.push(Zn(u,y,x)))),S)break;u=u.return}0<w.length&&(f=new g(f,j,null,n,p),m.push({event:f,listeners:w}))}}if(!(s&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Vi&&(j=n.relatedTarget||n.fromElement)&&(Ns(j)||j[Ut]))break e;if((g||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,g?(j=n.relatedTarget||n.toElement,g=h,j=j?Ns(j):null,j!==null&&(S=Fs(j),j!==S||j.tag!==5&&j.tag!==6)&&(j=null)):(g=null,j=h),g!==j)){if(w=Zo,y="onMouseLeave",N="onMouseEnter",u="mouse",(t==="pointerout"||t==="pointerover")&&(w=tc,y="onPointerLeave",N="onPointerEnter",u="pointer"),S=g==null?f:Ws(g),x=j==null?f:Ws(j),f=new w(y,u+"leave",g,n,p),f.target=S,f.relatedTarget=x,y=null,Ns(p)===h&&(w=new w(N,u+"enter",j,n,p),w.target=x,w.relatedTarget=S,y=w),S=y,g&&j)t:{for(w=g,N=j,u=0,x=w;x;x=_s(x))u++;for(x=0,y=N;y;y=_s(y))x++;for(;0<u-x;)w=_s(w),u--;for(;0<x-u;)N=_s(N),x--;for(;u--;){if(w===N||N!==null&&w===N.alternate)break t;w=_s(w),N=_s(N)}w=null}else w=null;g!==null&&hc(m,f,g,w,!1),j!==null&&S!==null&&hc(m,S,j,w,!0)}}e:{if(f=h?Ws(h):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var v=sf;else if(ac(f))if(ku)v=lf;else{v=af;var T=nf}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(v=rf);if(v&&(v=v(t,h))){bu(m,v,n,p);break e}T&&T(t,f,h),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Mi(f,"number",f.value)}switch(T=h?Ws(h):window,t){case"focusin":(ac(T)||T.contentEditable==="true")&&(zs=T,Xi=h,qn=null);break;case"focusout":qn=Xi=zs=null;break;case"mousedown":Zi=!0;break;case"contextmenu":case"mouseup":case"dragend":Zi=!1,cc(m,n,p);break;case"selectionchange":if(df)break;case"keydown":case"keyup":cc(m,n,p)}var U;if(Yl)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Bs?vu(t,n)&&(q="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(yu&&n.locale!=="ko"&&(Bs||q!=="onCompositionStart"?q==="onCompositionEnd"&&Bs&&(U=ju()):(es=p,Ql="value"in es?es.value:es.textContent,Bs=!0)),T=ir(h,q),0<T.length&&(q=new ec(q,t,null,n,p),m.push({event:q,listeners:T}),U?q.data=U:(U=Nu(n),U!==null&&(q.data=U)))),(U=Yp?Xp(t,n):Zp(t,n))&&(h=ir(h,"onBeforeInput"),0<h.length&&(p=new ec("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=U))}Pu(m,s)})}function Zn(t,s,n){return{instance:t,listener:s,currentTarget:n}}function ir(t,s){for(var n=s+"Capture",a=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Hn(t,n),i!=null&&a.unshift(Zn(t,i,r)),i=Hn(t,s),i!=null&&a.push(Zn(t,i,r))),t=t.return}return a}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hc(t,s,n,a,r){for(var i=s._reactName,l=[];n!==null&&n!==a;){var o=n,c=o.alternate,h=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&h!==null&&(o=h,r?(c=Hn(n,i),c!=null&&l.unshift(Zn(n,c,o))):r||(c=Hn(n,i),c!=null&&l.push(Zn(n,c,o)))),n=n.return}l.length!==0&&t.push({event:s,listeners:l})}var pf=/\r\n?/g,ff=/\u0000|\uFFFD/g;function mc(t){return(typeof t=="string"?t:""+t).replace(pf,`
`).replace(ff,"")}function Ea(t,s,n){if(s=mc(s),mc(t)!==s&&n)throw Error(G(425))}function lr(){}var el=null,tl=null;function sl(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nl=typeof setTimeout=="function"?setTimeout:void 0,xf=typeof clearTimeout=="function"?clearTimeout:void 0,pc=typeof Promise=="function"?Promise:void 0,gf=typeof queueMicrotask=="function"?queueMicrotask:typeof pc<"u"?function(t){return pc.resolve(null).then(t).catch(jf)}:nl;function jf(t){setTimeout(function(){throw t})}function mi(t,s){var n=s,a=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(a===0){t.removeChild(r),Jn(s);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=r}while(n);Jn(s)}function is(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function fc(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return t;s--}else n==="/$"&&s++}t=t.previousSibling}return null}var xn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+xn,ea="__reactProps$"+xn,Ut="__reactContainer$"+xn,al="__reactEvents$"+xn,yf="__reactListeners$"+xn,vf="__reactHandles$"+xn;function Ns(t){var s=t[Ct];if(s)return s;for(var n=t.parentNode;n;){if(s=n[Ut]||n[Ct]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(t=fc(t);t!==null;){if(n=t[Ct])return n;t=fc(t)}return s}t=n,n=t.parentNode}return null}function ha(t){return t=t[Ct]||t[Ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Lr(t){return t[ea]||null}var rl=[],Vs=-1;function fs(t){return{current:t}}function fe(t){0>Vs||(t.current=rl[Vs],rl[Vs]=null,Vs--)}function he(t,s){Vs++,rl[Vs]=t.current,t.current=s}var ms={},qe=fs(ms),Qe=fs(!1),As=ms;function rn(t,s){var n=t.type.contextTypes;if(!n)return ms;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=s[i];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),r}function Je(t){return t=t.childContextTypes,t!=null}function or(){fe(Qe),fe(qe)}function xc(t,s,n){if(qe.current!==ms)throw Error(G(168));he(qe,s),he(Qe,n)}function Fu(t,s,n){var a=t.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var r in a)if(!(r in s))throw Error(G(108,np(t)||"Unknown",r));return be({},n,a)}function cr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ms,As=qe.current,he(qe,t),he(Qe,Qe.current),!0}function gc(t,s,n){var a=t.stateNode;if(!a)throw Error(G(169));n?(t=Fu(t,s,As),a.__reactInternalMemoizedMergedChildContext=t,fe(Qe),fe(qe),he(qe,t)):fe(Qe),he(Qe,n)}var It=null,Ir=!1,pi=!1;function _u(t){It===null?It=[t]:It.push(t)}function Nf(t){Ir=!0,_u(t)}function xs(){if(!pi&&It!==null){pi=!0;var t=0,s=de;try{var n=It;for(de=1;t<n.length;t++){var a=n[t];do a=a(!0);while(a!==null)}It=null,Ir=!1}catch(r){throw It!==null&&(It=It.slice(t+1)),lu(Wl,xs),r}finally{de=s,pi=!1}}return null}var Hs=[],Gs=0,dr=null,ur=0,lt=[],ot=0,Es=null,Pt=1,Dt="";function ys(t,s){Hs[Gs++]=ur,Hs[Gs++]=dr,dr=t,ur=s}function Uu(t,s,n){lt[ot++]=Pt,lt[ot++]=Dt,lt[ot++]=Es,Es=t;var a=Pt;t=Dt;var r=32-gt(a)-1;a&=~(1<<r),n+=1;var i=32-gt(s)+r;if(30<i){var l=r-r%5;i=(a&(1<<l)-1).toString(32),a>>=l,r-=l,Pt=1<<32-gt(s)+r|n<<r|a,Dt=i+t}else Pt=1<<i|n<<r|a,Dt=t}function Zl(t){t.return!==null&&(ys(t,1),Uu(t,1,0))}function eo(t){for(;t===dr;)dr=Hs[--Gs],Hs[Gs]=null,ur=Hs[--Gs],Hs[Gs]=null;for(;t===Es;)Es=lt[--ot],lt[ot]=null,Dt=lt[--ot],lt[ot]=null,Pt=lt[--ot],lt[ot]=null}var st=null,tt=null,ge=!1,xt=null;function Ou(t,s){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=s,n.return=t,s=t.deletions,s===null?(t.deletions=[n],t.flags|=16):s.push(n)}function jc(t,s){switch(t.tag){case 5:var n=t.type;return s=s.nodeType!==1||n.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,st=t,tt=is(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,st=t,tt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(n=Es!==null?{id:Pt,overflow:Dt}:null,t.memoizedState={dehydrated:s,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=s,n.return=t,t.child=n,st=t,tt=null,!0):!1;default:return!1}}function il(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ll(t){if(ge){var s=tt;if(s){var n=s;if(!jc(t,s)){if(il(t))throw Error(G(418));s=is(n.nextSibling);var a=st;s&&jc(t,s)?Ou(a,n):(t.flags=t.flags&-4097|2,ge=!1,st=t)}}else{if(il(t))throw Error(G(418));t.flags=t.flags&-4097|2,ge=!1,st=t}}}function yc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;st=t}function Ta(t){if(t!==st)return!1;if(!ge)return yc(t),ge=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!sl(t.type,t.memoizedProps)),s&&(s=tt)){if(il(t))throw qu(),Error(G(418));for(;s;)Ou(t,s),s=is(s.nextSibling)}if(yc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(s===0){tt=is(t.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++}t=t.nextSibling}tt=null}}else tt=st?is(t.stateNode.nextSibling):null;return!0}function qu(){for(var t=tt;t;)t=is(t.nextSibling)}function ln(){tt=st=null,ge=!1}function to(t){xt===null?xt=[t]:xt.push(t)}var bf=Mt.ReactCurrentBatchConfig;function Rn(t,s,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var a=n.stateNode}if(!a)throw Error(G(147,t));var r=a,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=r.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function La(t,s){throw t=Object.prototype.toString.call(s),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function vc(t){var s=t._init;return s(t._payload)}function Mu(t){function s(N,u){if(t){var x=N.deletions;x===null?(N.deletions=[u],N.flags|=16):x.push(u)}}function n(N,u){if(!t)return null;for(;u!==null;)s(N,u),u=u.sibling;return null}function a(N,u){for(N=new Map;u!==null;)u.key!==null?N.set(u.key,u):N.set(u.index,u),u=u.sibling;return N}function r(N,u){return N=ds(N,u),N.index=0,N.sibling=null,N}function i(N,u,x){return N.index=x,t?(x=N.alternate,x!==null?(x=x.index,x<u?(N.flags|=2,u):x):(N.flags|=2,u)):(N.flags|=1048576,u)}function l(N){return t&&N.alternate===null&&(N.flags|=2),N}function o(N,u,x,y){return u===null||u.tag!==6?(u=Ni(x,N.mode,y),u.return=N,u):(u=r(u,x),u.return=N,u)}function c(N,u,x,y){var v=x.type;return v===Ms?p(N,u,x.props.children,y,x.key):u!==null&&(u.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Kt&&vc(v)===u.type)?(y=r(u,x.props),y.ref=Rn(N,u,x),y.return=N,y):(y=Ja(x.type,x.key,x.props,null,N.mode,y),y.ref=Rn(N,u,x),y.return=N,y)}function h(N,u,x,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==x.containerInfo||u.stateNode.implementation!==x.implementation?(u=bi(x,N.mode,y),u.return=N,u):(u=r(u,x.children||[]),u.return=N,u)}function p(N,u,x,y,v){return u===null||u.tag!==7?(u=Cs(x,N.mode,y,v),u.return=N,u):(u=r(u,x),u.return=N,u)}function m(N,u,x){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Ni(""+u,N.mode,x),u.return=N,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case va:return x=Ja(u.type,u.key,u.props,null,N.mode,x),x.ref=Rn(N,null,u),x.return=N,x;case qs:return u=bi(u,N.mode,x),u.return=N,u;case Kt:var y=u._init;return m(N,y(u._payload),x)}if(In(u)||bn(u))return u=Cs(u,N.mode,x,null),u.return=N,u;La(N,u)}return null}function f(N,u,x,y){var v=u!==null?u.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return v!==null?null:o(N,u,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case va:return x.key===v?c(N,u,x,y):null;case qs:return x.key===v?h(N,u,x,y):null;case Kt:return v=x._init,f(N,u,v(x._payload),y)}if(In(x)||bn(x))return v!==null?null:p(N,u,x,y,null);La(N,x)}return null}function g(N,u,x,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return N=N.get(x)||null,o(u,N,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case va:return N=N.get(y.key===null?x:y.key)||null,c(u,N,y,v);case qs:return N=N.get(y.key===null?x:y.key)||null,h(u,N,y,v);case Kt:var T=y._init;return g(N,u,x,T(y._payload),v)}if(In(y)||bn(y))return N=N.get(x)||null,p(u,N,y,v,null);La(u,y)}return null}function j(N,u,x,y){for(var v=null,T=null,U=u,q=u=0,D=null;U!==null&&q<x.length;q++){U.index>q?(D=U,U=null):D=U.sibling;var M=f(N,U,x[q],y);if(M===null){U===null&&(U=D);break}t&&U&&M.alternate===null&&s(N,U),u=i(M,u,q),T===null?v=M:T.sibling=M,T=M,U=D}if(q===x.length)return n(N,U),ge&&ys(N,q),v;if(U===null){for(;q<x.length;q++)U=m(N,x[q],y),U!==null&&(u=i(U,u,q),T===null?v=U:T.sibling=U,T=U);return ge&&ys(N,q),v}for(U=a(N,U);q<x.length;q++)D=g(U,N,q,x[q],y),D!==null&&(t&&D.alternate!==null&&U.delete(D.key===null?q:D.key),u=i(D,u,q),T===null?v=D:T.sibling=D,T=D);return t&&U.forEach(function(z){return s(N,z)}),ge&&ys(N,q),v}function w(N,u,x,y){var v=bn(x);if(typeof v!="function")throw Error(G(150));if(x=v.call(x),x==null)throw Error(G(151));for(var T=v=null,U=u,q=u=0,D=null,M=x.next();U!==null&&!M.done;q++,M=x.next()){U.index>q?(D=U,U=null):D=U.sibling;var z=f(N,U,M.value,y);if(z===null){U===null&&(U=D);break}t&&U&&z.alternate===null&&s(N,U),u=i(z,u,q),T===null?v=z:T.sibling=z,T=z,U=D}if(M.done)return n(N,U),ge&&ys(N,q),v;if(U===null){for(;!M.done;q++,M=x.next())M=m(N,M.value,y),M!==null&&(u=i(M,u,q),T===null?v=M:T.sibling=M,T=M);return ge&&ys(N,q),v}for(U=a(N,U);!M.done;q++,M=x.next())M=g(U,N,q,M.value,y),M!==null&&(t&&M.alternate!==null&&U.delete(M.key===null?q:M.key),u=i(M,u,q),T===null?v=M:T.sibling=M,T=M);return t&&U.forEach(function(L){return s(N,L)}),ge&&ys(N,q),v}function S(N,u,x,y){if(typeof x=="object"&&x!==null&&x.type===Ms&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case va:e:{for(var v=x.key,T=u;T!==null;){if(T.key===v){if(v=x.type,v===Ms){if(T.tag===7){n(N,T.sibling),u=r(T,x.props.children),u.return=N,N=u;break e}}else if(T.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Kt&&vc(v)===T.type){n(N,T.sibling),u=r(T,x.props),u.ref=Rn(N,T,x),u.return=N,N=u;break e}n(N,T);break}else s(N,T);T=T.sibling}x.type===Ms?(u=Cs(x.props.children,N.mode,y,x.key),u.return=N,N=u):(y=Ja(x.type,x.key,x.props,null,N.mode,y),y.ref=Rn(N,u,x),y.return=N,N=y)}return l(N);case qs:e:{for(T=x.key;u!==null;){if(u.key===T)if(u.tag===4&&u.stateNode.containerInfo===x.containerInfo&&u.stateNode.implementation===x.implementation){n(N,u.sibling),u=r(u,x.children||[]),u.return=N,N=u;break e}else{n(N,u);break}else s(N,u);u=u.sibling}u=bi(x,N.mode,y),u.return=N,N=u}return l(N);case Kt:return T=x._init,S(N,u,T(x._payload),y)}if(In(x))return j(N,u,x,y);if(bn(x))return w(N,u,x,y);La(N,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,u!==null&&u.tag===6?(n(N,u.sibling),u=r(u,x),u.return=N,N=u):(n(N,u),u=Ni(x,N.mode,y),u.return=N,N=u),l(N)):n(N,u)}return S}var on=Mu(!0),Bu=Mu(!1),hr=fs(null),mr=null,Qs=null,so=null;function no(){so=Qs=mr=null}function ao(t){var s=hr.current;fe(hr),t._currentValue=s}function ol(t,s,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),t===n)break;t=t.return}}function tn(t,s){mr=t,so=Qs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(He=!0),t.firstContext=null)}function ut(t){var s=t._currentValue;if(so!==t)if(t={context:t,memoizedValue:s,next:null},Qs===null){if(mr===null)throw Error(G(308));Qs=t,mr.dependencies={lanes:0,firstContext:t}}else Qs=Qs.next=t;return s}var bs=null;function ro(t){bs===null?bs=[t]:bs.push(t)}function zu(t,s,n,a){var r=s.interleaved;return r===null?(n.next=n,ro(s)):(n.next=r.next,r.next=n),s.interleaved=n,Ot(t,a)}function Ot(t,s){t.lanes|=s;var n=t.alternate;for(n!==null&&(n.lanes|=s),n=t,t=t.return;t!==null;)t.childLanes|=s,n=t.alternate,n!==null&&(n.childLanes|=s),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yt=!1;function io(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $u(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ft(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function ls(t,s,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,le&2){var r=a.pending;return r===null?s.next=s:(s.next=r.next,r.next=s),a.pending=s,Ot(t,n)}return r=a.interleaved,r===null?(s.next=s,ro(a)):(s.next=r.next,r.next=s),a.interleaved=s,Ot(t,n)}function $a(t,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194240)!==0)){var a=s.lanes;a&=t.pendingLanes,n|=a,s.lanes=n,Vl(t,n)}}function Nc(t,s){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=s:i=i.next=s}else r=i=s;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,effects:a.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=s:t.next=s,n.lastBaseUpdate=s}function pr(t,s,n,a){var r=t.updateQueue;Yt=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,h=c.next;c.next=null,l===null?i=h:l.next=h,l=c;var p=t.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==l&&(o===null?p.firstBaseUpdate=h:o.next=h,p.lastBaseUpdate=c))}if(i!==null){var m=r.baseState;l=0,p=h=c=null,o=i;do{var f=o.lane,g=o.eventTime;if((a&f)===f){p!==null&&(p=p.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=t,w=o;switch(f=s,g=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){m=j.call(g,m,f);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,f=typeof j=="function"?j.call(g,m,f):j,f==null)break e;m=be({},m,f);break e;case 2:Yt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(h=p=g,c=m):p=p.next=g,l|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(p===null&&(c=m),r.baseState=c,r.firstBaseUpdate=h,r.lastBaseUpdate=p,s=r.shared.interleaved,s!==null){r=s;do l|=r.lane,r=r.next;while(r!==s)}else i===null&&(r.shared.lanes=0);Ls|=l,t.lanes=l,t.memoizedState=m}}function bc(t,s,n){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var a=t[s],r=a.callback;if(r!==null){if(a.callback=null,a=n,typeof r!="function")throw Error(G(191,r));r.call(a)}}}var ma={},At=fs(ma),ta=fs(ma),sa=fs(ma);function ks(t){if(t===ma)throw Error(G(174));return t}function lo(t,s){switch(he(sa,s),he(ta,t),he(At,ma),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:zi(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=zi(s,t)}fe(At),he(At,s)}function cn(){fe(At),fe(ta),fe(sa)}function Wu(t){ks(sa.current);var s=ks(At.current),n=zi(s,t.type);s!==n&&(he(ta,t),he(At,n))}function oo(t){ta.current===t&&(fe(At),fe(ta))}var ye=fs(0);function fr(t){for(var s=t;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fi=[];function co(){for(var t=0;t<fi.length;t++)fi[t]._workInProgressVersionPrimary=null;fi.length=0}var Wa=Mt.ReactCurrentDispatcher,xi=Mt.ReactCurrentBatchConfig,Ts=0,ve=null,Ae=null,Te=null,xr=!1,Mn=!1,na=0,kf=0;function Fe(){throw Error(G(321))}function uo(t,s){if(s===null)return!1;for(var n=0;n<s.length&&n<t.length;n++)if(!yt(t[n],s[n]))return!1;return!0}function ho(t,s,n,a,r,i){if(Ts=i,ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wa.current=t===null||t.memoizedState===null?Rf:Af,t=n(a,r),Mn){i=0;do{if(Mn=!1,na=0,25<=i)throw Error(G(301));i+=1,Te=Ae=null,s.updateQueue=null,Wa.current=Ef,t=n(a,r)}while(Mn)}if(Wa.current=gr,s=Ae!==null&&Ae.next!==null,Ts=0,Te=Ae=ve=null,xr=!1,s)throw Error(G(300));return t}function mo(){var t=na!==0;return na=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ve.memoizedState=Te=t:Te=Te.next=t,Te}function ht(){if(Ae===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var s=Te===null?ve.memoizedState:Te.next;if(s!==null)Te=s,Ae=t;else{if(t===null)throw Error(G(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Te===null?ve.memoizedState=Te=t:Te=Te.next=t}return Te}function aa(t,s){return typeof s=="function"?s(t):s}function gi(t){var s=ht(),n=s.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var a=Ae,r=a.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}a.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,a=a.baseState;var o=l=null,c=null,h=i;do{var p=h.lane;if((Ts&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),a=h.hasEagerState?h.eagerState:t(a,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(o=c=m,l=a):c=c.next=m,ve.lanes|=p,Ls|=p}h=h.next}while(h!==null&&h!==i);c===null?l=a:c.next=o,yt(a,s.memoizedState)||(He=!0),s.memoizedState=a,s.baseState=l,s.baseQueue=c,n.lastRenderedState=a}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ve.lanes|=i,Ls|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[s.memoizedState,n.dispatch]}function ji(t){var s=ht(),n=s.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var a=n.dispatch,r=n.pending,i=s.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=t(i,l.action),l=l.next;while(l!==r);yt(i,s.memoizedState)||(He=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),n.lastRenderedState=i}return[i,a]}function Vu(){}function Hu(t,s){var n=ve,a=ht(),r=s(),i=!yt(a.memoizedState,r);if(i&&(a.memoizedState=r,He=!0),a=a.queue,po(Ju.bind(null,n,a,t),[t]),a.getSnapshot!==s||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,ra(9,Qu.bind(null,n,a,r,s),void 0,null),Le===null)throw Error(G(349));Ts&30||Gu(n,s,r)}return r}function Gu(t,s,n){t.flags|=16384,t={getSnapshot:s,value:n},s=ve.updateQueue,s===null?(s={lastEffect:null,stores:null},ve.updateQueue=s,s.stores=[t]):(n=s.stores,n===null?s.stores=[t]:n.push(t))}function Qu(t,s,n,a){s.value=n,s.getSnapshot=a,Ku(s)&&Yu(t)}function Ju(t,s,n){return n(function(){Ku(s)&&Yu(t)})}function Ku(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!yt(t,n)}catch{return!0}}function Yu(t){var s=Ot(t,1);s!==null&&jt(s,t,1,-1)}function kc(t){var s=St();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:t},s.queue=t,t=t.dispatch=Cf.bind(null,ve,t),[s.memoizedState,t]}function ra(t,s,n,a){return t={tag:t,create:s,destroy:n,deps:a,next:null},s=ve.updateQueue,s===null?(s={lastEffect:null,stores:null},ve.updateQueue=s,s.lastEffect=t.next=t):(n=s.lastEffect,n===null?s.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,s.lastEffect=t)),t}function Xu(){return ht().memoizedState}function Va(t,s,n,a){var r=St();ve.flags|=t,r.memoizedState=ra(1|s,n,void 0,a===void 0?null:a)}function Pr(t,s,n,a){var r=ht();a=a===void 0?null:a;var i=void 0;if(Ae!==null){var l=Ae.memoizedState;if(i=l.destroy,a!==null&&uo(a,l.deps)){r.memoizedState=ra(s,n,i,a);return}}ve.flags|=t,r.memoizedState=ra(1|s,n,i,a)}function wc(t,s){return Va(8390656,8,t,s)}function po(t,s){return Pr(2048,8,t,s)}function Zu(t,s){return Pr(4,2,t,s)}function eh(t,s){return Pr(4,4,t,s)}function th(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function sh(t,s,n){return n=n!=null?n.concat([t]):null,Pr(4,4,th.bind(null,s,t),n)}function fo(){}function nh(t,s){var n=ht();s=s===void 0?null:s;var a=n.memoizedState;return a!==null&&s!==null&&uo(s,a[1])?a[0]:(n.memoizedState=[t,s],t)}function ah(t,s){var n=ht();s=s===void 0?null:s;var a=n.memoizedState;return a!==null&&s!==null&&uo(s,a[1])?a[0]:(t=t(),n.memoizedState=[t,s],t)}function rh(t,s,n){return Ts&21?(yt(n,s)||(n=du(),ve.lanes|=n,Ls|=n,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=n)}function wf(t,s){var n=de;de=n!==0&&4>n?n:4,t(!0);var a=xi.transition;xi.transition={};try{t(!1),s()}finally{de=n,xi.transition=a}}function ih(){return ht().memoizedState}function Sf(t,s,n){var a=cs(t);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},lh(t))oh(s,n);else if(n=zu(t,s,n,a),n!==null){var r=Be();jt(n,t,a,r),ch(n,s,a)}}function Cf(t,s,n){var a=cs(t),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(lh(t))oh(s,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,n);if(r.hasEagerState=!0,r.eagerState=o,yt(o,l)){var c=s.interleaved;c===null?(r.next=r,ro(s)):(r.next=c.next,c.next=r),s.interleaved=r;return}}catch{}finally{}n=zu(t,s,r,a),n!==null&&(r=Be(),jt(n,t,a,r),ch(n,s,a))}}function lh(t){var s=t.alternate;return t===ve||s!==null&&s===ve}function oh(t,s){Mn=xr=!0;var n=t.pending;n===null?s.next=s:(s.next=n.next,n.next=s),t.pending=s}function ch(t,s,n){if(n&4194240){var a=s.lanes;a&=t.pendingLanes,n|=a,s.lanes=n,Vl(t,n)}}var gr={readContext:ut,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Rf={readContext:ut,useCallback:function(t,s){return St().memoizedState=[t,s===void 0?null:s],t},useContext:ut,useEffect:wc,useImperativeHandle:function(t,s,n){return n=n!=null?n.concat([t]):null,Va(4194308,4,th.bind(null,s,t),n)},useLayoutEffect:function(t,s){return Va(4194308,4,t,s)},useInsertionEffect:function(t,s){return Va(4,2,t,s)},useMemo:function(t,s){var n=St();return s=s===void 0?null:s,t=t(),n.memoizedState=[t,s],t},useReducer:function(t,s,n){var a=St();return s=n!==void 0?n(s):s,a.memoizedState=a.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},a.queue=t,t=t.dispatch=Sf.bind(null,ve,t),[a.memoizedState,t]},useRef:function(t){var s=St();return t={current:t},s.memoizedState=t},useState:kc,useDebugValue:fo,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=kc(!1),s=t[0];return t=wf.bind(null,t[1]),St().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,n){var a=ve,r=St();if(ge){if(n===void 0)throw Error(G(407));n=n()}else{if(n=s(),Le===null)throw Error(G(349));Ts&30||Gu(a,s,n)}r.memoizedState=n;var i={value:n,getSnapshot:s};return r.queue=i,wc(Ju.bind(null,a,i,t),[t]),a.flags|=2048,ra(9,Qu.bind(null,a,i,n,s),void 0,null),n},useId:function(){var t=St(),s=Le.identifierPrefix;if(ge){var n=Dt,a=Pt;n=(a&~(1<<32-gt(a)-1)).toString(32)+n,s=":"+s+"R"+n,n=na++,0<n&&(s+="H"+n.toString(32)),s+=":"}else n=kf++,s=":"+s+"r"+n.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Af={readContext:ut,useCallback:nh,useContext:ut,useEffect:po,useImperativeHandle:sh,useInsertionEffect:Zu,useLayoutEffect:eh,useMemo:ah,useReducer:gi,useRef:Xu,useState:function(){return gi(aa)},useDebugValue:fo,useDeferredValue:function(t){var s=ht();return rh(s,Ae.memoizedState,t)},useTransition:function(){var t=gi(aa)[0],s=ht().memoizedState;return[t,s]},useMutableSource:Vu,useSyncExternalStore:Hu,useId:ih,unstable_isNewReconciler:!1},Ef={readContext:ut,useCallback:nh,useContext:ut,useEffect:po,useImperativeHandle:sh,useInsertionEffect:Zu,useLayoutEffect:eh,useMemo:ah,useReducer:ji,useRef:Xu,useState:function(){return ji(aa)},useDebugValue:fo,useDeferredValue:function(t){var s=ht();return Ae===null?s.memoizedState=t:rh(s,Ae.memoizedState,t)},useTransition:function(){var t=ji(aa)[0],s=ht().memoizedState;return[t,s]},useMutableSource:Vu,useSyncExternalStore:Hu,useId:ih,unstable_isNewReconciler:!1};function pt(t,s){if(t&&t.defaultProps){s=be({},s),t=t.defaultProps;for(var n in t)s[n]===void 0&&(s[n]=t[n]);return s}return s}function cl(t,s,n,a){s=t.memoizedState,n=n(a,s),n=n==null?s:be({},s,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dr={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,s,n){t=t._reactInternals;var a=Be(),r=cs(t),i=Ft(a,r);i.payload=s,n!=null&&(i.callback=n),s=ls(t,i,r),s!==null&&(jt(s,t,r,a),$a(s,t,r))},enqueueReplaceState:function(t,s,n){t=t._reactInternals;var a=Be(),r=cs(t),i=Ft(a,r);i.tag=1,i.payload=s,n!=null&&(i.callback=n),s=ls(t,i,r),s!==null&&(jt(s,t,r,a),$a(s,t,r))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var n=Be(),a=cs(t),r=Ft(n,a);r.tag=2,s!=null&&(r.callback=s),s=ls(t,r,a),s!==null&&(jt(s,t,a,n),$a(s,t,a))}};function Sc(t,s,n,a,r,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,i,l):s.prototype&&s.prototype.isPureReactComponent?!Yn(n,a)||!Yn(r,i):!0}function dh(t,s,n){var a=!1,r=ms,i=s.contextType;return typeof i=="object"&&i!==null?i=ut(i):(r=Je(s)?As:qe.current,a=s.contextTypes,i=(a=a!=null)?rn(t,r):ms),s=new s(n,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Dr,t.stateNode=s,s._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),s}function Cc(t,s,n,a){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,a),s.state!==t&&Dr.enqueueReplaceState(s,s.state,null)}function dl(t,s,n,a){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},io(t);var i=s.contextType;typeof i=="object"&&i!==null?r.context=ut(i):(i=Je(s)?As:qe.current,r.context=rn(t,i)),r.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(cl(t,s,i,n),r.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&Dr.enqueueReplaceState(r,r.state,null),pr(t,n,r,a),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function dn(t,s){try{var n="",a=s;do n+=sp(a),a=a.return;while(a);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:r,digest:null}}function yi(t,s,n){return{value:t,source:null,stack:n??null,digest:s??null}}function ul(t,s){try{console.error(s.value)}catch(n){setTimeout(function(){throw n})}}var Tf=typeof WeakMap=="function"?WeakMap:Map;function uh(t,s,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var a=s.value;return n.callback=function(){yr||(yr=!0,Nl=a),ul(t,s)},n}function hh(t,s,n){n=Ft(-1,n),n.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var r=s.value;n.payload=function(){return a(r)},n.callback=function(){ul(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ul(t,s),typeof a!="function"&&(os===null?os=new Set([this]):os.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),n}function Rc(t,s,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Tf;var r=new Set;a.set(s,r)}else r=a.get(s),r===void 0&&(r=new Set,a.set(s,r));r.has(n)||(r.add(n),t=Wf.bind(null,t,s,n),s.then(t,t))}function Ac(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Ec(t,s,n,a,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===s?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(s=Ft(-1,1),s.tag=2,ls(n,s,1))),n.lanes|=1),t)}var Lf=Mt.ReactCurrentOwner,He=!1;function Me(t,s,n,a){s.child=t===null?Bu(s,null,n,a):on(s,t.child,n,a)}function Tc(t,s,n,a,r){n=n.render;var i=s.ref;return tn(s,r),a=ho(t,s,n,a,i,r),n=mo(),t!==null&&!He?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r,qt(t,s,r)):(ge&&n&&Zl(s),s.flags|=1,Me(t,s,a,r),s.child)}function Lc(t,s,n,a,r){if(t===null){var i=n.type;return typeof i=="function"&&!ko(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(s.tag=15,s.type=i,mh(t,s,i,a,r)):(t=Ja(n.type,null,a,s,s.mode,r),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Yn,n(l,a)&&t.ref===s.ref)return qt(t,s,r)}return s.flags|=1,t=ds(i,a),t.ref=s.ref,t.return=s,s.child=t}function mh(t,s,n,a,r){if(t!==null){var i=t.memoizedProps;if(Yn(i,a)&&t.ref===s.ref)if(He=!1,s.pendingProps=a=i,(t.lanes&r)!==0)t.flags&131072&&(He=!0);else return s.lanes=t.lanes,qt(t,s,r)}return hl(t,s,n,a,r)}function ph(t,s,n){var a=s.pendingProps,r=a.children,i=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Ks,et),et|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,he(Ks,et),et|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,he(Ks,et),et|=a}else i!==null?(a=i.baseLanes|n,s.memoizedState=null):a=n,he(Ks,et),et|=a;return Me(t,s,r,n),s.child}function fh(t,s){var n=s.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(s.flags|=512,s.flags|=2097152)}function hl(t,s,n,a,r){var i=Je(n)?As:qe.current;return i=rn(s,i),tn(s,r),n=ho(t,s,n,a,i,r),a=mo(),t!==null&&!He?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r,qt(t,s,r)):(ge&&a&&Zl(s),s.flags|=1,Me(t,s,n,r),s.child)}function Ic(t,s,n,a,r){if(Je(n)){var i=!0;cr(s)}else i=!1;if(tn(s,r),s.stateNode===null)Ha(t,s),dh(s,n,a),dl(s,n,a,r),a=!0;else if(t===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=ut(h):(h=Je(n)?As:qe.current,h=rn(s,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==h)&&Cc(s,l,a,h),Yt=!1;var f=s.memoizedState;l.state=f,pr(s,a,l,r),c=s.memoizedState,o!==a||f!==c||Qe.current||Yt?(typeof p=="function"&&(cl(s,n,p,a),c=s.memoizedState),(o=Yt||Sc(s,n,o,a,f,c,h))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),l.props=a,l.state=c,l.context=h,a=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{l=s.stateNode,$u(t,s),o=s.memoizedProps,h=s.type===s.elementType?o:pt(s.type,o),l.props=h,m=s.pendingProps,f=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=ut(c):(c=Je(n)?As:qe.current,c=rn(s,c));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||f!==c)&&Cc(s,l,a,c),Yt=!1,f=s.memoizedState,l.state=f,pr(s,a,l,r);var j=s.memoizedState;o!==m||f!==j||Qe.current||Yt?(typeof g=="function"&&(cl(s,n,g,a),j=s.memoizedState),(h=Yt||Sc(s,n,h,a,f,j,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,j,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,j,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=j),l.props=a,l.state=j,l.context=c,a=h):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(s.flags|=1024),a=!1)}return ml(t,s,n,a,i,r)}function ml(t,s,n,a,r,i){fh(t,s);var l=(s.flags&128)!==0;if(!a&&!l)return r&&gc(s,n,!1),qt(t,s,i);a=s.stateNode,Lf.current=s;var o=l&&typeof n.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,t!==null&&l?(s.child=on(s,t.child,null,i),s.child=on(s,null,o,i)):Me(t,s,o,i),s.memoizedState=a.state,r&&gc(s,n,!0),s.child}function xh(t){var s=t.stateNode;s.pendingContext?xc(t,s.pendingContext,s.pendingContext!==s.context):s.context&&xc(t,s.context,!1),lo(t,s.containerInfo)}function Pc(t,s,n,a,r){return ln(),to(r),s.flags|=256,Me(t,s,n,a),s.child}var pl={dehydrated:null,treeContext:null,retryLane:0};function fl(t){return{baseLanes:t,cachePool:null,transitions:null}}function gh(t,s,n){var a=s.pendingProps,r=ye.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),he(ye,r&1),t===null)return ll(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=a.children,t=a.fallback,i?(a=s.mode,i=s.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ur(l,a,0,null),t=Cs(t,a,n,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=fl(n),s.memoizedState=pl,t):xo(s,l));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return If(t,s,l,a,o,r,n);if(i){i=a.fallback,l=s.mode,r=t.child,o=r.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&s.child!==r?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=ds(r,c),a.subtreeFlags=r.subtreeFlags&14680064),o!==null?i=ds(o,i):(i=Cs(i,l,n,null),i.flags|=2),i.return=s,a.return=s,a.sibling=i,s.child=a,a=i,i=s.child,l=t.child.memoizedState,l=l===null?fl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,s.memoizedState=pl,a}return i=t.child,t=i.sibling,a=ds(i,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=n),a.return=s,a.sibling=null,t!==null&&(n=s.deletions,n===null?(s.deletions=[t],s.flags|=16):n.push(t)),s.child=a,s.memoizedState=null,a}function xo(t,s){return s=Ur({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Ia(t,s,n,a){return a!==null&&to(a),on(s,t.child,null,n),t=xo(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function If(t,s,n,a,r,i,l){if(n)return s.flags&256?(s.flags&=-257,a=yi(Error(G(422))),Ia(t,s,l,a)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=a.fallback,r=s.mode,a=Ur({mode:"visible",children:a.children},r,0,null),i=Cs(i,r,l,null),i.flags|=2,a.return=s,i.return=s,a.sibling=i,s.child=a,s.mode&1&&on(s,t.child,null,l),s.child.memoizedState=fl(l),s.memoizedState=pl,i);if(!(s.mode&1))return Ia(t,s,l,null);if(r.data==="$!"){if(a=r.nextSibling&&r.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(G(419)),a=yi(i,a,void 0),Ia(t,s,l,a)}if(o=(l&t.childLanes)!==0,He||o){if(a=Le,a!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(a.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Ot(t,r),jt(a,t,r,-1))}return bo(),a=yi(Error(G(421))),Ia(t,s,l,a)}return r.data==="$?"?(s.flags|=128,s.child=t.child,s=Vf.bind(null,t),r._reactRetry=s,null):(t=i.treeContext,tt=is(r.nextSibling),st=s,ge=!0,xt=null,t!==null&&(lt[ot++]=Pt,lt[ot++]=Dt,lt[ot++]=Es,Pt=t.id,Dt=t.overflow,Es=s),s=xo(s,a.children),s.flags|=4096,s)}function Dc(t,s,n){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s),ol(t.return,s,n)}function vi(t,s,n,a,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r)}function jh(t,s,n){var a=s.pendingProps,r=a.revealOrder,i=a.tail;if(Me(t,s,a.children,n),a=ye.current,a&2)a=a&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dc(t,n,s);else if(t.tag===19)Dc(t,n,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(he(ye,a),!(s.mode&1))s.memoizedState=null;else switch(r){case"forwards":for(n=s.child,r=null;n!==null;)t=n.alternate,t!==null&&fr(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=s.child,s.child=null):(r=n.sibling,n.sibling=null),vi(s,!1,r,n,i);break;case"backwards":for(n=null,r=s.child,s.child=null;r!==null;){if(t=r.alternate,t!==null&&fr(t)===null){s.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}vi(s,!0,n,null,i);break;case"together":vi(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ha(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function qt(t,s,n){if(t!==null&&(s.dependencies=t.dependencies),Ls|=s.lanes,!(n&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(G(153));if(s.child!==null){for(t=s.child,n=ds(t,t.pendingProps),s.child=n,n.return=s;t.sibling!==null;)t=t.sibling,n=n.sibling=ds(t,t.pendingProps),n.return=s;n.sibling=null}return s.child}function Pf(t,s,n){switch(s.tag){case 3:xh(s),ln();break;case 5:Wu(s);break;case 1:Je(s.type)&&cr(s);break;case 4:lo(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,r=s.memoizedProps.value;he(hr,a._currentValue),a._currentValue=r;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(he(ye,ye.current&1),s.flags|=128,null):n&s.child.childLanes?gh(t,s,n):(he(ye,ye.current&1),t=qt(t,s,n),t!==null?t.sibling:null);he(ye,ye.current&1);break;case 19:if(a=(n&s.childLanes)!==0,t.flags&128){if(a)return jh(t,s,n);s.flags|=128}if(r=s.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),he(ye,ye.current),a)break;return null;case 22:case 23:return s.lanes=0,ph(t,s,n)}return qt(t,s,n)}var yh,xl,vh,Nh;yh=function(t,s){for(var n=s.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xl=function(){};vh=function(t,s,n,a){var r=t.memoizedProps;if(r!==a){t=s.stateNode,ks(At.current);var i=null;switch(n){case"input":r=Oi(t,r),a=Oi(t,a),i=[];break;case"select":r=be({},r,{value:void 0}),a=be({},a,{value:void 0}),i=[];break;case"textarea":r=Bi(t,r),a=Bi(t,a),i=[];break;default:typeof r.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=lr)}$i(n,a);var l;n=null;for(h in r)if(!a.hasOwnProperty(h)&&r.hasOwnProperty(h)&&r[h]!=null)if(h==="style"){var o=r[h];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Wn.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in a){var c=a[h];if(o=r!=null?r[h]:void 0,a.hasOwnProperty(h)&&c!==o&&(c!=null||o!=null))if(h==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Wn.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&pe("scroll",t),i||o===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(s.updateQueue=h)&&(s.flags|=4)}};Nh=function(t,s,n,a){n!==a&&(s.flags|=4)};function An(t,s){if(!ge)switch(t.tailMode){case"hidden":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function _e(t){var s=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(s)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&14680064,a|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=a,t.childLanes=n,s}function Df(t,s,n){var a=s.pendingProps;switch(eo(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(s),null;case 1:return Je(s.type)&&or(),_e(s),null;case 3:return a=s.stateNode,cn(),fe(Qe),fe(qe),co(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ta(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,xt!==null&&(wl(xt),xt=null))),xl(t,s),_e(s),null;case 5:oo(s);var r=ks(sa.current);if(n=s.type,t!==null&&s.stateNode!=null)vh(t,s,n,a,r),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(G(166));return _e(s),null}if(t=ks(At.current),Ta(s)){a=s.stateNode,n=s.type;var i=s.memoizedProps;switch(a[Ct]=s,a[ea]=i,t=(s.mode&1)!==0,n){case"dialog":pe("cancel",a),pe("close",a);break;case"iframe":case"object":case"embed":pe("load",a);break;case"video":case"audio":for(r=0;r<Dn.length;r++)pe(Dn[r],a);break;case"source":pe("error",a);break;case"img":case"image":case"link":pe("error",a),pe("load",a);break;case"details":pe("toggle",a);break;case"input":$o(a,i),pe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},pe("invalid",a);break;case"textarea":Vo(a,i),pe("invalid",a)}$i(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ea(a.textContent,o,t),r=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ea(a.textContent,o,t),r=["children",""+o]):Wn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&pe("scroll",a)}switch(n){case"input":Na(a),Wo(a,i,!0);break;case"textarea":Na(a),Ho(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=lr)}a=r,s.updateQueue=a,a!==null&&(s.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=l.createElement(n,{is:a.is}):(t=l.createElement(n),n==="select"&&(l=t,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):t=l.createElementNS(t,n),t[Ct]=s,t[ea]=a,yh(t,s,!1,!1),s.stateNode=t;e:{switch(l=Wi(n,a),n){case"dialog":pe("cancel",t),pe("close",t),r=a;break;case"iframe":case"object":case"embed":pe("load",t),r=a;break;case"video":case"audio":for(r=0;r<Dn.length;r++)pe(Dn[r],t);r=a;break;case"source":pe("error",t),r=a;break;case"img":case"image":case"link":pe("error",t),pe("load",t),r=a;break;case"details":pe("toggle",t),r=a;break;case"input":$o(t,a),r=Oi(t,a),pe("invalid",t);break;case"option":r=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},r=be({},a,{value:void 0}),pe("invalid",t);break;case"textarea":Vo(t,a),r=Bi(t,a),pe("invalid",t);break;default:r=a}$i(n,r),o=r;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Xd(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kd(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vn(t,c):typeof c=="number"&&Vn(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pe("scroll",t):c!=null&&ql(t,i,c,l))}switch(n){case"input":Na(t),Wo(t,a,!1);break;case"textarea":Na(t),Ho(t);break;case"option":a.value!=null&&t.setAttribute("value",""+hs(a.value));break;case"select":t.multiple=!!a.multiple,i=a.value,i!=null?Ys(t,!!a.multiple,i,!1):a.defaultValue!=null&&Ys(t,!!a.multiple,a.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=lr)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return _e(s),null;case 6:if(t&&s.stateNode!=null)Nh(t,s,t.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(G(166));if(n=ks(sa.current),ks(At.current),Ta(s)){if(a=s.stateNode,n=s.memoizedProps,a[Ct]=s,(i=a.nodeValue!==n)&&(t=st,t!==null))switch(t.tag){case 3:Ea(a.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ea(a.nodeValue,n,(t.mode&1)!==0)}i&&(s.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[Ct]=s,s.stateNode=a}return _e(s),null;case 13:if(fe(ye),a=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&tt!==null&&s.mode&1&&!(s.flags&128))qu(),ln(),s.flags|=98560,i=!1;else if(i=Ta(s),a!==null&&a.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ct]=s}else ln(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;_e(s),i=!1}else xt!==null&&(wl(xt),xt=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=n,s):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(t===null||ye.current&1?Ee===0&&(Ee=3):bo())),s.updateQueue!==null&&(s.flags|=4),_e(s),null);case 4:return cn(),xl(t,s),t===null&&Xn(s.stateNode.containerInfo),_e(s),null;case 10:return ao(s.type._context),_e(s),null;case 17:return Je(s.type)&&or(),_e(s),null;case 19:if(fe(ye),i=s.memoizedState,i===null)return _e(s),null;if(a=(s.flags&128)!==0,l=i.rendering,l===null)if(a)An(i,!1);else{if(Ee!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(l=fr(t),l!==null){for(s.flags|=128,An(i,!1),a=l.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=n,n=s.child;n!==null;)i=n,t=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(ye,ye.current&1|2),s.child}t=t.sibling}i.tail!==null&&Ce()>un&&(s.flags|=128,a=!0,An(i,!1),s.lanes=4194304)}else{if(!a)if(t=fr(l),t!==null){if(s.flags|=128,a=!0,n=t.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),An(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ge)return _e(s),null}else 2*Ce()-i.renderingStartTime>un&&n!==1073741824&&(s.flags|=128,a=!0,An(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(n=i.last,n!==null?n.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Ce(),s.sibling=null,n=ye.current,he(ye,a?n&1|2:n&1),s):(_e(s),null);case 22:case 23:return No(),a=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?et&1073741824&&(_e(s),s.subtreeFlags&6&&(s.flags|=8192)):_e(s),null;case 24:return null;case 25:return null}throw Error(G(156,s.tag))}function Ff(t,s){switch(eo(s),s.tag){case 1:return Je(s.type)&&or(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return cn(),fe(Qe),fe(qe),co(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return oo(s),null;case 13:if(fe(ye),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(G(340));ln()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return fe(ye),null;case 4:return cn(),null;case 10:return ao(s.type._context),null;case 22:case 23:return No(),null;case 24:return null;default:return null}}var Pa=!1,Ue=!1,_f=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Js(t,s){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){we(t,s,a)}else n.current=null}function gl(t,s,n){try{n()}catch(a){we(t,s,a)}}var Fc=!1;function Uf(t,s){if(el=ar,t=Cu(),Xl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,h=0,p=0,m=t,f=null;t:for(;;){for(var g;m!==n||r!==0&&m.nodeType!==3||(o=l+r),m!==i||a!==0&&m.nodeType!==3||(c=l+a),m.nodeType===3&&(l+=m.nodeValue.length),(g=m.firstChild)!==null;)f=m,m=g;for(;;){if(m===t)break t;if(f===n&&++h===r&&(o=l),f===i&&++p===a&&(c=l),(g=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=g}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tl={focusedElem:t,selectionRange:n},ar=!1,ee=s;ee!==null;)if(s=ee,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ee=t;else for(;ee!==null;){s=ee;try{var j=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,S=j.memoizedState,N=s.stateNode,u=N.getSnapshotBeforeUpdate(s.elementType===s.type?w:pt(s.type,w),S);N.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var x=s.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(y){we(s,s.return,y)}if(t=s.sibling,t!==null){t.return=s.return,ee=t;break}ee=s.return}return j=Fc,Fc=!1,j}function Bn(t,s,n){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var r=a=a.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&gl(s,n,i)}r=r.next}while(r!==a)}}function Fr(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var a=n.create;n.destroy=a()}n=n.next}while(n!==s)}}function jl(t){var s=t.ref;if(s!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof s=="function"?s(t):s.current=t}}function bh(t){var s=t.alternate;s!==null&&(t.alternate=null,bh(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Ct],delete s[ea],delete s[al],delete s[yf],delete s[vf])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kh(t){return t.tag===5||t.tag===3||t.tag===4}function _c(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yl(t,s,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?n.nodeType===8?n.parentNode.insertBefore(t,s):n.insertBefore(t,s):(n.nodeType===8?(s=n.parentNode,s.insertBefore(t,n)):(s=n,s.appendChild(t)),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=lr));else if(a!==4&&(t=t.child,t!==null))for(yl(t,s,n),t=t.sibling;t!==null;)yl(t,s,n),t=t.sibling}function vl(t,s,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?n.insertBefore(t,s):n.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(vl(t,s,n),t=t.sibling;t!==null;)vl(t,s,n),t=t.sibling}var Ie=null,ft=!1;function Qt(t,s,n){for(n=n.child;n!==null;)wh(t,s,n),n=n.sibling}function wh(t,s,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Rr,n)}catch{}switch(n.tag){case 5:Ue||Js(n,s);case 6:var a=Ie,r=ft;Ie=null,Qt(t,s,n),Ie=a,ft=r,Ie!==null&&(ft?(t=Ie,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(ft?(t=Ie,n=n.stateNode,t.nodeType===8?mi(t.parentNode,n):t.nodeType===1&&mi(t,n),Jn(t)):mi(Ie,n.stateNode));break;case 4:a=Ie,r=ft,Ie=n.stateNode.containerInfo,ft=!0,Qt(t,s,n),Ie=a,ft=r;break;case 0:case 11:case 14:case 15:if(!Ue&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){r=a=a.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&gl(n,s,l),r=r.next}while(r!==a)}Qt(t,s,n);break;case 1:if(!Ue&&(Js(n,s),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){we(n,s,o)}Qt(t,s,n);break;case 21:Qt(t,s,n);break;case 22:n.mode&1?(Ue=(a=Ue)||n.memoizedState!==null,Qt(t,s,n),Ue=a):Qt(t,s,n);break;default:Qt(t,s,n)}}function Uc(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _f),s.forEach(function(a){var r=Hf.bind(null,t,a);n.has(a)||(n.add(a),a.then(r,r))})}}function mt(t,s){var n=s.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a];try{var i=t,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ie=o.stateNode,ft=!1;break e;case 3:Ie=o.stateNode.containerInfo,ft=!0;break e;case 4:Ie=o.stateNode.containerInfo,ft=!0;break e}o=o.return}if(Ie===null)throw Error(G(160));wh(i,l,r),Ie=null,ft=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(h){we(r,s,h)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Sh(s,t),s=s.sibling}function Sh(t,s){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mt(s,t),Nt(t),a&4){try{Bn(3,t,t.return),Fr(3,t)}catch(w){we(t,t.return,w)}try{Bn(5,t,t.return)}catch(w){we(t,t.return,w)}}break;case 1:mt(s,t),Nt(t),a&512&&n!==null&&Js(n,n.return);break;case 5:if(mt(s,t),Nt(t),a&512&&n!==null&&Js(n,n.return),t.flags&32){var r=t.stateNode;try{Vn(r,"")}catch(w){we(t,t.return,w)}}if(a&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Gd(r,i),Wi(o,l);var h=Wi(o,i);for(l=0;l<c.length;l+=2){var p=c[l],m=c[l+1];p==="style"?Xd(r,m):p==="dangerouslySetInnerHTML"?Kd(r,m):p==="children"?Vn(r,m):ql(r,p,m,h)}switch(o){case"input":qi(r,i);break;case"textarea":Qd(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ys(r,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ys(r,!!i.multiple,i.defaultValue,!0):Ys(r,!!i.multiple,i.multiple?[]:"",!1))}r[ea]=i}catch(w){we(t,t.return,w)}}break;case 6:if(mt(s,t),Nt(t),a&4){if(t.stateNode===null)throw Error(G(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(w){we(t,t.return,w)}}break;case 3:if(mt(s,t),Nt(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Jn(s.containerInfo)}catch(w){we(t,t.return,w)}break;case 4:mt(s,t),Nt(t);break;case 13:mt(s,t),Nt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(yo=Ce())),a&4&&Uc(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ue=(h=Ue)||p,mt(s,t),Ue=h):mt(s,t),Nt(t),a&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(ee=t,p=t.child;p!==null;){for(m=ee=p;ee!==null;){switch(f=ee,g=f.child,f.tag){case 0:case 11:case 14:case 15:Bn(4,f,f.return);break;case 1:Js(f,f.return);var j=f.stateNode;if(typeof j.componentWillUnmount=="function"){a=f,n=f.return;try{s=a,j.props=s.memoizedProps,j.state=s.memoizedState,j.componentWillUnmount()}catch(w){we(a,n,w)}}break;case 5:Js(f,f.return);break;case 22:if(f.memoizedState!==null){qc(m);continue}}g!==null?(g.return=f,ee=g):qc(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{r=m.stateNode,h?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Yd("display",l))}catch(w){we(t,t.return,w)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(w){we(t,t.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:mt(s,t),Nt(t),a&4&&Uc(t);break;case 21:break;default:mt(s,t),Nt(t)}}function Nt(t){var s=t.flags;if(s&2){try{e:{for(var n=t.return;n!==null;){if(kh(n)){var a=n;break e}n=n.return}throw Error(G(160))}switch(a.tag){case 5:var r=a.stateNode;a.flags&32&&(Vn(r,""),a.flags&=-33);var i=_c(t);vl(t,i,r);break;case 3:case 4:var l=a.stateNode.containerInfo,o=_c(t);yl(t,o,l);break;default:throw Error(G(161))}}catch(c){we(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Of(t,s,n){ee=t,Ch(t)}function Ch(t,s,n){for(var a=(t.mode&1)!==0;ee!==null;){var r=ee,i=r.child;if(r.tag===22&&a){var l=r.memoizedState!==null||Pa;if(!l){var o=r.alternate,c=o!==null&&o.memoizedState!==null||Ue;o=Pa;var h=Ue;if(Pa=l,(Ue=c)&&!h)for(ee=r;ee!==null;)l=ee,c=l.child,l.tag===22&&l.memoizedState!==null?Mc(r):c!==null?(c.return=l,ee=c):Mc(r);for(;i!==null;)ee=i,Ch(i),i=i.sibling;ee=r,Pa=o,Ue=h}Oc(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,ee=i):Oc(t)}}function Oc(t){for(;ee!==null;){var s=ee;if(s.flags&8772){var n=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ue||Fr(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!Ue)if(n===null)a.componentDidMount();else{var r=s.elementType===s.type?n.memoizedProps:pt(s.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&bc(s,i,a);break;case 3:var l=s.updateQueue;if(l!==null){if(n=null,s.child!==null)switch(s.child.tag){case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}bc(s,l,n)}break;case 5:var o=s.stateNode;if(n===null&&s.flags&4){n=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var h=s.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Jn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Ue||s.flags&512&&jl(s)}catch(f){we(s,s.return,f)}}if(s===t){ee=null;break}if(n=s.sibling,n!==null){n.return=s.return,ee=n;break}ee=s.return}}function qc(t){for(;ee!==null;){var s=ee;if(s===t){ee=null;break}var n=s.sibling;if(n!==null){n.return=s.return,ee=n;break}ee=s.return}}function Mc(t){for(;ee!==null;){var s=ee;try{switch(s.tag){case 0:case 11:case 15:var n=s.return;try{Fr(4,s)}catch(c){we(s,n,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var r=s.return;try{a.componentDidMount()}catch(c){we(s,r,c)}}var i=s.return;try{jl(s)}catch(c){we(s,i,c)}break;case 5:var l=s.return;try{jl(s)}catch(c){we(s,l,c)}}}catch(c){we(s,s.return,c)}if(s===t){ee=null;break}var o=s.sibling;if(o!==null){o.return=s.return,ee=o;break}ee=s.return}}var qf=Math.ceil,jr=Mt.ReactCurrentDispatcher,go=Mt.ReactCurrentOwner,dt=Mt.ReactCurrentBatchConfig,le=0,Le=null,Re=null,Pe=0,et=0,Ks=fs(0),Ee=0,ia=null,Ls=0,_r=0,jo=0,zn=null,Ve=null,yo=0,un=1/0,Lt=null,yr=!1,Nl=null,os=null,Da=!1,ts=null,vr=0,$n=0,bl=null,Ga=-1,Qa=0;function Be(){return le&6?Ce():Ga!==-1?Ga:Ga=Ce()}function cs(t){return t.mode&1?le&2&&Pe!==0?Pe&-Pe:bf.transition!==null?(Qa===0&&(Qa=du()),Qa):(t=de,t!==0||(t=window.event,t=t===void 0?16:gu(t.type)),t):1}function jt(t,s,n,a){if(50<$n)throw $n=0,bl=null,Error(G(185));da(t,n,a),(!(le&2)||t!==Le)&&(t===Le&&(!(le&2)&&(_r|=n),Ee===4&&Zt(t,Pe)),Ke(t,a),n===1&&le===0&&!(s.mode&1)&&(un=Ce()+500,Ir&&xs()))}function Ke(t,s){var n=t.callbackNode;Np(t,s);var a=nr(t,t===Le?Pe:0);if(a===0)n!==null&&Jo(n),t.callbackNode=null,t.callbackPriority=0;else if(s=a&-a,t.callbackPriority!==s){if(n!=null&&Jo(n),s===1)t.tag===0?Nf(Bc.bind(null,t)):_u(Bc.bind(null,t)),gf(function(){!(le&6)&&xs()}),n=null;else{switch(uu(a)){case 1:n=Wl;break;case 4:n=ou;break;case 16:n=sr;break;case 536870912:n=cu;break;default:n=sr}n=Dh(n,Rh.bind(null,t))}t.callbackPriority=s,t.callbackNode=n}}function Rh(t,s){if(Ga=-1,Qa=0,le&6)throw Error(G(327));var n=t.callbackNode;if(sn()&&t.callbackNode!==n)return null;var a=nr(t,t===Le?Pe:0);if(a===0)return null;if(a&30||a&t.expiredLanes||s)s=Nr(t,a);else{s=a;var r=le;le|=2;var i=Eh();(Le!==t||Pe!==s)&&(Lt=null,un=Ce()+500,Ss(t,s));do try{zf();break}catch(o){Ah(t,o)}while(!0);no(),jr.current=i,le=r,Re!==null?s=0:(Le=null,Pe=0,s=Ee)}if(s!==0){if(s===2&&(r=Ji(t),r!==0&&(a=r,s=kl(t,r))),s===1)throw n=ia,Ss(t,0),Zt(t,a),Ke(t,Ce()),n;if(s===6)Zt(t,a);else{if(r=t.current.alternate,!(a&30)&&!Mf(r)&&(s=Nr(t,a),s===2&&(i=Ji(t),i!==0&&(a=i,s=kl(t,i))),s===1))throw n=ia,Ss(t,0),Zt(t,a),Ke(t,Ce()),n;switch(t.finishedWork=r,t.finishedLanes=a,s){case 0:case 1:throw Error(G(345));case 2:vs(t,Ve,Lt);break;case 3:if(Zt(t,a),(a&130023424)===a&&(s=yo+500-Ce(),10<s)){if(nr(t,0)!==0)break;if(r=t.suspendedLanes,(r&a)!==a){Be(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=nl(vs.bind(null,t,Ve,Lt),s);break}vs(t,Ve,Lt);break;case 4:if(Zt(t,a),(a&4194240)===a)break;for(s=t.eventTimes,r=-1;0<a;){var l=31-gt(a);i=1<<l,l=s[l],l>r&&(r=l),a&=~i}if(a=r,a=Ce()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*qf(a/1960))-a,10<a){t.timeoutHandle=nl(vs.bind(null,t,Ve,Lt),a);break}vs(t,Ve,Lt);break;case 5:vs(t,Ve,Lt);break;default:throw Error(G(329))}}}return Ke(t,Ce()),t.callbackNode===n?Rh.bind(null,t):null}function kl(t,s){var n=zn;return t.current.memoizedState.isDehydrated&&(Ss(t,s).flags|=256),t=Nr(t,s),t!==2&&(s=Ve,Ve=n,s!==null&&wl(s)),t}function wl(t){Ve===null?Ve=t:Ve.push.apply(Ve,t)}function Mf(t){for(var s=t;;){if(s.flags&16384){var n=s.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!yt(i(),r))return!1}catch{return!1}}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zt(t,s){for(s&=~jo,s&=~_r,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var n=31-gt(s),a=1<<n;t[n]=-1,s&=~a}}function Bc(t){if(le&6)throw Error(G(327));sn();var s=nr(t,0);if(!(s&1))return Ke(t,Ce()),null;var n=Nr(t,s);if(t.tag!==0&&n===2){var a=Ji(t);a!==0&&(s=a,n=kl(t,a))}if(n===1)throw n=ia,Ss(t,0),Zt(t,s),Ke(t,Ce()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,vs(t,Ve,Lt),Ke(t,Ce()),null}function vo(t,s){var n=le;le|=1;try{return t(s)}finally{le=n,le===0&&(un=Ce()+500,Ir&&xs())}}function Is(t){ts!==null&&ts.tag===0&&!(le&6)&&sn();var s=le;le|=1;var n=dt.transition,a=de;try{if(dt.transition=null,de=1,t)return t()}finally{de=a,dt.transition=n,le=s,!(le&6)&&xs()}}function No(){et=Ks.current,fe(Ks)}function Ss(t,s){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xf(n)),Re!==null)for(n=Re.return;n!==null;){var a=n;switch(eo(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&or();break;case 3:cn(),fe(Qe),fe(qe),co();break;case 5:oo(a);break;case 4:cn();break;case 13:fe(ye);break;case 19:fe(ye);break;case 10:ao(a.type._context);break;case 22:case 23:No()}n=n.return}if(Le=t,Re=t=ds(t.current,null),Pe=et=s,Ee=0,ia=null,jo=_r=Ls=0,Ve=zn=null,bs!==null){for(s=0;s<bs.length;s++)if(n=bs[s],a=n.interleaved,a!==null){n.interleaved=null;var r=a.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,a.next=l}n.pending=a}bs=null}return t}function Ah(t,s){do{var n=Re;try{if(no(),Wa.current=gr,xr){for(var a=ve.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}xr=!1}if(Ts=0,Te=Ae=ve=null,Mn=!1,na=0,go.current=null,n===null||n.return===null){Ee=1,ia=s,Re=null;break}e:{var i=t,l=n.return,o=n,c=s;if(s=Pe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=o,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=Ac(l);if(g!==null){g.flags&=-257,Ec(g,l,o,i,s),g.mode&1&&Rc(i,h,s),s=g,c=h;var j=s.updateQueue;if(j===null){var w=new Set;w.add(c),s.updateQueue=w}else j.add(c);break e}else{if(!(s&1)){Rc(i,h,s),bo();break e}c=Error(G(426))}}else if(ge&&o.mode&1){var S=Ac(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Ec(S,l,o,i,s),to(dn(c,o));break e}}i=c=dn(c,o),Ee!==4&&(Ee=2),zn===null?zn=[i]:zn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var N=uh(i,c,s);Nc(i,N);break e;case 1:o=c;var u=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(os===null||!os.has(x)))){i.flags|=65536,s&=-s,i.lanes|=s;var y=hh(i,o,s);Nc(i,y);break e}}i=i.return}while(i!==null)}Lh(n)}catch(v){s=v,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function Eh(){var t=jr.current;return jr.current=gr,t===null?gr:t}function bo(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Le===null||!(Ls&268435455)&&!(_r&268435455)||Zt(Le,Pe)}function Nr(t,s){var n=le;le|=2;var a=Eh();(Le!==t||Pe!==s)&&(Lt=null,Ss(t,s));do try{Bf();break}catch(r){Ah(t,r)}while(!0);if(no(),le=n,jr.current=a,Re!==null)throw Error(G(261));return Le=null,Pe=0,Ee}function Bf(){for(;Re!==null;)Th(Re)}function zf(){for(;Re!==null&&!hp();)Th(Re)}function Th(t){var s=Ph(t.alternate,t,et);t.memoizedProps=t.pendingProps,s===null?Lh(t):Re=s,go.current=null}function Lh(t){var s=t;do{var n=s.alternate;if(t=s.return,s.flags&32768){if(n=Ff(n,s),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ee=6,Re=null;return}}else if(n=Df(n,s,et),n!==null){Re=n;return}if(s=s.sibling,s!==null){Re=s;return}Re=s=t}while(s!==null);Ee===0&&(Ee=5)}function vs(t,s,n){var a=de,r=dt.transition;try{dt.transition=null,de=1,$f(t,s,n,a)}finally{dt.transition=r,de=a}return null}function $f(t,s,n,a){do sn();while(ts!==null);if(le&6)throw Error(G(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(bp(t,i),t===Le&&(Re=Le=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Da||(Da=!0,Dh(sr,function(){return sn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var l=de;de=1;var o=le;le|=4,go.current=null,Uf(t,n),Sh(n,t),cf(tl),ar=!!el,tl=el=null,t.current=n,Of(n),mp(),le=o,de=l,dt.transition=i}else t.current=n;if(Da&&(Da=!1,ts=t,vr=r),i=t.pendingLanes,i===0&&(os=null),xp(n.stateNode),Ke(t,Ce()),s!==null)for(a=t.onRecoverableError,n=0;n<s.length;n++)r=s[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(yr)throw yr=!1,t=Nl,Nl=null,t;return vr&1&&t.tag!==0&&sn(),i=t.pendingLanes,i&1?t===bl?$n++:($n=0,bl=t):$n=0,xs(),null}function sn(){if(ts!==null){var t=uu(vr),s=dt.transition,n=de;try{if(dt.transition=null,de=16>t?16:t,ts===null)var a=!1;else{if(t=ts,ts=null,vr=0,le&6)throw Error(G(331));var r=le;for(le|=4,ee=t.current;ee!==null;){var i=ee,l=i.child;if(ee.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var h=o[c];for(ee=h;ee!==null;){var p=ee;switch(p.tag){case 0:case 11:case 15:Bn(8,p,i)}var m=p.child;if(m!==null)m.return=p,ee=m;else for(;ee!==null;){p=ee;var f=p.sibling,g=p.return;if(bh(p),p===h){ee=null;break}if(f!==null){f.return=g,ee=f;break}ee=g}}}var j=i.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}ee=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ee=l;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bn(9,i,i.return)}var N=i.sibling;if(N!==null){N.return=i.return,ee=N;break e}ee=i.return}}var u=t.current;for(ee=u;ee!==null;){l=ee;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,ee=x;else e:for(l=u;ee!==null;){if(o=ee,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Fr(9,o)}}catch(v){we(o,o.return,v)}if(o===l){ee=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,ee=y;break e}ee=o.return}}if(le=r,xs(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Rr,t)}catch{}a=!0}return a}finally{de=n,dt.transition=s}}return!1}function zc(t,s,n){s=dn(n,s),s=uh(t,s,1),t=ls(t,s,1),s=Be(),t!==null&&(da(t,1,s),Ke(t,s))}function we(t,s,n){if(t.tag===3)zc(t,t,n);else for(;s!==null;){if(s.tag===3){zc(s,t,n);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(os===null||!os.has(a))){t=dn(n,t),t=hh(s,t,1),s=ls(s,t,1),t=Be(),s!==null&&(da(s,1,t),Ke(s,t));break}}s=s.return}}function Wf(t,s,n){var a=t.pingCache;a!==null&&a.delete(s),s=Be(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Pe&n)===n&&(Ee===4||Ee===3&&(Pe&130023424)===Pe&&500>Ce()-yo?Ss(t,0):jo|=n),Ke(t,s)}function Ih(t,s){s===0&&(t.mode&1?(s=wa,wa<<=1,!(wa&130023424)&&(wa=4194304)):s=1);var n=Be();t=Ot(t,s),t!==null&&(da(t,s,n),Ke(t,n))}function Vf(t){var s=t.memoizedState,n=0;s!==null&&(n=s.retryLane),Ih(t,n)}function Hf(t,s){var n=0;switch(t.tag){case 13:var a=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(G(314))}a!==null&&a.delete(s),Ih(t,n)}var Ph;Ph=function(t,s,n){if(t!==null)if(t.memoizedProps!==s.pendingProps||Qe.current)He=!0;else{if(!(t.lanes&n)&&!(s.flags&128))return He=!1,Pf(t,s,n);He=!!(t.flags&131072)}else He=!1,ge&&s.flags&1048576&&Uu(s,ur,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;Ha(t,s),t=s.pendingProps;var r=rn(s,qe.current);tn(s,n),r=ho(null,s,a,t,r,n);var i=mo();return s.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Je(a)?(i=!0,cr(s)):i=!1,s.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,io(s),r.updater=Dr,s.stateNode=r,r._reactInternals=s,dl(s,a,t,n),s=ml(null,s,a,!0,i,n)):(s.tag=0,ge&&i&&Zl(s),Me(null,s,r,n),s=s.child),s;case 16:a=s.elementType;e:{switch(Ha(t,s),t=s.pendingProps,r=a._init,a=r(a._payload),s.type=a,r=s.tag=Qf(a),t=pt(a,t),r){case 0:s=hl(null,s,a,t,n);break e;case 1:s=Ic(null,s,a,t,n);break e;case 11:s=Tc(null,s,a,t,n);break e;case 14:s=Lc(null,s,a,pt(a.type,t),n);break e}throw Error(G(306,a,""))}return s;case 0:return a=s.type,r=s.pendingProps,r=s.elementType===a?r:pt(a,r),hl(t,s,a,r,n);case 1:return a=s.type,r=s.pendingProps,r=s.elementType===a?r:pt(a,r),Ic(t,s,a,r,n);case 3:e:{if(xh(s),t===null)throw Error(G(387));a=s.pendingProps,i=s.memoizedState,r=i.element,$u(t,s),pr(s,a,null,n);var l=s.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){r=dn(Error(G(423)),s),s=Pc(t,s,a,n,r);break e}else if(a!==r){r=dn(Error(G(424)),s),s=Pc(t,s,a,n,r);break e}else for(tt=is(s.stateNode.containerInfo.firstChild),st=s,ge=!0,xt=null,n=Bu(s,null,a,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ln(),a===r){s=qt(t,s,n);break e}Me(t,s,a,n)}s=s.child}return s;case 5:return Wu(s),t===null&&ll(s),a=s.type,r=s.pendingProps,i=t!==null?t.memoizedProps:null,l=r.children,sl(a,r)?l=null:i!==null&&sl(a,i)&&(s.flags|=32),fh(t,s),Me(t,s,l,n),s.child;case 6:return t===null&&ll(s),null;case 13:return gh(t,s,n);case 4:return lo(s,s.stateNode.containerInfo),a=s.pendingProps,t===null?s.child=on(s,null,a,n):Me(t,s,a,n),s.child;case 11:return a=s.type,r=s.pendingProps,r=s.elementType===a?r:pt(a,r),Tc(t,s,a,r,n);case 7:return Me(t,s,s.pendingProps,n),s.child;case 8:return Me(t,s,s.pendingProps.children,n),s.child;case 12:return Me(t,s,s.pendingProps.children,n),s.child;case 10:e:{if(a=s.type._context,r=s.pendingProps,i=s.memoizedProps,l=r.value,he(hr,a._currentValue),a._currentValue=l,i!==null)if(yt(i.value,l)){if(i.children===r.children&&!Qe.current){s=qt(t,s,n);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=Ft(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ol(i.return,n,s),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(G(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),ol(l,n,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Me(t,s,r.children,n),s=s.child}return s;case 9:return r=s.type,a=s.pendingProps.children,tn(s,n),r=ut(r),a=a(r),s.flags|=1,Me(t,s,a,n),s.child;case 14:return a=s.type,r=pt(a,s.pendingProps),r=pt(a.type,r),Lc(t,s,a,r,n);case 15:return mh(t,s,s.type,s.pendingProps,n);case 17:return a=s.type,r=s.pendingProps,r=s.elementType===a?r:pt(a,r),Ha(t,s),s.tag=1,Je(a)?(t=!0,cr(s)):t=!1,tn(s,n),dh(s,a,r),dl(s,a,r,n),ml(null,s,a,!0,t,n);case 19:return jh(t,s,n);case 22:return ph(t,s,n)}throw Error(G(156,s.tag))};function Dh(t,s){return lu(t,s)}function Gf(t,s,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(t,s,n,a){return new Gf(t,s,n,a)}function ko(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qf(t){if(typeof t=="function")return ko(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bl)return 11;if(t===zl)return 14}return 2}function ds(t,s){var n=t.alternate;return n===null?(n=ct(t.tag,s,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=s,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,s=t.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ja(t,s,n,a,r,i){var l=2;if(a=t,typeof t=="function")ko(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ms:return Cs(n.children,r,i,s);case Ml:l=8,r|=8;break;case Di:return t=ct(12,n,s,r|2),t.elementType=Di,t.lanes=i,t;case Fi:return t=ct(13,n,s,r),t.elementType=Fi,t.lanes=i,t;case _i:return t=ct(19,n,s,r),t.elementType=_i,t.lanes=i,t;case Wd:return Ur(n,r,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zd:l=10;break e;case $d:l=9;break e;case Bl:l=11;break e;case zl:l=14;break e;case Kt:l=16,a=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return s=ct(l,n,s,r),s.elementType=t,s.type=a,s.lanes=i,s}function Cs(t,s,n,a){return t=ct(7,t,a,s),t.lanes=n,t}function Ur(t,s,n,a){return t=ct(22,t,a,s),t.elementType=Wd,t.lanes=n,t.stateNode={isHidden:!1},t}function Ni(t,s,n){return t=ct(6,t,null,s),t.lanes=n,t}function bi(t,s,n){return s=ct(4,t.children!==null?t.children:[],t.key,s),s.lanes=n,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Jf(t,s,n,a,r){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=si(0),this.expirationTimes=si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function wo(t,s,n,a,r,i,l,o,c){return t=new Jf(t,s,n,o,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=ct(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},io(i),t}function Kf(t,s,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qs,key:a==null?null:""+a,children:t,containerInfo:s,implementation:n}}function Fh(t){if(!t)return ms;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(G(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Je(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Je(n))return Fu(t,n,s)}return s}function _h(t,s,n,a,r,i,l,o,c){return t=wo(n,a,!0,t,r,i,l,o,c),t.context=Fh(null),n=t.current,a=Be(),r=cs(n),i=Ft(a,r),i.callback=s??null,ls(n,i,r),t.current.lanes=r,da(t,r,a),Ke(t,a),t}function Or(t,s,n,a){var r=s.current,i=Be(),l=cs(r);return n=Fh(n),s.context===null?s.context=n:s.pendingContext=n,s=Ft(i,l),s.payload={element:t},a=a===void 0?null:a,a!==null&&(s.callback=a),t=ls(r,s,l),t!==null&&(jt(t,r,l,i),$a(t,r,l)),l}function br(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $c(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<s?n:s}}function So(t,s){$c(t,s),(t=t.alternate)&&$c(t,s)}function Yf(){return null}var Uh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Co(t){this._internalRoot=t}qr.prototype.render=Co.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(G(409));Or(t,s,null,null)};qr.prototype.unmount=Co.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Is(function(){Or(null,t,null,null)}),s[Ut]=null}};function qr(t){this._internalRoot=t}qr.prototype.unstable_scheduleHydration=function(t){if(t){var s=pu();t={blockedOn:null,target:t,priority:s};for(var n=0;n<Xt.length&&s!==0&&s<Xt[n].priority;n++);Xt.splice(n,0,t),n===0&&xu(t)}};function Ro(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mr(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wc(){}function Xf(t,s,n,a,r){if(r){if(typeof a=="function"){var i=a;a=function(){var h=br(l);i.call(h)}}var l=_h(s,a,t,0,null,!1,!1,"",Wc);return t._reactRootContainer=l,t[Ut]=l.current,Xn(t.nodeType===8?t.parentNode:t),Is(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof a=="function"){var o=a;a=function(){var h=br(c);o.call(h)}}var c=wo(t,0,!1,null,null,!1,!1,"",Wc);return t._reactRootContainer=c,t[Ut]=c.current,Xn(t.nodeType===8?t.parentNode:t),Is(function(){Or(s,c,n,a)}),c}function Br(t,s,n,a,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var o=r;r=function(){var c=br(l);o.call(c)}}Or(s,l,t,r)}else l=Xf(n,s,t,r,a);return br(l)}hu=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var n=Pn(s.pendingLanes);n!==0&&(Vl(s,n|1),Ke(s,Ce()),!(le&6)&&(un=Ce()+500,xs()))}break;case 13:Is(function(){var a=Ot(t,1);if(a!==null){var r=Be();jt(a,t,1,r)}}),So(t,1)}};Hl=function(t){if(t.tag===13){var s=Ot(t,134217728);if(s!==null){var n=Be();jt(s,t,134217728,n)}So(t,134217728)}};mu=function(t){if(t.tag===13){var s=cs(t),n=Ot(t,s);if(n!==null){var a=Be();jt(n,t,s,a)}So(t,s)}};pu=function(){return de};fu=function(t,s){var n=de;try{return de=t,s()}finally{de=n}};Hi=function(t,s,n){switch(s){case"input":if(qi(t,n),s=n.name,n.type==="radio"&&s!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<n.length;s++){var a=n[s];if(a!==t&&a.form===t.form){var r=Lr(a);if(!r)throw Error(G(90));Hd(a),qi(a,r)}}}break;case"textarea":Qd(t,n);break;case"select":s=n.value,s!=null&&Ys(t,!!n.multiple,s,!1)}};tu=vo;su=Is;var Zf={usingClientEntryPoint:!1,Events:[ha,Ws,Lr,Zd,eu,vo]},En={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ex={bundleType:En.bundleType,version:En.version,rendererPackageName:En.rendererPackageName,rendererConfig:En.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ru(t),t===null?null:t.stateNode},findFiberByHostInstance:En.findFiberByHostInstance||Yf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{Rr=Fa.inject(ex),Rt=Fa}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zf;at.createPortal=function(t,s){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ro(s))throw Error(G(200));return Kf(t,s,null,n)};at.createRoot=function(t,s){if(!Ro(t))throw Error(G(299));var n=!1,a="",r=Uh;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(r=s.onRecoverableError)),s=wo(t,1,!1,null,null,n,!1,a,r),t[Ut]=s.current,Xn(t.nodeType===8?t.parentNode:t),new Co(s)};at.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=ru(s),t=t===null?null:t.stateNode,t};at.flushSync=function(t){return Is(t)};at.hydrate=function(t,s,n){if(!Mr(s))throw Error(G(200));return Br(null,t,s,!0,n)};at.hydrateRoot=function(t,s,n){if(!Ro(t))throw Error(G(405));var a=n!=null&&n.hydratedSources||null,r=!1,i="",l=Uh;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),s=_h(s,null,t,1,n??null,r,!1,i,l),t[Ut]=s.current,Xn(t),a)for(t=0;t<a.length;t++)n=a[t],r=n._getVersion,r=r(n._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[n,r]:s.mutableSourceEagerHydrationData.push(n,r);return new qr(s)};at.render=function(t,s,n){if(!Mr(s))throw Error(G(200));return Br(null,t,s,!1,n)};at.unmountComponentAtNode=function(t){if(!Mr(t))throw Error(G(40));return t._reactRootContainer?(Is(function(){Br(null,null,t,!1,function(){t._reactRootContainer=null,t[Ut]=null})}),!0):!1};at.unstable_batchedUpdates=vo;at.unstable_renderSubtreeIntoContainer=function(t,s,n,a){if(!Mr(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Br(t,s,n,!1,a)};at.version="18.3.1-next-f1338f8080-20240426";function Oh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oh)}catch(t){console.error(t)}}Oh(),Od.exports=at;var tx=Od.exports,Vc=tx;Ii.createRoot=Vc.createRoot,Ii.hydrateRoot=Vc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},la.apply(this,arguments)}var ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ss||(ss={}));const Hc="popstate";function sx(t){t===void 0&&(t={});function s(a,r){let{pathname:i,search:l,hash:o}=a.location;return Sl("",{pathname:i,search:l,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:kr(r)}return ax(s,n,null,t)}function Ne(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Ao(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function nx(){return Math.random().toString(36).substr(2,8)}function Gc(t,s){return{usr:t.state,key:t.key,idx:s}}function Sl(t,s,n,a){return n===void 0&&(n=null),la({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?gn(s):s,{state:n,key:s&&s.key||a||nx()})}function kr(t){let{pathname:s="/",search:n="",hash:a=""}=t;return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function gn(t){let s={};if(t){let n=t.indexOf("#");n>=0&&(s.hash=t.substr(n),t=t.substr(0,n));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function ax(t,s,n,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:i=!1}=a,l=r.history,o=ss.Pop,c=null,h=p();h==null&&(h=0,l.replaceState(la({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function m(){o=ss.Pop;let S=p(),N=S==null?null:S-h;h=S,c&&c({action:o,location:w.location,delta:N})}function f(S,N){o=ss.Push;let u=Sl(w.location,S,N);h=p()+1;let x=Gc(u,h),y=w.createHref(u);try{l.pushState(x,"",y)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;r.location.assign(y)}i&&c&&c({action:o,location:w.location,delta:1})}function g(S,N){o=ss.Replace;let u=Sl(w.location,S,N);h=p();let x=Gc(u,h),y=w.createHref(u);l.replaceState(x,"",y),i&&c&&c({action:o,location:w.location,delta:0})}function j(S){let N=r.location.origin!=="null"?r.location.origin:r.location.href,u=typeof S=="string"?S:kr(S);return u=u.replace(/ $/,"%20"),Ne(N,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,N)}let w={get action(){return o},get location(){return t(r,l)},listen(S){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Hc,m),c=S,()=>{r.removeEventListener(Hc,m),c=null}},createHref(S){return s(r,S)},createURL:j,encodeLocation(S){let N=j(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:f,replace:g,go(S){return l.go(S)}};return w}var Qc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qc||(Qc={}));function rx(t,s,n){return n===void 0&&(n="/"),ix(t,s,n)}function ix(t,s,n,a){let r=typeof s=="string"?gn(s):s,i=hn(r.pathname||"/",n);if(i==null)return null;let l=qh(t);lx(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let h=jx(i);o=xx(l[c],h)}return o}function qh(t,s,n,a){s===void 0&&(s=[]),n===void 0&&(n=[]),a===void 0&&(a="");let r=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Ne(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let h=us([a,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(Ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),qh(i.children,s,p,h)),!(i.path==null&&!i.index)&&s.push({path:h,score:px(h,i.index),routesMeta:p})};return t.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))r(i,l);else for(let c of Mh(i.path))r(i,l,c)}),s}function Mh(t){let s=t.split("/");if(s.length===0)return[];let[n,...a]=s,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return r?[i,""]:[i];let l=Mh(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),r&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function lx(t){t.sort((s,n)=>s.score!==n.score?n.score-s.score:fx(s.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const ox=/^:[\w-]+$/,cx=3,dx=2,ux=1,hx=10,mx=-2,Jc=t=>t==="*";function px(t,s){let n=t.split("/"),a=n.length;return n.some(Jc)&&(a+=mx),s&&(a+=dx),n.filter(r=>!Jc(r)).reduce((r,i)=>r+(ox.test(i)?cx:i===""?ux:hx),a)}function fx(t,s){return t.length===s.length&&t.slice(0,-1).every((a,r)=>a===s[r])?t[t.length-1]-s[s.length-1]:0}function xx(t,s,n){let{routesMeta:a}=t,r={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],h=o===a.length-1,p=i==="/"?s:s.slice(i.length)||"/",m=Cl({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),f=c.route;if(!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:us([i,m.pathname]),pathnameBase:kx(us([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=us([i,m.pathnameBase]))}return l}function Cl(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=gx(t.path,t.caseSensitive,t.end),r=s.match(n);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:a.reduce((h,p,m)=>{let{paramName:f,isOptional:g}=p;if(f==="*"){let w=o[m]||"";l=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const j=o[m];return g&&!j?h[f]=void 0:h[f]=(j||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function gx(t,s,n){s===void 0&&(s=!1),n===void 0&&(n=!0),Ao(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,s?void 0:"i"),a]}function jx(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Ao(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function hn(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}const yx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vx=t=>yx.test(t);function Nx(t,s){s===void 0&&(s="/");let{pathname:n,search:a="",hash:r=""}=typeof t=="string"?gn(t):t,i;if(n)if(vx(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ao(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=Kc(n.substring(1),"/"):i=Kc(n,s)}else i=s;return{pathname:i,search:wx(a),hash:Sx(r)}}function Kc(t,s){let n=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ki(t,s,n,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bx(t){return t.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function Eo(t,s){let n=bx(t);return s?n.map((a,r)=>r===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function To(t,s,n,a){a===void 0&&(a=!1);let r;typeof t=="string"?r=gn(t):(r=la({},t),Ne(!r.pathname||!r.pathname.includes("?"),ki("?","pathname","search",r)),Ne(!r.pathname||!r.pathname.includes("#"),ki("#","pathname","hash",r)),Ne(!r.search||!r.search.includes("#"),ki("#","search","hash",r)));let i=t===""||r.pathname==="",l=i?"/":r.pathname,o;if(l==null)o=n;else{let m=s.length-1;if(!a&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),m-=1;r.pathname=f.join("/")}o=m>=0?s[m]:"/"}let c=Nx(r,o),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const us=t=>t.join("/").replace(/\/\/+/g,"/"),kx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Sx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Cx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bh=["post","put","patch","delete"];new Set(Bh);const Rx=["get",...Bh];new Set(Rx);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oa(){return oa=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},oa.apply(this,arguments)}const zr=d.createContext(null),zh=d.createContext(null),Bt=d.createContext(null),$r=d.createContext(null),Et=d.createContext({outlet:null,matches:[],isDataRoute:!1}),$h=d.createContext(null);function Ax(t,s){let{relative:n}=s===void 0?{}:s;jn()||Ne(!1);let{basename:a,navigator:r}=d.useContext(Bt),{hash:i,pathname:l,search:o}=Vr(t,{relative:n}),c=l;return a!=="/"&&(c=l==="/"?a:us([a,l])),r.createHref({pathname:c,search:o,hash:i})}function jn(){return d.useContext($r)!=null}function zt(){return jn()||Ne(!1),d.useContext($r).location}function Wh(t){d.useContext(Bt).static||d.useLayoutEffect(t)}function it(){let{isDataRoute:t}=d.useContext(Et);return t?$x():Ex()}function Ex(){jn()||Ne(!1);let t=d.useContext(zr),{basename:s,future:n,navigator:a}=d.useContext(Bt),{matches:r}=d.useContext(Et),{pathname:i}=zt(),l=JSON.stringify(Eo(r,n.v7_relativeSplatPath)),o=d.useRef(!1);return Wh(()=>{o.current=!0}),d.useCallback(function(h,p){if(p===void 0&&(p={}),!o.current)return;if(typeof h=="number"){a.go(h);return}let m=To(h,JSON.parse(l),i,p.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:us([s,m.pathname])),(p.replace?a.replace:a.push)(m,p.state,p)},[s,a,l,i,t])}const Tx=d.createContext(null);function Lx(t){let s=d.useContext(Et).outlet;return s&&d.createElement(Tx.Provider,{value:t},s)}function Wr(){let{matches:t}=d.useContext(Et),s=t[t.length-1];return s?s.params:{}}function Vr(t,s){let{relative:n}=s===void 0?{}:s,{future:a}=d.useContext(Bt),{matches:r}=d.useContext(Et),{pathname:i}=zt(),l=JSON.stringify(Eo(r,a.v7_relativeSplatPath));return d.useMemo(()=>To(t,JSON.parse(l),i,n==="path"),[t,l,i,n])}function Ix(t,s){return Px(t,s)}function Px(t,s,n,a){jn()||Ne(!1);let{navigator:r}=d.useContext(Bt),{matches:i}=d.useContext(Et),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let h=zt(),p;if(s){var m;let S=typeof s=="string"?gn(s):s;c==="/"||(m=S.pathname)!=null&&m.startsWith(c)||Ne(!1),p=S}else p=h;let f=p.pathname||"/",g=f;if(c!=="/"){let S=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let j=rx(t,{pathname:g}),w=Ox(j&&j.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:us([c,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:us([c,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,a);return s&&w?d.createElement($r.Provider,{value:{location:oa({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ss.Pop}},w):w}function Dx(){let t=zx(),s=Cx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},s),n?d.createElement("pre",{style:r},n):null,null)}const Fx=d.createElement(Dx,null);class _x extends d.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){console.error("React Router caught the following error during render",s,n)}render(){return this.state.error!==void 0?d.createElement(Et.Provider,{value:this.props.routeContext},d.createElement($h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ux(t){let{routeContext:s,match:n,children:a}=t,r=d.useContext(zr);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Et.Provider,{value:s},a)}function Ox(t,s,n,a){var r;if(s===void 0&&(s=[]),n===void 0&&(n=null),a===void 0&&(a=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&s.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let p=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);p>=0||Ne(!1),l=l.slice(0,Math.min(l.length,p+1))}let c=!1,h=-1;if(n&&a&&a.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:f,errors:g}=n,j=m.route.loader&&f[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||j){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,f)=>{let g,j=!1,w=null,S=null;n&&(g=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||Fx,c&&(h<0&&f===0?(Wx("route-fallback"),j=!0,S=null):h===f&&(j=!0,S=m.route.hydrateFallbackElement||null)));let N=s.concat(l.slice(0,f+1)),u=()=>{let x;return g?x=w:j?x=S:m.route.Component?x=d.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=p,d.createElement(Ux,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:x})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?d.createElement(_x,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:u(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):u()},null)}var Vh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vh||{}),Hh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hh||{});function qx(t){let s=d.useContext(zr);return s||Ne(!1),s}function Mx(t){let s=d.useContext(zh);return s||Ne(!1),s}function Bx(t){let s=d.useContext(Et);return s||Ne(!1),s}function Gh(t){let s=Bx(),n=s.matches[s.matches.length-1];return n.route.id||Ne(!1),n.route.id}function zx(){var t;let s=d.useContext($h),n=Mx(),a=Gh();return s!==void 0?s:(t=n.errors)==null?void 0:t[a]}function $x(){let{router:t}=qx(Vh.UseNavigateStable),s=Gh(Hh.UseNavigateStable),n=d.useRef(!1);return Wh(()=>{n.current=!0}),d.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,oa({fromRouteId:s},i)))},[t,s])}const Yc={};function Wx(t,s,n){Yc[t]||(Yc[t]=!0)}function Vx(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function We(t){let{to:s,replace:n,state:a,relative:r}=t;jn()||Ne(!1);let{future:i,static:l}=d.useContext(Bt),{matches:o}=d.useContext(Et),{pathname:c}=zt(),h=it(),p=To(s,Eo(o,i.v7_relativeSplatPath),c,r==="path"),m=JSON.stringify(p);return d.useEffect(()=>h(JSON.parse(m),{replace:n,state:a,relative:r}),[h,m,r,n,a]),null}function Lo(t){return Lx(t.context)}function H(t){Ne(!1)}function Hx(t){let{basename:s="/",children:n=null,location:a,navigationType:r=ss.Pop,navigator:i,static:l=!1,future:o}=t;jn()&&Ne(!1);let c=s.replace(/^\/*/,"/"),h=d.useMemo(()=>({basename:c,navigator:i,static:l,future:oa({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=gn(a));let{pathname:p="/",search:m="",hash:f="",state:g=null,key:j="default"}=a,w=d.useMemo(()=>{let S=hn(p,c);return S==null?null:{location:{pathname:S,search:m,hash:f,state:g,key:j},navigationType:r}},[c,p,m,f,g,j,r]);return w==null?null:d.createElement(Bt.Provider,{value:h},d.createElement($r.Provider,{children:n,value:w}))}function Gx(t){let{children:s,location:n}=t;return Ix(Rl(s),n)}new Promise(()=>{});function Rl(t,s){s===void 0&&(s=[]);let n=[];return d.Children.forEach(t,(a,r)=>{if(!d.isValidElement(a))return;let i=[...s,r];if(a.type===d.Fragment){n.push.apply(n,Rl(a.props.children,i));return}a.type!==H&&Ne(!1),!a.props.index||!a.props.children||Ne(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=Rl(a.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wr(){return wr=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},wr.apply(this,arguments)}function Qh(t,s){if(t==null)return{};var n={},a=Object.keys(t),r,i;for(i=0;i<a.length;i++)r=a[i],!(s.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Qx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jx(t,s){return t.button===0&&(!s||s==="_self")&&!Qx(t)}const Kx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Xx="6";try{window.__reactRouterVersion=Xx}catch{}const Zx=d.createContext({isTransitioning:!1}),eg="startTransition",Xc=$m[eg];function tg(t){let{basename:s,children:n,future:a,window:r}=t,i=d.useRef();i.current==null&&(i.current=sx({window:r,v5Compat:!0}));let l=i.current,[o,c]=d.useState({action:l.action,location:l.location}),{v7_startTransition:h}=a||{},p=d.useCallback(m=>{h&&Xc?Xc(()=>c(m)):c(m)},[c,h]);return d.useLayoutEffect(()=>l.listen(p),[l,p]),d.useEffect(()=>Vx(a),[a]),d.createElement(Hx,{basename:s,children:n,location:o.location,navigationType:o.action,navigator:l,future:a})}const sg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ng=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ag=d.forwardRef(function(s,n){let{onClick:a,relative:r,reloadDocument:i,replace:l,state:o,target:c,to:h,preventScrollReset:p,viewTransition:m}=s,f=Qh(s,Kx),{basename:g}=d.useContext(Bt),j,w=!1;if(typeof h=="string"&&ng.test(h)&&(j=h,sg))try{let x=new URL(window.location.href),y=h.startsWith("//")?new URL(x.protocol+h):new URL(h),v=hn(y.pathname,g);y.origin===x.origin&&v!=null?h=v+y.search+y.hash:w=!0}catch{}let S=Ax(h,{relative:r}),N=ig(h,{replace:l,state:o,target:c,preventScrollReset:p,relative:r,viewTransition:m});function u(x){a&&a(x),x.defaultPrevented||N(x)}return d.createElement("a",wr({},f,{href:j||S,onClick:w||i?a:u,ref:n,target:c}))}),Z=d.forwardRef(function(s,n){let{"aria-current":a="page",caseSensitive:r=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:h,children:p}=s,m=Qh(s,Yx),f=Vr(c,{relative:m.relative}),g=zt(),j=d.useContext(zh),{navigator:w,basename:S}=d.useContext(Bt),N=j!=null&&lg(f)&&h===!0,u=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,x=g.pathname,y=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;r||(x=x.toLowerCase(),y=y?y.toLowerCase():null,u=u.toLowerCase()),y&&S&&(y=hn(y,S)||y);const v=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let T=x===u||!l&&x.startsWith(u)&&x.charAt(v)==="/",U=y!=null&&(y===u||!l&&y.startsWith(u)&&y.charAt(u.length)==="/"),q={isActive:T,isPending:U,isTransitioning:N},D=T?a:void 0,M;typeof i=="function"?M=i(q):M=[i,T?"active":null,U?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(q):o;return d.createElement(ag,wr({},m,{"aria-current":D,className:M,ref:n,style:z,to:c,viewTransition:h}),typeof p=="function"?p(q):p)});var Al;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Al||(Al={}));var Zc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zc||(Zc={}));function rg(t){let s=d.useContext(zr);return s||Ne(!1),s}function ig(t,s){let{target:n,replace:a,state:r,preventScrollReset:i,relative:l,viewTransition:o}=s===void 0?{}:s,c=it(),h=zt(),p=Vr(t,{relative:l});return d.useCallback(m=>{if(Jx(m,n)){m.preventDefault();let f=a!==void 0?a:kr(h)===kr(p);c(t,{replace:f,state:r,preventScrollReset:i,relative:l,viewTransition:o})}},[h,c,p,a,r,n,t,i,l,o])}function lg(t,s){s===void 0&&(s={});let n=d.useContext(Zx);n==null&&Ne(!1);let{basename:a}=rg(Al.useViewTransitionState),r=Vr(t,{relative:s.relative});if(!n.isTransitioning)return!1;let i=hn(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=hn(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Cl(r.pathname,l)!=null||Cl(r.pathname,i)!=null}function Jh(t,s){return function(){return t.apply(s,arguments)}}const{toString:og}=Object.prototype,{getPrototypeOf:Io}=Object,{iterator:Hr,toStringTag:Kh}=Symbol,Gr=(t=>s=>{const n=og.call(s);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vt=t=>(t=t.toLowerCase(),s=>Gr(s)===t),Qr=t=>s=>typeof s===t,{isArray:yn}=Array,mn=Qr("undefined");function pa(t){return t!==null&&!mn(t)&&t.constructor!==null&&!mn(t.constructor)&&Ye(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Yh=vt("ArrayBuffer");function cg(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Yh(t.buffer),s}const dg=Qr("string"),Ye=Qr("function"),Xh=Qr("number"),fa=t=>t!==null&&typeof t=="object",ug=t=>t===!0||t===!1,Ka=t=>{if(Gr(t)!=="object")return!1;const s=Io(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Kh in t)&&!(Hr in t)},hg=t=>{if(!fa(t)||pa(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},mg=vt("Date"),pg=vt("File"),fg=vt("Blob"),xg=vt("FileList"),gg=t=>fa(t)&&Ye(t.pipe),jg=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Ye(t.append)&&((s=Gr(t))==="formdata"||s==="object"&&Ye(t.toString)&&t.toString()==="[object FormData]"))},yg=vt("URLSearchParams"),[vg,Ng,bg,kg]=["ReadableStream","Request","Response","Headers"].map(vt),wg=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xa(t,s,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let a,r;if(typeof t!="object"&&(t=[t]),yn(t))for(a=0,r=t.length;a<r;a++)s.call(null,t[a],a,t);else{if(pa(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(a=0;a<l;a++)o=i[a],s.call(null,t[o],o,t)}}function Zh(t,s){if(pa(t))return null;s=s.toLowerCase();const n=Object.keys(t);let a=n.length,r;for(;a-- >0;)if(r=n[a],s===r.toLowerCase())return r;return null}const ws=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,em=t=>!mn(t)&&t!==ws;function El(){const{caseless:t,skipUndefined:s}=em(this)&&this||{},n={},a=(r,i)=>{const l=t&&Zh(n,i)||i;Ka(n[l])&&Ka(r)?n[l]=El(n[l],r):Ka(r)?n[l]=El({},r):yn(r)?n[l]=r.slice():(!s||!mn(r))&&(n[l]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&xa(arguments[r],a);return n}const Sg=(t,s,n,{allOwnKeys:a}={})=>(xa(s,(r,i)=>{n&&Ye(r)?t[i]=Jh(r,n):t[i]=r},{allOwnKeys:a}),t),Cg=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Rg=(t,s,n,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),n&&Object.assign(t.prototype,n)},Ag=(t,s,n,a)=>{let r,i,l;const o={};if(s=s||{},t==null)return s;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)l=r[i],(!a||a(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=n!==!1&&Io(t)}while(t&&(!n||n(t,s))&&t!==Object.prototype);return s},Eg=(t,s,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=s.length;const a=t.indexOf(s,n);return a!==-1&&a===n},Tg=t=>{if(!t)return null;if(yn(t))return t;let s=t.length;if(!Xh(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=t[s];return n},Lg=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Io(Uint8Array)),Ig=(t,s)=>{const a=(t&&t[Hr]).call(t);let r;for(;(r=a.next())&&!r.done;){const i=r.value;s.call(t,i[0],i[1])}},Pg=(t,s)=>{let n;const a=[];for(;(n=t.exec(s))!==null;)a.push(n);return a},Dg=vt("HTMLFormElement"),Fg=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,r){return a.toUpperCase()+r}),ed=(({hasOwnProperty:t})=>(s,n)=>t.call(s,n))(Object.prototype),_g=vt("RegExp"),tm=(t,s)=>{const n=Object.getOwnPropertyDescriptors(t),a={};xa(n,(r,i)=>{let l;(l=s(r,i,t))!==!1&&(a[i]=l||r)}),Object.defineProperties(t,a)},Ug=t=>{tm(t,(s,n)=>{if(Ye(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=t[n];if(Ye(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Og=(t,s)=>{const n={},a=r=>{r.forEach(i=>{n[i]=!0})};return yn(t)?a(t):a(String(t).split(s)),n},qg=()=>{},Mg=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Bg(t){return!!(t&&Ye(t.append)&&t[Kh]==="FormData"&&t[Hr])}const zg=t=>{const s=new Array(10),n=(a,r)=>{if(fa(a)){if(s.indexOf(a)>=0)return;if(pa(a))return a;if(!("toJSON"in a)){s[r]=a;const i=yn(a)?[]:{};return xa(a,(l,o)=>{const c=n(l,r+1);!mn(c)&&(i[o]=c)}),s[r]=void 0,i}}return a};return n(t,0)},$g=vt("AsyncFunction"),Wg=t=>t&&(fa(t)||Ye(t))&&Ye(t.then)&&Ye(t.catch),sm=((t,s)=>t?setImmediate:s?((n,a)=>(ws.addEventListener("message",({source:r,data:i})=>{r===ws&&i===n&&a.length&&a.shift()()},!1),r=>{a.push(r),ws.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ye(ws.postMessage)),Vg=typeof queueMicrotask<"u"?queueMicrotask.bind(ws):typeof process<"u"&&process.nextTick||sm,Hg=t=>t!=null&&Ye(t[Hr]),W={isArray:yn,isArrayBuffer:Yh,isBuffer:pa,isFormData:jg,isArrayBufferView:cg,isString:dg,isNumber:Xh,isBoolean:ug,isObject:fa,isPlainObject:Ka,isEmptyObject:hg,isReadableStream:vg,isRequest:Ng,isResponse:bg,isHeaders:kg,isUndefined:mn,isDate:mg,isFile:pg,isBlob:fg,isRegExp:_g,isFunction:Ye,isStream:gg,isURLSearchParams:yg,isTypedArray:Lg,isFileList:xg,forEach:xa,merge:El,extend:Sg,trim:wg,stripBOM:Cg,inherits:Rg,toFlatObject:Ag,kindOf:Gr,kindOfTest:vt,endsWith:Eg,toArray:Tg,forEachEntry:Ig,matchAll:Pg,isHTMLForm:Dg,hasOwnProperty:ed,hasOwnProp:ed,reduceDescriptors:tm,freezeMethods:Ug,toObjectSet:Og,toCamelCase:Fg,noop:qg,toFiniteNumber:Mg,findKey:Zh,global:ws,isContextDefined:em,isSpecCompliantForm:Bg,toJSONObject:zg,isAsyncFn:$g,isThenable:Wg,setImmediate:sm,asap:Vg,isIterable:Hg};function ae(t,s,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}W.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const nm=ae.prototype,am={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{am[t]={value:t}});Object.defineProperties(ae,am);Object.defineProperty(nm,"isAxiosError",{value:!0});ae.from=(t,s,n,a,r,i)=>{const l=Object.create(nm);W.toFlatObject(t,l,function(p){return p!==Error.prototype},h=>h!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return ae.call(l,o,c,n,a,r),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const Gg=null;function Tl(t){return W.isPlainObject(t)||W.isArray(t)}function rm(t){return W.endsWith(t,"[]")?t.slice(0,-2):t}function td(t,s,n){return t?t.concat(s).map(function(r,i){return r=rm(r),!n&&i?"["+r+"]":r}).join(n?".":""):s}function Qg(t){return W.isArray(t)&&!t.some(Tl)}const Jg=W.toFlatObject(W,{},null,function(s){return/^is[A-Z]/.test(s)});function Jr(t,s,n){if(!W.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!W.isUndefined(S[w])});const a=n.metaTokens,r=n.visitor||p,i=n.dots,l=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(s);if(!W.isFunction(r))throw new TypeError("visitor must be a function");function h(j){if(j===null)return"";if(W.isDate(j))return j.toISOString();if(W.isBoolean(j))return j.toString();if(!c&&W.isBlob(j))throw new ae("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(j)||W.isTypedArray(j)?c&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,w,S){let N=j;if(j&&!S&&typeof j=="object"){if(W.endsWith(w,"{}"))w=a?w:w.slice(0,-2),j=JSON.stringify(j);else if(W.isArray(j)&&Qg(j)||(W.isFileList(j)||W.endsWith(w,"[]"))&&(N=W.toArray(j)))return w=rm(w),N.forEach(function(x,y){!(W.isUndefined(x)||x===null)&&s.append(l===!0?td([w],y,i):l===null?w:w+"[]",h(x))}),!1}return Tl(j)?!0:(s.append(td(S,w,i),h(j)),!1)}const m=[],f=Object.assign(Jg,{defaultVisitor:p,convertValue:h,isVisitable:Tl});function g(j,w){if(!W.isUndefined(j)){if(m.indexOf(j)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(j),W.forEach(j,function(N,u){(!(W.isUndefined(N)||N===null)&&r.call(s,N,W.isString(u)?u.trim():u,w,f))===!0&&g(N,w?w.concat(u):[u])}),m.pop()}}if(!W.isObject(t))throw new TypeError("data must be an object");return g(t),s}function sd(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Po(t,s){this._pairs=[],t&&Jr(t,this,s)}const im=Po.prototype;im.append=function(s,n){this._pairs.push([s,n])};im.toString=function(s){const n=s?function(a){return s.call(this,a,sd)}:sd;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Kg(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lm(t,s,n){if(!s)return t;const a=n&&n.encode||Kg;W.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(s,n):i=W.isURLSearchParams(s)?s.toString():new Po(s,n).toString(a),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class nd{constructor(){this.handlers=[]}use(s,n,a){return this.handlers.push({fulfilled:s,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){W.forEach(this.handlers,function(a){a!==null&&s(a)})}}const om={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yg=typeof URLSearchParams<"u"?URLSearchParams:Po,Xg=typeof FormData<"u"?FormData:null,Zg=typeof Blob<"u"?Blob:null,ej={isBrowser:!0,classes:{URLSearchParams:Yg,FormData:Xg,Blob:Zg},protocols:["http","https","file","blob","url","data"]},Do=typeof window<"u"&&typeof document<"u",Ll=typeof navigator=="object"&&navigator||void 0,tj=Do&&(!Ll||["ReactNative","NativeScript","NS"].indexOf(Ll.product)<0),sj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nj=Do&&window.location.href||"http://localhost",aj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Do,hasStandardBrowserEnv:tj,hasStandardBrowserWebWorkerEnv:sj,navigator:Ll,origin:nj},Symbol.toStringTag,{value:"Module"})),Oe={...aj,...ej};function rj(t,s){return Jr(t,new Oe.classes.URLSearchParams,{visitor:function(n,a,r,i){return Oe.isNode&&W.isBuffer(n)?(this.append(a,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function ij(t){return W.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function lj(t){const s={},n=Object.keys(t);let a;const r=n.length;let i;for(a=0;a<r;a++)i=n[a],s[i]=t[i];return s}function cm(t){function s(n,a,r,i){let l=n[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=n.length;return l=!l&&W.isArray(r)?r.length:l,c?(W.hasOwnProp(r,l)?r[l]=[r[l],a]:r[l]=a,!o):((!r[l]||!W.isObject(r[l]))&&(r[l]=[]),s(n,a,r[l],i)&&W.isArray(r[l])&&(r[l]=lj(r[l])),!o)}if(W.isFormData(t)&&W.isFunction(t.entries)){const n={};return W.forEachEntry(t,(a,r)=>{s(ij(a),r,n,0)}),n}return null}function oj(t,s,n){if(W.isString(t))try{return(s||JSON.parse)(t),W.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(t)}const ga={transitional:om,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const a=n.getContentType()||"",r=a.indexOf("application/json")>-1,i=W.isObject(s);if(i&&W.isHTMLForm(s)&&(s=new FormData(s)),W.isFormData(s))return r?JSON.stringify(cm(s)):s;if(W.isArrayBuffer(s)||W.isBuffer(s)||W.isStream(s)||W.isFile(s)||W.isBlob(s)||W.isReadableStream(s))return s;if(W.isArrayBufferView(s))return s.buffer;if(W.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return rj(s,this.formSerializer).toString();if((o=W.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Jr(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),oj(s)):s}],transformResponse:[function(s){const n=this.transitional||ga.transitional,a=n&&n.forcedJSONParsing,r=this.responseType==="json";if(W.isResponse(s)||W.isReadableStream(s))return s;if(s&&W.isString(s)&&(a&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(s,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?ae.from(o,ae.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oe.classes.FormData,Blob:Oe.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],t=>{ga.headers[t]={}});const cj=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dj=t=>{const s={};let n,a,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),a=l.substring(r+1).trim(),!(!n||s[n]&&cj[n])&&(n==="set-cookie"?s[n]?s[n].push(a):s[n]=[a]:s[n]=s[n]?s[n]+", "+a:a)}),s},ad=Symbol("internals");function Tn(t){return t&&String(t).trim().toLowerCase()}function Ya(t){return t===!1||t==null?t:W.isArray(t)?t.map(Ya):String(t)}function uj(t){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(t);)s[a[1]]=a[2];return s}const hj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wi(t,s,n,a,r){if(W.isFunction(a))return a.call(this,s,n);if(r&&(s=n),!!W.isString(s)){if(W.isString(a))return s.indexOf(a)!==-1;if(W.isRegExp(a))return a.test(s)}}function mj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,a)=>n.toUpperCase()+a)}function pj(t,s){const n=W.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+n,{value:function(r,i,l){return this[a].call(this,s,r,i,l)},configurable:!0})})}let Xe=class{constructor(s){s&&this.set(s)}set(s,n,a){const r=this;function i(o,c,h){const p=Tn(c);if(!p)throw new Error("header name must be a non-empty string");const m=W.findKey(r,p);(!m||r[m]===void 0||h===!0||h===void 0&&r[m]!==!1)&&(r[m||c]=Ya(o))}const l=(o,c)=>W.forEach(o,(h,p)=>i(h,p,c));if(W.isPlainObject(s)||s instanceof this.constructor)l(s,n);else if(W.isString(s)&&(s=s.trim())&&!hj(s))l(dj(s),n);else if(W.isObject(s)&&W.isIterable(s)){let o={},c,h;for(const p of s){if(!W.isArray(p))throw TypeError("Object iterator must return a key-value pair");o[h=p[0]]=(c=o[h])?W.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}l(o,n)}else s!=null&&i(n,s,a);return this}get(s,n){if(s=Tn(s),s){const a=W.findKey(this,s);if(a){const r=this[a];if(!n)return r;if(n===!0)return uj(r);if(W.isFunction(n))return n.call(this,r,a);if(W.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=Tn(s),s){const a=W.findKey(this,s);return!!(a&&this[a]!==void 0&&(!n||wi(this,this[a],a,n)))}return!1}delete(s,n){const a=this;let r=!1;function i(l){if(l=Tn(l),l){const o=W.findKey(a,l);o&&(!n||wi(a,a[o],o,n))&&(delete a[o],r=!0)}}return W.isArray(s)?s.forEach(i):i(s),r}clear(s){const n=Object.keys(this);let a=n.length,r=!1;for(;a--;){const i=n[a];(!s||wi(this,this[i],i,s,!0))&&(delete this[i],r=!0)}return r}normalize(s){const n=this,a={};return W.forEach(this,(r,i)=>{const l=W.findKey(a,i);if(l){n[l]=Ya(r),delete n[i];return}const o=s?mj(i):String(i).trim();o!==i&&delete n[i],n[o]=Ya(r),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return W.forEach(this,(a,r)=>{a!=null&&a!==!1&&(n[r]=s&&W.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const a=new this(s);return n.forEach(r=>a.set(r)),a}static accessor(s){const a=(this[ad]=this[ad]={accessors:{}}).accessors,r=this.prototype;function i(l){const o=Tn(l);a[o]||(pj(r,l),a[o]=!0)}return W.isArray(s)?s.forEach(i):i(s),this}};Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Xe.prototype,({value:t},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[n]=a}}});W.freezeMethods(Xe);function Si(t,s){const n=this||ga,a=s||n,r=Xe.from(a.headers);let i=a.data;return W.forEach(t,function(o){i=o.call(n,i,r.normalize(),s?s.status:void 0)}),r.normalize(),i}function dm(t){return!!(t&&t.__CANCEL__)}function vn(t,s,n){ae.call(this,t??"canceled",ae.ERR_CANCELED,s,n),this.name="CanceledError"}W.inherits(vn,ae,{__CANCEL__:!0});function um(t,s,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?t(n):s(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fj(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function xj(t,s){t=t||10;const n=new Array(t),a=new Array(t);let r=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const h=Date.now(),p=a[i];l||(l=h),n[r]=c,a[r]=h;let m=i,f=0;for(;m!==r;)f+=n[m++],m=m%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),h-l<s)return;const g=p&&h-p;return g?Math.round(f*1e3/g):void 0}}function gj(t,s){let n=0,a=1e3/s,r,i;const l=(h,p=Date.now())=>{n=p,r=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const p=Date.now(),m=p-n;m>=a?l(h,p):(r=h,i||(i=setTimeout(()=>{i=null,l(r)},a-m)))},()=>r&&l(r)]}const Sr=(t,s,n=3)=>{let a=0;const r=xj(50,250);return gj(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-a,h=r(c),p=l<=o;a=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:h||void 0,estimated:h&&o&&p?(o-l)/h:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(m)},n)},rd=(t,s)=>{const n=t!=null;return[a=>s[0]({lengthComputable:n,total:t,loaded:a}),s[1]]},id=t=>(...s)=>W.asap(()=>t(...s)),jj=Oe.hasStandardBrowserEnv?((t,s)=>n=>(n=new URL(n,Oe.origin),t.protocol===n.protocol&&t.host===n.host&&(s||t.port===n.port)))(new URL(Oe.origin),Oe.navigator&&/(msie|trident)/i.test(Oe.navigator.userAgent)):()=>!0,yj=Oe.hasStandardBrowserEnv?{write(t,s,n,a,r,i,l){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(s)}`];W.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),W.isString(a)&&o.push(`path=${a}`),W.isString(r)&&o.push(`domain=${r}`),i===!0&&o.push("secure"),W.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Nj(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function hm(t,s,n){let a=!vj(s);return t&&(a||n==!1)?Nj(t,s):s}const ld=t=>t instanceof Xe?{...t}:t;function Ps(t,s){s=s||{};const n={};function a(h,p,m,f){return W.isPlainObject(h)&&W.isPlainObject(p)?W.merge.call({caseless:f},h,p):W.isPlainObject(p)?W.merge({},p):W.isArray(p)?p.slice():p}function r(h,p,m,f){if(W.isUndefined(p)){if(!W.isUndefined(h))return a(void 0,h,m,f)}else return a(h,p,m,f)}function i(h,p){if(!W.isUndefined(p))return a(void 0,p)}function l(h,p){if(W.isUndefined(p)){if(!W.isUndefined(h))return a(void 0,h)}else return a(void 0,p)}function o(h,p,m){if(m in s)return a(h,p);if(m in t)return a(void 0,h)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(h,p,m)=>r(ld(h),ld(p),m,!0)};return W.forEach(Object.keys({...t,...s}),function(p){const m=c[p]||r,f=m(t[p],s[p],p);W.isUndefined(f)&&m!==o||(n[p]=f)}),n}const mm=t=>{const s=Ps({},t);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:i,headers:l,auth:o}=s;if(s.headers=l=Xe.from(l),s.url=lm(hm(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),W.isFormData(n)){if(Oe.hasStandardBrowserEnv||Oe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(W.isFunction(n.getHeaders)){const c=n.getHeaders(),h=["content-type","content-length"];Object.entries(c).forEach(([p,m])=>{h.includes(p.toLowerCase())&&l.set(p,m)})}}if(Oe.hasStandardBrowserEnv&&(a&&W.isFunction(a)&&(a=a(s)),a||a!==!1&&jj(s.url))){const c=r&&i&&yj.read(i);c&&l.set(r,c)}return s},bj=typeof XMLHttpRequest<"u",kj=bj&&function(t){return new Promise(function(n,a){const r=mm(t);let i=r.data;const l=Xe.from(r.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:h}=r,p,m,f,g,j;function w(){g&&g(),j&&j(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function N(){if(!S)return;const x=Xe.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),v={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:x,config:t,request:S};um(function(U){n(U),w()},function(U){a(U),w()},v),S=null}"onloadend"in S?S.onloadend=N:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(N)},S.onabort=function(){S&&(a(new ae("Request aborted",ae.ECONNABORTED,t,S)),S=null)},S.onerror=function(y){const v=y&&y.message?y.message:"Network Error",T=new ae(v,ae.ERR_NETWORK,t,S);T.event=y||null,a(T),S=null},S.ontimeout=function(){let y=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const v=r.transitional||om;r.timeoutErrorMessage&&(y=r.timeoutErrorMessage),a(new ae(y,v.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,S)),S=null},i===void 0&&l.setContentType(null),"setRequestHeader"in S&&W.forEach(l.toJSON(),function(y,v){S.setRequestHeader(v,y)}),W.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),o&&o!=="json"&&(S.responseType=r.responseType),h&&([f,j]=Sr(h,!0),S.addEventListener("progress",f)),c&&S.upload&&([m,g]=Sr(c),S.upload.addEventListener("progress",m),S.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(p=x=>{S&&(a(!x||x.type?new vn(null,t,S):x),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const u=fj(r.url);if(u&&Oe.protocols.indexOf(u)===-1){a(new ae("Unsupported protocol "+u+":",ae.ERR_BAD_REQUEST,t));return}S.send(i||null)})},wj=(t,s)=>{const{length:n}=t=t?t.filter(Boolean):[];if(s||n){let a=new AbortController,r;const i=function(h){if(!r){r=!0,o();const p=h instanceof Error?h:this.reason;a.abort(p instanceof ae?p:new vn(p instanceof Error?p.message:p))}};let l=s&&setTimeout(()=>{l=null,i(new ae(`timeout ${s} of ms exceeded`,ae.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>W.asap(o),c}},Sj=function*(t,s){let n=t.byteLength;if(n<s){yield t;return}let a=0,r;for(;a<n;)r=a+s,yield t.slice(a,r),a=r},Cj=async function*(t,s){for await(const n of Rj(t))yield*Sj(n,s)},Rj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:n,value:a}=await s.read();if(n)break;yield a}}finally{await s.cancel()}},od=(t,s,n,a)=>{const r=Cj(t,s);let i=0,l,o=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:h,value:p}=await r.next();if(h){o(),c.close();return}let m=p.byteLength;if(n){let f=i+=m;n(f)}c.enqueue(new Uint8Array(p))}catch(h){throw o(h),h}},cancel(c){return o(c),r.return()}},{highWaterMark:2})},cd=64*1024,{isFunction:_a}=W,Aj=(({Request:t,Response:s})=>({Request:t,Response:s}))(W.global),{ReadableStream:dd,TextEncoder:ud}=W.global,hd=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Ej=t=>{t=W.merge.call({skipUndefined:!0},Aj,t);const{fetch:s,Request:n,Response:a}=t,r=s?_a(s):typeof fetch=="function",i=_a(n),l=_a(a);if(!r)return!1;const o=r&&_a(dd),c=r&&(typeof ud=="function"?(j=>w=>j.encode(w))(new ud):async j=>new Uint8Array(await new n(j).arrayBuffer())),h=i&&o&&hd(()=>{let j=!1;const w=new n(Oe.origin,{body:new dd,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!w}),p=l&&o&&hd(()=>W.isReadableStream(new a("").body)),m={stream:p&&(j=>j.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!m[j]&&(m[j]=(w,S)=>{let N=w&&w[j];if(N)return N.call(w);throw new ae(`Response type '${j}' is not supported`,ae.ERR_NOT_SUPPORT,S)})});const f=async j=>{if(j==null)return 0;if(W.isBlob(j))return j.size;if(W.isSpecCompliantForm(j))return(await new n(Oe.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(W.isArrayBufferView(j)||W.isArrayBuffer(j))return j.byteLength;if(W.isURLSearchParams(j)&&(j=j+""),W.isString(j))return(await c(j)).byteLength},g=async(j,w)=>{const S=W.toFiniteNumber(j.getContentLength());return S??f(w)};return async j=>{let{url:w,method:S,data:N,signal:u,cancelToken:x,timeout:y,onDownloadProgress:v,onUploadProgress:T,responseType:U,headers:q,withCredentials:D="same-origin",fetchOptions:M}=mm(j),z=s||fetch;U=U?(U+"").toLowerCase():"text";let L=wj([u,x&&x.toAbortSignal()],y),C=null;const E=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let A;try{if(T&&h&&S!=="get"&&S!=="head"&&(A=await g(q,N))!==0){let I=new n(w,{method:"POST",body:N,duplex:"half"}),F;if(W.isFormData(N)&&(F=I.headers.get("content-type"))&&q.setContentType(F),I.body){const[Q,$]=rd(A,Sr(id(T)));N=od(I.body,cd,Q,$)}}W.isString(D)||(D=D?"include":"omit");const R=i&&"credentials"in n.prototype,P={...M,signal:L,method:S.toUpperCase(),headers:q.normalize().toJSON(),body:N,duplex:"half",credentials:R?D:void 0};C=i&&new n(w,P);let O=await(i?z(C,M):z(w,P));const k=p&&(U==="stream"||U==="response");if(p&&(v||k&&E)){const I={};["status","statusText","headers"].forEach(b=>{I[b]=O[b]});const F=W.toFiniteNumber(O.headers.get("content-length")),[Q,$]=v&&rd(F,Sr(id(v),!0))||[];O=new a(od(O.body,cd,Q,()=>{$&&$(),E&&E()}),I)}U=U||"text";let _=await m[W.findKey(m,U)||"text"](O,j);return!k&&E&&E(),await new Promise((I,F)=>{um(I,F,{data:_,headers:Xe.from(O.headers),status:O.status,statusText:O.statusText,config:j,request:C})})}catch(R){throw E&&E(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,j,C),{cause:R.cause||R}):ae.from(R,R&&R.code,j,C)}}},Tj=new Map,pm=t=>{let s=t&&t.env||{};const{fetch:n,Request:a,Response:r}=s,i=[a,r,n];let l=i.length,o=l,c,h,p=Tj;for(;o--;)c=i[o],h=p.get(c),h===void 0&&p.set(c,h=o?new Map:Ej(s)),p=h;return h};pm();const Fo={http:Gg,xhr:kj,fetch:{get:pm}};W.forEach(Fo,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const md=t=>`- ${t}`,Lj=t=>W.isFunction(t)||t===null||t===!1;function Ij(t,s){t=W.isArray(t)?t:[t];const{length:n}=t;let a,r;const i={};for(let l=0;l<n;l++){a=t[l];let o;if(r=a,!Lj(a)&&(r=Fo[(o=String(a)).toLowerCase()],r===void 0))throw new ae(`Unknown adapter '${o}'`);if(r&&(W.isFunction(r)||(r=r.get(s))))break;i[o||"#"+l]=r}if(!r){const l=Object.entries(i).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let o=n?l.length>1?`since :
`+l.map(md).join(`
`):" "+md(l[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r}const fm={getAdapter:Ij,adapters:Fo};function Ci(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vn(null,t)}function pd(t){return Ci(t),t.headers=Xe.from(t.headers),t.data=Si.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fm.getAdapter(t.adapter||ga.adapter,t)(t).then(function(a){return Ci(t),a.data=Si.call(t,t.transformResponse,a),a.headers=Xe.from(a.headers),a},function(a){return dm(a)||(Ci(t),a&&a.response&&(a.response.data=Si.call(t,t.transformResponse,a.response),a.response.headers=Xe.from(a.response.headers))),Promise.reject(a)})}const xm="1.13.2",Kr={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Kr[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const fd={};Kr.transitional=function(s,n,a){function r(i,l){return"[Axios v"+xm+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(s===!1)throw new ae(r(l," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!fd[l]&&(fd[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(i,l,o):!0}};Kr.spelling=function(s){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function Pj(t,s,n){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let r=a.length;for(;r-- >0;){const i=a[r],l=s[i];if(l){const o=t[i],c=o===void 0||l(o,i,t);if(c!==!0)throw new ae("option "+i+" must be "+c,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+i,ae.ERR_BAD_OPTION)}}const Xa={assertOptions:Pj,validators:Kr},bt=Xa.validators;let Rs=class{constructor(s){this.defaults=s||{},this.interceptors={request:new nd,response:new nd}}async request(s,n){try{return await this._request(s,n)}catch(a){if(a instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=Ps(this.defaults,n);const{transitional:a,paramsSerializer:r,headers:i}=n;a!==void 0&&Xa.assertOptions(a,{silentJSONParsing:bt.transitional(bt.boolean),forcedJSONParsing:bt.transitional(bt.boolean),clarifyTimeoutError:bt.transitional(bt.boolean)},!1),r!=null&&(W.isFunction(r)?n.paramsSerializer={serialize:r}:Xa.assertOptions(r,{encode:bt.function,serialize:bt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Xa.assertOptions(n,{baseUrl:bt.spelling("baseURL"),withXsrfToken:bt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&W.merge(i.common,i[n.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],j=>{delete i[j]}),n.headers=Xe.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,m=0,f;if(!c){const j=[pd.bind(this),void 0];for(j.unshift(...o),j.push(...h),f=j.length,p=Promise.resolve(n);m<f;)p=p.then(j[m++],j[m++]);return p}f=o.length;let g=n;for(;m<f;){const j=o[m++],w=o[m++];try{g=j(g)}catch(S){w.call(this,S);break}}try{p=pd.call(this,g)}catch(j){return Promise.reject(j)}for(m=0,f=h.length;m<f;)p=p.then(h[m++],h[m++]);return p}getUri(s){s=Ps(this.defaults,s);const n=hm(s.baseURL,s.url,s.allowAbsoluteUrls);return lm(n,s.params,s.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(s){Rs.prototype[s]=function(n,a){return this.request(Ps(a||{},{method:s,url:n,data:(a||{}).data}))}});W.forEach(["post","put","patch"],function(s){function n(a){return function(i,l,o){return this.request(Ps(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Rs.prototype[s]=n(),Rs.prototype[s+"Form"]=n(!0)});let Dj=class gm{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const a=this;this.promise.then(r=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](r);a._listeners=null}),this.promise.then=r=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(r);return l.cancel=function(){a.unsubscribe(i)},l},s(function(i,l,o){a.reason||(a.reason=new vn(i,l,o),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=a=>{s.abort(a)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new gm(function(r){s=r}),cancel:s}}};function Fj(t){return function(n){return t.apply(null,n)}}function _j(t){return W.isObject(t)&&t.isAxiosError===!0}const Il={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Il).forEach(([t,s])=>{Il[s]=t});function jm(t){const s=new Rs(t),n=Jh(Rs.prototype.request,s);return W.extend(n,Rs.prototype,s,{allOwnKeys:!0}),W.extend(n,s,null,{allOwnKeys:!0}),n.create=function(r){return jm(Ps(t,r))},n}const Se=jm(ga);Se.Axios=Rs;Se.CanceledError=vn;Se.CancelToken=Dj;Se.isCancel=dm;Se.VERSION=xm;Se.toFormData=Jr;Se.AxiosError=ae;Se.Cancel=Se.CanceledError;Se.all=function(s){return Promise.all(s)};Se.spread=Fj;Se.isAxiosError=_j;Se.mergeConfig=Ps;Se.AxiosHeaders=Xe;Se.formToJSON=t=>cm(W.isHTMLForm(t)?new FormData(t):t);Se.getAdapter=fm.getAdapter;Se.HttpStatusCode=Il;Se.default=Se;const{Axios:wN,AxiosError:SN,CanceledError:CN,isCancel:RN,CancelToken:AN,VERSION:EN,all:TN,Cancel:LN,isAxiosError:IN,spread:PN,toFormData:DN,AxiosHeaders:FN,HttpStatusCode:_N,formToJSON:UN,getAdapter:ON,mergeConfig:qN}=Se,Uj="http://localhost:3000",ne=Se.create({baseURL:Uj,headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}});ne.interceptors.request.use(t=>{const s=localStorage.getItem("accessToken");return s&&(t.headers.Authorization=`Bearer ${s}`),t});const Oj=ne;async function qj(t,s){return(await Oj.post("/auth/login",{email:t,password:s})).data}const ym=d.createContext(null);function vm(t){try{const s=t.split(".")[1];return JSON.parse(window.atob(s))}catch{return null}}function xd(t){const s=vm(t);if(!(s!=null&&s.sub)||!(s!=null&&s.roles)||!Array.isArray(s.roles))throw new Error("Invalid token payload");return{id:s.sub,role:s.roles[0]}}function gd(t){const s=vm(t);return s!=null&&s.exp?Date.now()>=s.exp*1e3:!1}function Mj({children:t}){const[s,n]=d.useState(null),[a,r]=d.useState(!0),[i,l]=d.useState(!1);d.useEffect(()=>{const h=localStorage.getItem("accessToken");if(h)try{if(gd(h)){localStorage.clear(),n(null),l(!0),setTimeout(()=>l(!1),5e3),window.location.replace("/login");return}const p=xd(h);n(p)}catch{localStorage.clear(),n(null)}r(!1)},[]),d.useEffect(()=>{if(!s)return;const p=setInterval(()=>{const m=localStorage.getItem("accessToken");(!m||gd(m))&&(localStorage.clear(),n(null),l(!0),setTimeout(()=>l(!1),5e3),window.location.replace("/login"))},3e4);return()=>clearInterval(p)},[s]);const o=async(h,p)=>{r(!0);try{const m=await qj(h,p);localStorage.setItem("accessToken",m.accessToken),localStorage.setItem("refreshToken",m.refreshToken);const f=xd(m.accessToken);return n(f),f.role}catch(m){throw localStorage.clear(),n(null),m}finally{r(!1)}},c=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),n(null),window.location.replace("/login")};return e.jsx(ym.Provider,{value:{user:s,loading:a,isAuthenticated:!!s,login:o,logout:c,showSessionExpiredMessage:i,setShowSessionExpiredMessage:l},children:t})}function gs(){const t=d.useContext(ym);if(!t)throw new Error("useAuthContext must be used inside AuthProvider");return t}const Bj={super_admin:"/super-admin/dashboard",sub_admin:"/sub-admin/dashboard",website_researcher:"/researcher/website/dashboard",linkedin_researcher:"/researcher/linkedin/dashboard",website_inquirer:"/inquirer/website/dashboard",linkedin_inquirer:"/inquirer/linkedin/dashboard",website_inquirer_auditor:"/auditor/website/dashboard",linkedin_inquirer_auditor:"/auditor/linkedin/dashboard",website_research_auditor:"/auditor-researcher/website/pending",linkedin_research_auditor:"/auditor-researcher/linkedin/pending"};function zj(){const{login:t,loading:s}=gs(),n=it(),[a,r]=d.useState(""),[i,l]=d.useState(""),[o,c]=d.useState(""),[h,p]=d.useState(""),m=async f=>{f.preventDefault(),c(""),p("");try{const g=await t(a,i);p("Authentication successful. Redirecting");const j=Bj[g];if(!j){c(`No redirect configured for role: ${g}`);return}setTimeout(()=>{n(j,{replace:!0})},300)}catch{c("Invalid credentials. Please check and try again.")}};return e.jsx("div",{className:"auth-wrapper",children:e.jsxs("div",{className:"auth-card",children:[e.jsxs("div",{className:"auth-header",children:[e.jsx("div",{className:"auth-logo-icon",children:"B2B"}),e.jsx("h1",{children:"Workforce Portal"}),e.jsx("p",{children:"Task Verification & Control System"})]}),e.jsxs("form",{className:"auth-form",onSubmit:m,children:[o&&e.jsx("div",{className:"auth-error-message",children:o}),h&&e.jsx("div",{className:"auth-success-message",children:h}),e.jsxs("div",{className:"auth-field",children:[e.jsx("label",{htmlFor:"email",children:"Work Email"}),e.jsx("input",{id:"email",type:"email",placeholder:"nicolas@company.com",value:a,onChange:f=>r(f.target.value),required:!0})]}),e.jsxs("div",{className:"auth-field",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{id:"password",type:"password",placeholder:"",value:i,onChange:f=>l(f.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"btn-auth-primary",disabled:s,children:s?"Authenticating":"Sign In"})]}),e.jsxs("div",{className:"auth-footer",children:[e.jsx("p",{children:" 2026 B2B System Core"}),e.jsx("span",{className:"auth-version",children:"v1.0.4"})]})]})})}function kt({allowedRoles:t}){const{isAuthenticated:s,loading:n,user:a}=gs(),r=zt();return n?e.jsx("div",{style:{padding:40},children:"Loading..."}):s?t&&(!a||!t.includes(a.role))?e.jsx(We,{to:"/forbidden",replace:!0,state:{from:r.pathname}}):e.jsx(Lo,{}):e.jsx(We,{to:"/login",replace:!0})}function $j(){const t=it();return e.jsx("div",{className:"forbidden-wrapper",children:e.jsxs("div",{className:"forbidden-content",children:[e.jsx("div",{className:"forbidden-icon",children:""}),e.jsx("h1",{className:"forbidden-title",children:"403  Access Denied"}),e.jsx("p",{className:"forbidden-text",children:"You do not have the required permissions to view this section. If you believe this is an error, please contact the Super Admin."}),e.jsx("button",{onClick:()=>t("/"),className:"btn-home-link",children:"Go Back to Previous Page"})]})})}function Wj(){const{user:t}=gs(),s=(t==null?void 0:t.role)??"",n=s==="super_admin",a=s==="sub_admin",r=n||a,i=s.includes("researcher"),l=s.includes("inquirer"),o=s.includes("auditor");s.includes("website"),s.includes("linkedin");const c=()=>r?"/super-admin":o?"/auditor":"/worker",h=()=>n?"/super-admin/messages":a?"/sub-admin/messages":s==="website_researcher"?"/researcher/website/messages":s==="linkedin_researcher"?"/researcher/linkedin/messages":s==="website_inquirer"?"/inquirer/website/messages":s==="linkedin_inquirer"?"/inquirer/linkedin/messages":s==="website_inquirer_auditor"?"/auditor/website/messages":s==="linkedin_inquirer_auditor"?"/auditor/linkedin/messages":s==="website_research_auditor"?"/auditor-researcher/website/messages":s==="linkedin_research_auditor"?"/auditor-researcher/linkedin/messages":"/messages",p=c(),m=h(),f=s.replace(/_/g," ").toUpperCase(),g=s.split("_").map(j=>j[0]).join("").toUpperCase();return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:r?"SA":g}),e.jsx("span",{children:f})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(Z,{to:`${p}/dashboard`,className:"sa-link",children:"Dashboard"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sa-section",children:"USERS"}),e.jsx(Z,{to:"/super-admin/users",className:"sa-link",children:"All Users"}),e.jsx(Z,{to:"/super-admin/users/create",className:"sa-link",children:"Create User"}),e.jsx("div",{className:"sa-section",children:"CATEGORIES"}),e.jsx(Z,{to:"/super-admin/categories",className:"sa-link",children:"Categories"}),e.jsx(Z,{to:"/super-admin/user-categories",className:"sa-link",children:"Assign Users"}),e.jsx(Z,{to:"/super-admin/category-rules",className:"sa-link",children:"Rules"}),e.jsx("div",{className:"sa-section",children:"SYSTEM"}),e.jsx(Z,{to:"/super-admin/action-config",className:"sa-link",children:"Config"}),e.jsx(Z,{to:"/super-admin/company-blacklist",className:"sa-link",children:"Company Blacklist"}),e.jsx(Z,{to:"/super-admin/disapproval-reasons",className:"sa-link",children:"Rejection Reasons"}),e.jsx(Z,{to:"/super-admin/company-types",className:"sa-link",children:"Company Types"}),e.jsx(Z,{to:"/super-admin/job-types",className:"sa-link",children:"Job Types"}),e.jsx(Z,{to:"/super-admin/pricing",className:"sa-link",children:"Pricing"}),e.jsx(Z,{to:"/super-admin/role-performance",className:"sa-link",children:"Role Performance"}),e.jsx(Z,{to:"/super-admin/logs",className:"sa-link",children:"Logs"}),e.jsx("div",{className:"sa-section",children:"COMMUNICATION"}),e.jsx(Z,{to:`${n?"/super-admin":"/sub-admin"}/notices`,className:"sa-link",children:"Notices"}),e.jsx(Z,{to:`${n?"/super-admin":"/sub-admin"}/messages`,className:"sa-link",children:"Messages"})]}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sa-section",children:"RESEARCHER TOOLS"}),e.jsx(Z,{to:"/worker/research/tasks",className:"sa-link",children:"Available Tasks"}),e.jsx(Z,{to:"/worker/research/duplicates",className:"sa-link",children:"Check Duplicates"}),e.jsx(Z,{to:"/worker/history",className:"sa-link",children:"My Submissions"}),e.jsx(Z,{to:"/worker/ranking",className:"sa-link",children:"Top 3 Ranking"}),e.jsx(Z,{to:m,className:"sa-link",children:"Messages"})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sa-section",children:"INQUIRY PIPELINE"}),e.jsx(Z,{to:"/worker/inquiry/tasks",className:"sa-link",children:"Active Outreach"}),e.jsx(Z,{to:"/worker/uploads",className:"sa-link",children:"Evidence (Screenshots)"}),e.jsx(Z,{to:"/worker/ranking",className:"sa-link",children:"Top 3 Ranking"}),e.jsx(Z,{to:m,className:"sa-link",children:"Messages"})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sa-section",children:"VERIFICATION"}),e.jsx(Z,{to:"/auditor/pending",className:"sa-link",children:"Review Queue"}),e.jsx(Z,{to:"/auditor/flags",className:"sa-link",children:"Fraud Detection"}),e.jsx(Z,{to:"/auditor/history",className:"sa-link",children:"Audit History"}),e.jsx(Z,{to:m,className:"sa-link",children:"Messages"})]})]})]})}function Vj(){const{user:t,logout:s}=gs();return e.jsxs("div",{className:"sa-shell",children:[e.jsx(Wj,{}),e.jsxs("div",{className:"sa-main",children:[e.jsxs("header",{className:"sa-topbar",children:[e.jsxs("span",{className:"sa-topbar-title",children:[t==null?void 0:t.role.replace("_"," ").toUpperCase()," PANEL"]}),e.jsxs("div",{className:"sa-topbar-actions",children:[e.jsx("span",{className:"user-email-topbar",children:t==null?void 0:t.id}),e.jsx("button",{className:"sa-logout-btn",onClick:s,children:"Logout"})]})]}),e.jsx("main",{className:"sa-content",children:e.jsx(Lo,{})})]})]})}function $t({sidebar:t,title:s}){const{user:n,logout:a}=gs();return e.jsxs("div",{className:"sa-shell",children:[t,e.jsxs("div",{className:"sa-main",children:[e.jsxs("header",{className:"sa-topbar",children:[e.jsx("span",{className:"sa-topbar-title",children:s}),e.jsxs("div",{className:"sa-topbar-actions",children:[e.jsx("span",{className:"user-email-topbar",children:n==null?void 0:n.id}),e.jsx("button",{className:"sa-logout-btn",onClick:a,children:"Logout"})]})]}),e.jsx("main",{className:"sa-content",children:e.jsx(Lo,{})})]})]})}function Hj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"SA"}),e.jsx("span",{children:"SUB ADMIN"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx("span",{className:"sa-section",children:"Dashboard"}),e.jsx(Z,{to:"/sub-admin/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx("span",{className:"sa-section",children:"Management"}),e.jsx(Z,{to:"/sub-admin/users",className:"sa-link",children:"Users"}),e.jsx(Z,{to:"/sub-admin/company-types",className:"sa-link",children:"Company Types"}),e.jsx(Z,{to:"/sub-admin/job-types",className:"sa-link",children:"Job Types"}),e.jsx(Z,{to:"/sub-admin/disapproval-reasons",className:"sa-link",children:"Disapproval Reasons"}),e.jsx(Z,{to:"/sub-admin/daily-limits",className:"sa-link",children:"Daily Limits"}),e.jsx(Z,{to:"/sub-admin/create-tasks",className:"sa-link",children:"Create Tasks"}),e.jsx("span",{className:"sa-section",children:"Research"}),e.jsx(Z,{to:"/sub-admin/research/website",className:"sa-link",children:"Website Research"}),e.jsx(Z,{to:"/sub-admin/research/linkedin",className:"sa-link",children:"LinkedIn Research"}),e.jsx("span",{className:"sa-section",children:"Inquiry"}),e.jsx(Z,{to:"/sub-admin/inquiry/website",className:"sa-link",children:"Website Inquiry"}),e.jsx(Z,{to:"/sub-admin/inquiry/linkedin",className:"sa-link",children:"LinkedIn Inquiry"}),e.jsx("span",{className:"sa-section",children:"Audit"}),e.jsx(Z,{to:"/sub-admin/audit/website-research",className:"sa-link",children:"Website Research Auditor"}),e.jsx(Z,{to:"/sub-admin/audit/linkedin-research",className:"sa-link",children:"LinkedIn Research Auditor"}),e.jsx(Z,{to:"/sub-admin/audit/website-inquiry",className:"sa-link",children:"Website Inquirer Auditor"}),e.jsx(Z,{to:"/sub-admin/audit/linkedin-inquiry",className:"sa-link",children:"LinkedIn Inquirer Auditor"}),e.jsx("span",{className:"sa-section",children:"Analytics"}),e.jsx(Z,{to:"/sub-admin/performance",className:"sa-link",children:"Performance"}),e.jsx(Z,{to:"/sub-admin/top-workers",className:"sa-link",children:"Top Workers"}),e.jsx("span",{className:"sa-section",children:"Communication"}),e.jsx(Z,{to:"/sub-admin/notices",className:"sa-link",children:"Notices"}),e.jsx(Z,{to:"/sub-admin/messages",className:"sa-link",children:"Messages"})]})]})}function Gj(){return e.jsx($t,{title:"Sub Admin Panel",sidebar:e.jsx(Hj,{})})}function Qj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"WR"}),e.jsx("span",{children:"WEBSITE RESEARCHER"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(Z,{to:"/researcher/website/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(Z,{to:"/researcher/website/tasks",className:"sa-link",children:"Tasks"})]})]})}function Jj(){return e.jsx($t,{title:"Website Researcher",sidebar:e.jsx(Qj,{})})}function Kj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"LR"}),e.jsx("span",{children:"LINKEDIN RESEARCHER"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(Z,{to:"/researcher/linkedin/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(Z,{to:"/researcher/linkedin/tasks",className:"sa-link",children:"Tasks"})]})]})}function Yj(){return e.jsx($t,{title:"LinkedIn Researcher",sidebar:e.jsx(Kj,{})})}function Xj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"WI"}),e.jsx("span",{children:"WEBSITE INQUIRER"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(Z,{to:"/inquirer/website/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(Z,{to:"/inquirer/website/tasks",className:"sa-link",children:"Tasks"}),e.jsx(Z,{to:"/inquirer/website/uploads",className:"sa-link",children:"Uploads"})]})]})}function Zj(){return e.jsx($t,{title:"Website Inquirer",sidebar:e.jsx(Xj,{})})}function ey(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"LI"}),e.jsx("span",{children:"LINKEDIN INQUIRER"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(Z,{to:"/inquirer/linkedin/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(Z,{to:"/inquirer/linkedin/tasks",className:"sa-link",children:"Tasks"}),e.jsx(Z,{to:"/inquirer/linkedin/uploads",className:"sa-link",children:"Uploads"})]})]})}function ty(){return e.jsx($t,{title:"LinkedIn Inquirer",sidebar:e.jsx(ey,{})})}function sy(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"WA"}),e.jsx("span",{children:"WEBSITE AUDITOR"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(Z,{to:"/auditor/website/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(Z,{to:"/auditor/website/pending",className:"sa-link",children:"Pending"})]})]})}function ny(){return e.jsx($t,{title:"Website Auditor",sidebar:e.jsx(sy,{})})}function ay(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"LA"}),e.jsx("span",{children:"LINKEDIN AUDITOR"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(Z,{to:"/auditor/linkedin/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(Z,{to:"/auditor/linkedin/pending",className:"sa-link",children:"Pending"})]})]})}function ry(){return e.jsx($t,{title:"LinkedIn Auditor",sidebar:e.jsx(ay,{})})}function iy(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"WRA"}),e.jsx("span",{children:"WEBSITE RESEARCH AUDITOR"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(Z,{to:"/auditor-researcher/website/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(Z,{to:"/auditor-researcher/website/pending",className:"sa-link",children:"Pending"})]})]})}function ly(){return e.jsx($t,{title:"Website Research Auditor",sidebar:e.jsx(iy,{})})}function oy(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"LRA"}),e.jsx("span",{children:"LINKEDIN RESEARCH AUDITOR"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(Z,{to:"/auditor-researcher/linkedin/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(Z,{to:"/auditor-researcher/linkedin/pending",className:"sa-link",children:"Pending"})]})]})}function cy(){return e.jsx($t,{title:"LinkedIn Research Auditor",sidebar:e.jsx(oy,{})})}const dy="http://localhost:3000",X=Se.create({baseURL:dy,headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}});X.interceptors.request.use(t=>{const s=localStorage.getItem("accessToken");return console.log("[axios interceptor] URL:",t.url),console.log("[axios interceptor] Token in localStorage:",s?"YES":"NO"),s?(t.headers.Authorization=`Bearer ${s}`,console.log("[axios interceptor] Setting Authorization header: Bearer",s.substring(0,20)+"...")):console.log("[axios interceptor] NO TOKEN FOUND - Authorization header NOT set"),console.log("[axios interceptor] Final headers.Authorization:",t.headers.Authorization?"PRESENT":"MISSING"),t});async function uy(){return(await X.get("/admin/dashboard")).data}async function ja(){return(await X.get("/admin/categories")).data}async function hy(){return(await X.get("/admin/top-workers")).data}async function my(){return(await X.get("/admin/system-logs")).data}async function _o(t){return(await X.get("/admin/users",{params:t})).data}async function py(){return(await X.get("/admin/users/stats")).data}async function fy(t){return(await X.post("/users",t)).data}async function Ri(t,s){return(await X.patch(`/admin/users/${t}/status`,{status:s})).data}async function xy(t,s){return(await X.patch(`/admin/users/${t}/profile`,s)).data}async function jd(t,s){return(await X.post(`/admin/users/${t}/reset-password`,s?{password:s}:{})).data}async function yd(t){return(await X.delete(`/admin/users/${t}`)).data}async function gy(t){return(await X.post("/categories",t)).data}async function jy(t,s){return(await X.patch(`/categories/${t}`,s)).data}async function yy(t){return(await X.delete(`/categories/${t}`)).data}async function vy(){return(await X.get("/admin/category-rules")).data}async function Ny(t){return(await X.post("/admin/category-rules",t)).data}async function by(t,s){return(await X.patch(`/admin/category-rules/${t}`,s)).data}async function ky(t){return(await X.patch(`/admin/category-rules/${t}/toggle-status`)).data}async function wy(t){return(await X.delete(`/admin/category-rules/${t}`)).data}async function Sy(t,s){return(await X.post("/admin/users/assign-categories",{userId:t,categoryIds:s})).data}async function Cy(t){return(await X.get(`/admin/users/${t}/categories`)).data}function ie({title:t,value:s,variant:n="default"}){return e.jsx("div",{className:`stat-card ${n}`,children:e.jsxs("div",{className:"stat-card-info",children:[e.jsx("h4",{className:"stat-card-title",children:t}),e.jsx("span",{className:"stat-card-value",children:s})]})})}function Ry(){const[t,s]=d.useState(null),[n,a]=d.useState([]),[r,i]=d.useState(null),[l,o]=d.useState([]),[c,h]=d.useState(!0);if(d.useEffect(()=>{Promise.all([uy().then(s),ja().then(a),hy().then(i),my().then(o)]).finally(()=>h(!1))},[]),c)return e.jsx("div",{className:"page-loader",children:"Loading System..."});const p=m=>{var f;return!m||!((f=m.cooldownRules)!=null&&f.cooldownDays)?"No cooldowns":`${m.cooldownRules.cooldownDays} days`};return e.jsxs("div",{className:"sa-container",children:[e.jsxs("header",{className:"sa-header-banner",children:[e.jsxs("div",{className:"sa-header-content",children:[e.jsx("h1",{children:"Super Admin Control Center"}),e.jsx("p",{children:"Global monitoring, rule enforcement and workforce productivity"})]}),e.jsx("span",{className:"sa-live-indicator",children:"SYSTEM LIVE"})]}),e.jsxs("section",{className:"sa-stats-grid",children:[e.jsx(ie,{title:"Total Users",value:(t==null?void 0:t.totalUsers)??0}),e.jsx(ie,{title:"Total Researchers",value:(t==null?void 0:t.totalResearchers)??0}),e.jsx(ie,{title:"Total Inquirers",value:(t==null?void 0:t.totalInquirers)??0}),e.jsx(ie,{title:"Total Auditors",value:(t==null?void 0:t.totalAuditors)??0}),e.jsx(ie,{title:"Actions Submitted",value:(t==null?void 0:t.totalActionsSubmitted)??0}),e.jsx(ie,{title:"Actions Approved",value:(t==null?void 0:t.totalActionsApproved)??0}),e.jsx(ie,{title:"Actions Rejected",value:(t==null?void 0:t.totalActionsRejected)??0}),e.jsx(ie,{title:"Approval Rate %",value:`${(t==null?void 0:t.approvalRate)??0}%`})]}),e.jsxs("div",{className:"sa-main-layout",children:[e.jsxs("div",{className:"sa-layout-column",children:[e.jsxs("div",{className:"sa-card",children:[e.jsx("div",{className:"sa-card-header",children:e.jsx("h3",{children:"Quick Actions"})}),e.jsxs("div",{className:"quick-grid",children:[e.jsx("button",{className:"btn-action-tile",children:"Add User"}),e.jsx("button",{className:"btn-action-tile",children:"Add Category"}),e.jsx("button",{className:"btn-action-tile",children:"Set Pricing"}),e.jsx("button",{className:"btn-action-tile",children:"Export Data"})]})]}),e.jsxs("div",{className:"sa-card",children:[e.jsx("div",{className:"sa-card-header",children:e.jsx("h3",{children:"Categories Overview"})}),e.jsx("div",{className:"ranking-table-wrapper",children:e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Total Actions"}),e.jsx("th",{children:"Approved"}),e.jsx("th",{children:"Rejected"}),e.jsx("th",{children:"Cooldown Rules"})]})}),e.jsx("tbody",{children:n.length?n.map(m=>e.jsxs("tr",{children:[e.jsx("td",{children:m.name}),e.jsx("td",{children:m.totalActions}),e.jsx("td",{children:m.approvedActions}),e.jsx("td",{children:m.rejectedActions}),e.jsx("td",{children:p(m.config)})]},m.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,children:"No categories yet"})})})]})})]}),e.jsxs("div",{className:"sa-card",children:[e.jsxs("div",{className:"sa-card-header",children:[e.jsx("h3",{children:"Active Rules"}),e.jsx("button",{className:"btn-link",children:"Edit Rules"})]}),e.jsxs("div",{className:"rules-scroll-container",children:[e.jsxs("div",{className:"rule-row",children:[e.jsxs("div",{className:"rule-info",children:[e.jsx("strong",{children:"Cooldown"}),e.jsx("span",{children:"30 days"})]}),e.jsx("span",{className:"status-tag",children:"Active"})]}),e.jsxs("div",{className:"rule-row",children:[e.jsxs("div",{className:"rule-info",children:[e.jsx("strong",{children:"Screenshot Hashing"}),e.jsx("span",{children:"Enabled"})]}),e.jsx("span",{className:"status-tag",children:"Active"})]}),e.jsxs("div",{className:"rule-row",children:[e.jsxs("div",{className:"rule-info",children:[e.jsx("strong",{children:"New Worker Audit"}),e.jsx("span",{children:"100%"})]}),e.jsx("span",{className:"status-tag",children:"Active"})]})]})]}),e.jsxs("div",{className:"sa-card",children:[e.jsx("div",{className:"sa-card-header",children:e.jsx("h3",{children:"Top Workers by Approved Count"})}),e.jsxs("div",{className:"ranking-table-wrapper",children:[e.jsx("h4",{children:"Researchers"}),e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rank"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Count"})]})}),e.jsx("tbody",{children:r!=null&&r.researchers.length?r.researchers.map((m,f)=>e.jsxs("tr",{children:[e.jsx("td",{children:f+1}),e.jsx("td",{children:m.userId}),e.jsx("td",{children:m.count})]},m.userId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,children:"No ranking data yet"})})})]}),e.jsx("h4",{children:"Inquirers"}),e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rank"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Count"})]})}),e.jsx("tbody",{children:r!=null&&r.inquirers.length?r.inquirers.map((m,f)=>e.jsxs("tr",{children:[e.jsx("td",{children:f+1}),e.jsx("td",{children:m.userId}),e.jsx("td",{children:m.count})]},m.userId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,children:"No ranking data yet"})})})]}),e.jsx("h4",{children:"Auditors"}),e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rank"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Count"})]})}),e.jsx("tbody",{children:r!=null&&r.auditors.length?r.auditors.map((m,f)=>e.jsxs("tr",{children:[e.jsx("td",{children:f+1}),e.jsx("td",{children:m.userId}),e.jsx("td",{children:m.count})]},m.userId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,children:"No ranking data yet"})})})]})]})]})]}),e.jsx("div",{className:"sa-layout-column",children:e.jsxs("div",{className:"sa-card sa-full-height",children:[e.jsxs("div",{className:"sa-card-header",children:[e.jsx("h3",{children:"System Activity Logs"}),e.jsx("button",{className:"btn-link",children:"View All Logs"})]}),e.jsx("div",{className:"activity-feed",children:l.length?l.map(m=>{var f,g;return e.jsxs("div",{className:"activity-item",children:[e.jsx("div",{className:`status-indicator ${m.status||((f=m.decision)==null?void 0:f.toLowerCase())||"pending"}`}),e.jsxs("div",{className:"activity-content",children:[e.jsxs("div",{className:"activity-main",children:[e.jsx("strong",{children:m.type==="action"?`Action ${m.status}`:`Audit ${m.decision}`}),e.jsx("span",{className:`badge-status ${m.status||((g=m.decision)==null?void 0:g.toLowerCase())||"pending"}`,children:(m.status||m.decision||"pending").toUpperCase()})]}),e.jsxs("div",{className:"activity-sub",children:[e.jsxs("span",{children:["User: ",m.performedByUserId||m.auditorUserId]}),e.jsx("span",{className:"separator",children:"|"}),e.jsx("span",{children:new Date(m.createdAt).toLocaleString()})]})]}),e.jsx("div",{className:"activity-actions",children:e.jsx("button",{className:"btn-process",children:"View"})})]},m.id)}):e.jsx("div",{className:"activity-item",children:e.jsx("div",{className:"activity-content",children:e.jsx("div",{className:"activity-main",children:e.jsx("strong",{children:"No activity yet"})})})})})]})})]})]})}function Ay(){const[t,s]=d.useState(null),[n,a]=d.useState([]),[r,i]=d.useState(!0),[l,o]=d.useState(!0),[c,h]=d.useState(null),[p,m]=d.useState(null),f=it(),g=d.useCallback(async()=>{i(!0),h(null);try{const S=(await ne.get("/subadmin/stats")).data;s({totalSubmissions:Number(S.totalSubmissions??0),pendingSubmissions:Number(S.pendingSubmissions??0),approved:Number(S.approved??0),rejected:Number(S.rejected??0),flagged:Number(S.flagged??0),categoriesCovered:Number(S.categoriesCovered??0),actionsRequiringApproval:Number(S.actionsRequiringApproval??0)})}catch(w){console.error("fetchStats error",w),h(w.message||"Failed to load stats"),s(null)}finally{i(!1)}},[]),j=d.useCallback(async()=>{o(!0),m(null);try{const S=(await ne.get("/subadmin/alerts",{params:{limit:8}})).data,N=(Array.isArray(S)?S:[]).map(u=>({id:String(u.id??u._id??Math.random()),level:u.level==="high"?"high":u.level==="medium"?"medium":"low",title:String(u.title??u.event??"Alert"),message:String(u.message??u.detail??""),timestamp:String(u.timestamp??u.createdAt??new Date().toISOString())}));a(N)}catch(w){console.error("fetchAlerts error",w),m(w.message||"Failed to load alerts"),a([])}finally{o(!1)}},[]);return d.useEffect(()=>{g(),j();const w=setInterval(()=>{g(),j()},3e4);return()=>clearInterval(w)},[g,j]),e.jsxs("div",{className:"subadmin-real-dashboard",children:[e.jsxs("header",{className:"hdr",children:[e.jsxs("div",{className:"hdr-left",children:[e.jsx("h1",{children:"Operations Overview"}),e.jsx("p",{className:"muted",children:"Live metrics for the categories you manage. All numbers come from the backend."})]}),e.jsxs("div",{className:"hdr-right",children:[e.jsx("label",{className:"period-label",children:"Period"}),e.jsxs("select",{className:"period-select",onChange:w=>{w.target.value,g()},defaultValue:"last7",children:[e.jsx("option",{value:"last24",children:"Last 24 hours"}),e.jsx("option",{value:"last7",children:"Last 7 days"}),e.jsx("option",{value:"last30",children:"Last 30 days"})]}),e.jsx("button",{className:"refresh",onClick:()=>{g(),j()},children:"Refresh"})]})]}),e.jsxs("section",{className:"cards",role:"region","aria-label":"Key metrics",children:[r&&e.jsx("div",{className:"loader",children:"Loading stats"}),c&&e.jsxs("div",{className:"error",children:["Error: ",c]}),!r&&!c&&!t&&e.jsx("div",{className:"empty",children:"No stats available for your categories."}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Total Submissions"}),e.jsx("h2",{children:t.totalSubmissions.toLocaleString()}),e.jsxs("small",{children:["Pending: ",t.pendingSubmissions.toLocaleString()]})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Approvals"}),e.jsx("h2",{children:t.approved.toLocaleString()}),e.jsxs("small",{children:["Rejected: ",t.rejected.toLocaleString()]})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Flagged"}),e.jsx("h2",{children:t.flagged.toLocaleString()}),e.jsxs("small",{children:["Need review: ",t.actionsRequiringApproval.toLocaleString()]})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Categories"}),e.jsx("h2",{children:t.categoriesCovered}),e.jsx("small",{children:"Assigned categories"})]})]})]}),e.jsxs("section",{className:"quick-actions",children:[e.jsx("button",{className:"primary",onClick:()=>f("/sub-admin/review/inquiry"),children:"Open Inquiry Review"}),e.jsx("button",{onClick:()=>f("/sub-admin/review/research"),children:"Open Research Review"}),e.jsx("button",{onClick:()=>f("/sub-admin/categories"),children:"Open Categories & Rules"})]}),e.jsxs("section",{className:"main-grid",children:[e.jsxs("div",{className:"left-col",children:[e.jsxs("div",{className:"panel",children:[e.jsx("h3",{children:"Queued actions / Need attention"}),e.jsx("p",{className:"muted",children:"Items requiring manual review (backend-driven)."}),e.jsx(Ey,{})]}),e.jsxs("div",{className:"panel",children:[e.jsx("h3",{children:"Top Pending Categories"}),e.jsx("p",{className:"muted",children:"Which categories are accumulating the most pending actions."}),e.jsx(Ty,{})]})]}),e.jsxs("aside",{className:"right-col",children:[e.jsxs("div",{className:"panel alerts-panel",children:[e.jsx("h3",{children:"Critical Priority Flags"}),l&&e.jsx("div",{className:"loader",children:"Loading alerts"}),p&&e.jsxs("div",{className:"error",children:["Error: ",p]}),!l&&!p&&n.length===0&&e.jsx("div",{className:"empty",children:"No alerts in the last period."}),e.jsx("div",{className:"alert-list",children:n.map(w=>e.jsxs("div",{className:`alert-item ${w.level}`,children:[e.jsx("div",{className:"a-dot"}),e.jsxs("div",{className:"a-body",children:[e.jsx("p",{children:e.jsx("strong",{children:w.title})}),e.jsx("small",{className:"muted",children:w.message}),e.jsx("div",{className:"ts",children:new Date(w.timestamp).toLocaleString()})]}),e.jsx("div",{className:"a-actions",children:e.jsx("button",{onClick:()=>f(`/sub-admin/alerts/${w.id}`),children:"Details"})})]},w.id))})]}),e.jsxs("div",{className:"panel",children:[e.jsx("h3",{children:"Admin Shortcuts"}),e.jsxs("div",{className:"shortcuts",children:[e.jsx("button",{onClick:()=>f("/sub-admin/templates"),children:"Templates"}),e.jsx("button",{onClick:()=>f("/sub-admin/disapproval-reasons"),children:"Disapproval Reasons"}),e.jsx("button",{onClick:()=>f("/sub-admin/messages"),children:"Messages"})]})]})]})]})]})}function Ey(){const[t,s]=d.useState(null),[n,a]=d.useState(!0),[r,i]=d.useState(null);return d.useEffect(()=>{let l=!0;return(async()=>{a(!0),i(null);try{const c=(await ne.get("/subadmin/queued-actions",{params:{limit:10}})).data;if(!l)return;s(Array.isArray(c)?c:[])}catch(o){console.error(o),i(o.message||"Failed to load queued actions")}finally{l&&a(!1)}})(),()=>{l=!1}},[]),n?e.jsx("div",{className:"loader",children:"Loading queued actions"}):r?e.jsxs("div",{className:"error",children:["Error: ",r]}):!t||t.length===0?e.jsx("div",{className:"empty",children:"No queued actions."}):e.jsx("ul",{className:"queue-list",children:t.map(l=>e.jsxs("li",{className:"queue-item",children:[e.jsxs("div",{className:"q-main",children:[e.jsx("strong",{children:l.event??l.type??"Action"}),e.jsxs("div",{className:"muted small",children:[l.actor??l.user??"","  ",l.target??""]})]}),e.jsx("div",{className:"q-meta",children:e.jsx("small",{className:"muted",children:l.timestamp?new Date(l.timestamp).toLocaleString():""})})]},l.id??l._id))})}function Ty(){const[t,s]=d.useState(null),[n,a]=d.useState(!0);return d.useEffect(()=>{let r=!0;return(async()=>{a(!0);try{const l=(await ne.get("/subadmin/top-categories",{params:{limit:6}})).data;if(!r)return;s(Array.isArray(l)?l:[])}catch(i){console.error(i),s([])}finally{r&&a(!1)}})(),()=>{r=!1}},[]),n?e.jsx("div",{className:"loader",children:"Loading categories"}):!t||t.length===0?e.jsx("div",{className:"empty",children:"No category data."}):e.jsx("ul",{className:"top-cat-list",children:t.map(r=>e.jsxs("li",{className:"top-cat",children:[e.jsx("div",{className:"cat-name",children:r.name??r.slug}),e.jsxs("div",{className:"cat-meta small muted",children:[(r.pending??0).toLocaleString()," pending"]})]},r.id??r.slug))})}async function Wt(){try{return(await ne.get("/subadmin/categories")).data||[]}catch(t){throw console.error("Failed to fetch sub-admin categories:",t),t}}async function Ly(){return((await ne.get("/subadmin/company-types")).data||[]).filter(n=>n.isActive!==!1)}async function Iy(){return((await ne.get("/subadmin/job-types")).data||[]).filter(n=>n.isActive!==!1)}async function Py(t,s,n=50,a=0){try{const r={limit:n,offset:a};return t&&(r.categoryId=t),s&&s!=="all"&&(r.status=s),(await ne.get("/subadmin/research/website",{params:r})).data||[]}catch(r){throw console.error("Failed to fetch website research tasks:",r),r}}async function Dy(t,s,n=50,a=0){var r,i;try{const l={limit:n,offset:a};t&&(l.categoryId=t),s&&s!=="all"&&(l.status=s);const o=await ne.get("/subadmin/research/linkedin",{params:l});return Array.isArray(o.data)?{data:o.data,total:o.data.length}:{data:((r=o.data)==null?void 0:r.data)||[],total:((i=o.data)==null?void 0:i.total)||0}}catch(l){throw console.error("Failed to fetch LinkedIn research tasks:",l),l}}async function Fy(t){try{return(await ne.post("/subadmin/research/website",{...t})).data}catch(s){throw console.error("Failed to create website research tasks:",s),s}}async function _y(t){try{return(await ne.post("/subadmin/research/linkedin",{...t})).data}catch(s){throw console.error("Failed to create LinkedIn research tasks:",s),s}}async function Uy(t,s){try{return(await ne.post("/subadmin/inquiry/website",{categoryId:t,targetUrls:s})).data}catch(n){throw console.error("Failed to create website inquiry tasks:",n),n}}async function Oy(t,s){try{return(await ne.post("/subadmin/inquiry/linkedin",{categoryId:t,profileUrls:s})).data}catch(n){throw console.error("Failed to create LinkedIn inquiry tasks:",n),n}}async function Nm(t,s,n,a=50,r=0){var i,l;try{const o={limit:a,offset:r};t&&(o.categoryId=t),s&&(o.platform=s),n&&n!=="all"&&(o.status=n);const c=await ne.get("/subadmin/inquiry",{params:o});return Array.isArray(c.data)?{data:c.data,total:c.data.length}:{data:((i=c.data)==null?void 0:i.data)||[],total:((l=c.data)==null?void 0:l.total)||0}}catch(o){throw console.error("Failed to fetch inquiry tasks:",o),o}}async function qy(t){try{return(await ne.get(`/subadmin/research/${t}`)).data}catch(s){throw console.error("Failed to fetch research task for review:",s),s}}async function My(t){try{return(await ne.get(`/subadmin/inquiry/${t}`)).data}catch(s){throw console.error("Failed to fetch inquiry task for review:",s),s}}async function By(t){return qy(t)}async function bm(t){return My(t)}async function zy(t){try{return(await ne.patch(`/subadmin/research/${t}/approve`)).data}catch(s){throw console.error("Failed to approve research task:",s),s}}async function $y(t,s){try{return(await ne.patch(`/subadmin/research/${t}/reject`,{reason:s})).data}catch(n){throw console.error("Failed to reject research task:",n),n}}async function Wy(t){try{return(await ne.patch(`/subadmin/research/${t}/flag`)).data}catch(s){throw console.error("Failed to flag research task:",s),s}}async function km(t){try{return(await ne.patch(`/subadmin/inquiry/${t}/approve`)).data}catch(s){throw console.error("Failed to approve inquiry task:",s),s}}async function wm(t,s){try{return(await ne.patch(`/subadmin/inquiry/${t}/reject`,{reason:s})).data}catch(n){throw console.error("Failed to reject inquiry task:",n),n}}async function Sm(t){try{return(await ne.patch(`/subadmin/inquiry/${t}/flag`)).data}catch(s){throw console.error("Failed to flag inquiry task:",s),s}}async function Vy(t){try{return(await ne.get("/subadmin/users",{params:t})).data}catch(s){throw console.error("Failed to fetch subadmin users:",s),s}}async function Hy(){try{return(await ne.get("/subadmin/users/stats")).data}catch(t){throw console.error("Failed to fetch user stats:",t),t}}async function Ai(t,s){try{return(await ne.patch(`/subadmin/users/${t}/status`,{status:s})).data}catch(n){throw console.error("Failed to update user status:",n),n}}async function vd(t,s){try{return(await ne.post(`/subadmin/users/${t}/reset-password`,{password:s})).data}catch(n){throw console.error("Failed to reset user password:",n),n}}async function Gy(t,s){try{return(await ne.patch(`/subadmin/users/${t}/profile`,s)).data}catch(n){throw console.error("Failed to update user profile:",n),n}}async function Qy(){return(await ne.get("/subadmin/category-rules")).data}async function Jy(t,s){return(await ne.patch(`/subadmin/category-rules/${t}/daily-limit`,{dailyLimitOverride:s})).data}async function Ky(t,s){return(await ne.patch(`/subadmin/category-rules/${t}/cooldown`,{cooldownDaysOverride:s})).data}async function Yy(t=50,s=0){var n,a;try{const r={limit:t,offset:s},i=await ne.get("/subadmin/pending/research",{params:r});return Array.isArray(i.data)?{data:i.data,total:i.data.length}:{data:((n=i.data)==null?void 0:n.data)||[],total:((a=i.data)==null?void 0:a.total)||0}}catch(r){throw console.error("Failed to fetch pending research tasks:",r),r}}async function Xy(t=50,s=0){var n,a;try{const r={limit:t,offset:s},i=await ne.get("/subadmin/pending/inquiry",{params:r});return Array.isArray(i.data)?{data:i.data,total:i.data.length}:{data:((n=i.data)==null?void 0:n.data)||[],total:((a=i.data)==null?void 0:a.total)||0}}catch(r){throw console.error("Failed to fetch pending inquiry tasks:",r),r}}function Zy(){var L;const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState("idle"),[l,o]=d.useState("idle"),[c,h]=d.useState("all"),[p,m]=d.useState("all"),[f,g]=d.useState(""),[j,w]=d.useState(50),[S,N]=d.useState(0),[u,x]=d.useState(0),[y,v]=d.useState(null);d.useEffect(()=>{(async()=>{try{o("loading");const E=await Wt(),A=E&&E.length>0?Array.from(new Map(E.map(R=>[R.id,R])).values()):[];a(A),A.length===1?h(A[0].id):A.length>1&&h("all"),o("success")}catch(E){console.error("Error loading categories:",E),o("error")}})()},[]),d.useEffect(()=>{(async()=>{try{i("loading");const R=await Py(c==="all"?void 0:c,p==="all"?void 0:p,j,S),P=Array.isArray(R)?R:R.data||[],O=Array.isArray(R)?P.length:R.total||P.length;let k=P;if(f.trim()){const _=f.toLowerCase();k=P.filter(I=>I.companyName.toLowerCase().includes(_)||I.profileUrl.toLowerCase().includes(_)||I.country.toLowerCase().includes(_))}s(k),x(O),i("success")}catch(E){console.error("Error loading tasks:",E),i("error")}})()},[c,p,j,S]),d.useEffect(()=>{const C=setTimeout(()=>{N(0)},300);return()=>clearTimeout(C)},[f]);const T=Math.floor(S/j)+1,U=Math.ceil(u/j)||1,q=t.reduce((C,E)=>{const A=E.category||"Uncategorized";return C[A]||(C[A]=[]),C[A].push(E),C},{}),D={pending:"#FFA500",in_progress:"#3498DB",submitted:"#2ECC71",completed:"#27AE60",rejected:"#E74C3C"},M=C=>D[C]||"#95A5A6",z=C=>({pending:"Pending",in_progress:"In Progress",submitted:"Submitted",completed:"Completed",rejected:"Rejected"})[C]||C;return e.jsxs("div",{className:"website-research-container",children:[e.jsxs("div",{className:"website-research-header",children:[e.jsx("h1",{children:" Website Research Tasks"}),e.jsx("p",{className:"header-subtitle",children:"View and manage all website researcher submissions for your assigned categories"})]}),e.jsxs("div",{className:"website-research-filters",children:[e.jsxs("div",{className:"filters-grid",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"search-filter",children:"Search by Company or URL"}),e.jsx("input",{id:"search-filter",type:"text",placeholder:"Search companies, domains...",value:f,onChange:C=>g(C.target.value),className:"filter-input search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"category-filter",children:"Category"}),e.jsxs("select",{id:"category-filter",value:c,onChange:C=>{h(C.target.value),N(0)},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Categories"}),n.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:p,onChange:C=>{m(C.target.value),N(0)},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"limit-filter",children:"Results Per Page"}),e.jsxs("select",{id:"limit-filter",value:j,onChange:C=>{w(Number(C.target.value)),N(0)},className:"filter-select",children:[e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),(c!=="all"||p!=="all"||f)&&e.jsxs("div",{className:"active-filters",children:[e.jsx("span",{className:"active-filters-label",children:"Active filters:"}),c!=="all"&&e.jsxs("div",{className:"filter-tag",children:["Category: ",(L=n.find(C=>C.id===c))==null?void 0:L.name,e.jsx("button",{onClick:()=>{h("all"),N(0)},children:""})]}),p!=="all"&&e.jsxs("div",{className:"filter-tag",children:["Status: ",z(p),e.jsx("button",{onClick:()=>{m("all"),N(0)},children:""})]}),f&&e.jsxs("div",{className:"filter-tag",children:['Search: "',f,'"',e.jsx("button",{onClick:()=>{g(""),N(0)},children:""})]})]})]}),e.jsx("div",{className:"results-summary",children:e.jsxs("span",{children:["Showing ",t.length>0?S+1:0," to"," ",Math.min(S+j,u)," of ",u," tasks"]})}),r==="loading"&&e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading website research tasks..."})]}),r==="error"&&e.jsxs("div",{className:"error-container",children:[e.jsx("p",{children:" Failed to load website research tasks"}),e.jsx("p",{className:"error-message",children:"Please try again later or contact support"})]}),r==="success"&&t.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:" No website research tasks found"}),e.jsx("p",{children:"Try adjusting your filters or search query"})]}),r==="success"&&t.length>0&&e.jsx("div",{className:"tasks-container",children:Object.entries(q).map(([C,E])=>e.jsxs("div",{className:"category-group",children:[e.jsxs("div",{className:"category-header",children:[e.jsx("h2",{children:C}),e.jsxs("span",{className:"category-count",children:[E.length," tasks"]})]}),e.jsx("div",{className:"tasks-grid",children:E.map(A=>e.jsxs("div",{className:"task-card",children:[e.jsxs("div",{className:"task-card-header",children:[e.jsx("h3",{className:"task-company-name",children:A.companyName}),e.jsx("span",{className:"task-status-badge",style:{backgroundColor:M(A.status)},children:z(A.status)})]}),e.jsxs("div",{className:"task-card-body",children:[e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Domain:"}),e.jsx("span",{className:"task-value",children:e.jsx("a",{href:`https://${A.profileUrl}`,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:A.profileUrl})})]}),e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Country:"}),e.jsxs("span",{className:"task-value",children:[" ",A.country]})]}),e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Created:"}),e.jsx("span",{className:"task-value",children:new Date(A.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("div",{className:"task-card-footer",children:e.jsx("button",{className:"btn-view-details",onClick:()=>v(A),children:"View Details"})})]},A.id))})]},C))}),r==="success"&&t.length>0&&U>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"pagination-btn",onClick:()=>N(Math.max(0,S-j)),disabled:S===0,children:" Previous"}),e.jsxs("div",{className:"pagination-info",children:["Page ",T," of ",U]}),e.jsx("button",{className:"pagination-btn",onClick:()=>N(S+j),disabled:T===U,children:"Next "})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>v(null),children:e.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:y.companyName}),e.jsx("button",{className:"modal-close",onClick:()=>v(null),children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Domain"}),e.jsx("a",{href:`https://${y.profileUrl}`,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:y.profileUrl})]}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Country"}),e.jsxs("p",{children:[" ",y.country]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Category"}),e.jsx("p",{children:y.category})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:"status-badge-modal",style:{backgroundColor:M(y.status)},children:z(y.status)})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Created"}),e.jsx("p",{children:new Date(y.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Task ID"}),e.jsx("code",{className:"task-id",children:y.id})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-primary",onClick:()=>v(null),children:"Close"})})]})})]})}function ev(){var L;const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState("idle"),[l,o]=d.useState("idle"),[c,h]=d.useState("all"),[p,m]=d.useState("all"),[f,g]=d.useState(""),[j,w]=d.useState(50),[S,N]=d.useState(0),[u,x]=d.useState(0),[y,v]=d.useState(null);d.useEffect(()=>{(async()=>{try{o("loading");const E=await Wt(),A=E&&E.length>0?Array.from(new Map(E.map(R=>[R.id,R])).values()):[];a(A),A.length===1?h(A[0].id):A.length>1&&h("all"),o("success")}catch(E){console.error("Error loading categories:",E),o("error")}})()},[]),d.useEffect(()=>{(async()=>{try{i("loading");const R=await Dy(c==="all"?void 0:c,p==="all"?void 0:p,j,S),P=R.data||[],O=R.total||0;let k=P;if(f.trim()){const _=f.toLowerCase();k=P.filter(I=>I.profileName&&I.profileName.toLowerCase().includes(_)||I.profileCompany&&I.profileCompany.toLowerCase().includes(_)||I.profileUrl&&I.profileUrl.toLowerCase().includes(_)||I.country&&I.country.toLowerCase().includes(_))}s(k),x(O),i("success")}catch(E){console.error("Error loading LinkedIn research tasks:",E),i("error")}})()},[c,p,j,S]),d.useEffect(()=>{const C=setTimeout(()=>{N(0)},300);return()=>clearTimeout(C)},[f]);const T=Math.floor(S/j)+1,U=Math.ceil(u/j)||1,q=t.reduce((C,E)=>{const A=E.category||"Uncategorized";return C[A]||(C[A]=[]),C[A].push(E),C},{}),D={pending:"#FFA500",in_progress:"#3498DB",submitted:"#2ECC71",completed:"#27AE60",rejected:"#E74C3C"},M=C=>D[C]||"#95A5A6",z=C=>({pending:"Pending",in_progress:"In Progress",submitted:"Submitted",completed:"Completed",rejected:"Rejected"})[C]||C;return e.jsxs("div",{className:"website-research-container",children:[e.jsxs("div",{className:"website-research-header",children:[e.jsx("h1",{children:" LinkedIn Research Tasks"}),e.jsx("p",{className:"header-subtitle",children:"View and manage all LinkedIn profile researcher submissions for your assigned categories"})]}),e.jsxs("div",{className:"website-research-filters",children:[e.jsxs("div",{className:"filters-grid",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"search-filter",children:"Search by Profile or Company"}),e.jsx("input",{id:"search-filter",type:"text",placeholder:"Search profiles, companies...",value:f,onChange:C=>g(C.target.value),className:"filter-input search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"category-filter",children:"Category"}),e.jsxs("select",{id:"category-filter",value:c,onChange:C=>{h(C.target.value),N(0)},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Categories"}),n.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:p,onChange:C=>{m(C.target.value),N(0)},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"limit-filter",children:"Results Per Page"}),e.jsxs("select",{id:"limit-filter",value:j,onChange:C=>{w(Number(C.target.value)),N(0)},className:"filter-select",children:[e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),(c!=="all"||p!=="all"||f)&&e.jsxs("div",{className:"active-filters",children:[e.jsx("span",{className:"active-filters-label",children:"Active filters:"}),c!=="all"&&e.jsxs("div",{className:"filter-tag",children:["Category: ",(L=n.find(C=>C.id===c))==null?void 0:L.name,e.jsx("button",{onClick:()=>{h("all"),N(0)},children:""})]}),p!=="all"&&e.jsxs("div",{className:"filter-tag",children:["Status: ",z(p),e.jsx("button",{onClick:()=>{m("all"),N(0)},children:""})]}),f&&e.jsxs("div",{className:"filter-tag",children:['Search: "',f,'"',e.jsx("button",{onClick:()=>{g(""),N(0)},children:""})]})]})]}),e.jsx("div",{className:"results-summary",children:e.jsxs("span",{children:["Showing ",t.length>0?S+1:0," to"," ",Math.min(S+j,u)," of ",u," tasks"]})}),r==="loading"&&e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading LinkedIn research tasks..."})]}),r==="error"&&e.jsxs("div",{className:"error-container",children:[e.jsx("p",{children:" Failed to load LinkedIn research tasks"}),e.jsx("p",{className:"error-message",children:"Please try again later or contact support"})]}),r==="success"&&t.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:" No LinkedIn research tasks found"}),e.jsx("p",{children:"Try adjusting your filters or search query"})]}),r==="success"&&t.length>0&&e.jsx("div",{className:"tasks-container",children:Object.entries(q).map(([C,E])=>e.jsxs("div",{className:"category-group",children:[e.jsxs("div",{className:"category-header",children:[e.jsx("h2",{children:C}),e.jsxs("span",{className:"category-count",children:[E.length," tasks"]})]}),e.jsx("div",{className:"tasks-grid",children:E.map(A=>e.jsxs("div",{className:"task-card",children:[e.jsxs("div",{className:"task-card-header",children:[e.jsx("h3",{className:"task-company-name",children:A.profileName||A.profileCompany||"LinkedIn Profile"}),e.jsx("span",{className:"task-status-badge",style:{backgroundColor:M(A.status)},children:z(A.status)})]}),e.jsxs("div",{className:"task-card-body",children:[e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Profile URL:"}),e.jsx("span",{className:"task-value",children:e.jsx("a",{href:A.profileUrl,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:A.profileUrl})})]}),A.profileCompany&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Company:"}),e.jsxs("span",{className:"task-value",children:[" ",A.profileCompany]})]}),A.country&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Country:"}),e.jsxs("span",{className:"task-value",children:[" ",A.country]})]}),e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Created:"}),e.jsx("span",{className:"task-value",children:new Date(A.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("div",{className:"task-card-footer",children:e.jsx("button",{className:"btn-view-details",onClick:()=>v(A),children:"View Details"})})]},A.id))})]},C))}),r==="success"&&t.length>0&&U>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"pagination-btn",onClick:()=>N(Math.max(0,S-j)),disabled:S===0,children:" Previous"}),e.jsxs("div",{className:"pagination-info",children:["Page ",T," of ",U]}),e.jsx("button",{className:"pagination-btn",onClick:()=>N(S+j),disabled:T===U,children:"Next "})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>v(null),children:e.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:y.profileName||y.profileCompany||"LinkedIn Profile"}),e.jsx("button",{className:"modal-close",onClick:()=>v(null),children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Profile URL"}),e.jsx("a",{href:y.profileUrl,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:y.profileUrl})]}),e.jsxs("div",{className:"detail-grid",children:[y.profileName&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Profile Name"}),e.jsx("p",{children:y.profileName})]}),y.profileCompany&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Company"}),e.jsxs("p",{children:[" ",y.profileCompany]})]}),y.country&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Country"}),e.jsxs("p",{children:[" ",y.country]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Category"}),e.jsx("p",{children:y.category})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:"status-badge-modal",style:{backgroundColor:M(y.status)},children:z(y.status)})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Created"}),e.jsx("p",{children:new Date(y.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Task ID"}),e.jsx("code",{className:"task-id",children:y.id})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-primary",onClick:()=>v(null),children:"Close"})})]})})]})}function tv(){const[t,s]=d.useState("website"),[n,a]=d.useState([]),[r,i]=d.useState(""),[l,o]=d.useState([""]),[c,h]=d.useState(!1),[p,m]=d.useState(null),[f,g]=d.useState(null),j=it();d.useEffect(()=>{(async()=>{try{const x=await Wt();a(Array.isArray(x)?x:[]),x&&x.length>0&&i(x[0].id)}catch(x){console.error("Failed to load categories:",x)}})()},[]);const w=()=>{o([...l,""])},S=x=>{o(l.filter((y,v)=>v!==x))},N=(x,y)=>{const v=[...l];v[x]=y,o(v)},u=async x=>{x.preventDefault(),h(!0),m(null),g(null);try{const y=l.filter(D=>D.trim().length>0);if(y.length===0)throw new Error("Please add at least one item");const v=t==="website"?"/subadmin/research/website":"/subadmin/research/linkedin",T=t==="website"?{categoryId:r,domains:y}:{categoryId:r,profileUrls:y},U=localStorage.getItem("token"),q=await fetch(`http://localhost:3000/api${v}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify(T)});if(!q.ok)throw new Error(`Failed to create tasks: ${q.statusText}`);g(`${y.length} ${t} research task(s) created successfully!`),o([""]),setTimeout(()=>{j(t==="website"?"/sub-admin/research/website":"/sub-admin/research/linkedin")},1500)}catch(y){m(y.message||"Failed to create tasks")}finally{h(!1)}};return e.jsxs("div",{className:"sa-create-page",children:[e.jsx("header",{className:"sa-page-header",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Create Research Tasks"}),e.jsx("p",{className:"muted",children:"Bulk create research tasks for researchers in your assigned categories."})]})}),e.jsx("main",{className:"sa-main",children:e.jsxs("form",{onSubmit:u,className:"create-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Platform"}),e.jsxs("div",{className:"radio-group",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",value:"website",checked:t==="website",onChange:x=>s(x.target.value)}),"Website"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",value:"linkedin",checked:t==="linkedin",onChange:x=>s(x.target.value)}),"LinkedIn"]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("label",{htmlFor:"category",children:"Category *"}),e.jsxs("select",{id:"category",value:r,onChange:x=>i(x.target.value),disabled:n.length===0,required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),n.map(x=>e.jsx("option",{value:x.id,children:x.name},x.id))]})]}),e.jsxs("div",{className:"form-section",children:[e.jsxs("label",{children:[t==="website"?"Domains":"LinkedIn Profile URLs"," *"]}),e.jsxs("p",{className:"help-text",children:["Add ",t==="website"?"company domains":"LinkedIn profile URLs",", one per row"]}),e.jsx("div",{className:"items-list",children:l.map((x,y)=>e.jsxs("div",{className:"item-row",children:[e.jsx("input",{type:"text",value:x,onChange:v=>N(y,v.target.value),placeholder:t==="website"?"example.com":"linkedin.com/in/...",className:"item-input"}),l.length>1&&e.jsx("button",{type:"button",onClick:()=>S(y),className:"btn-remove",children:"Remove"})]},y))}),e.jsx("button",{type:"button",onClick:w,className:"btn-add-item",children:"+ Add Another"})]}),p&&e.jsx("div",{className:"error",children:p}),f&&e.jsx("div",{className:"success",children:f}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",disabled:c,className:"btn-submit",children:c?"Creating...":"Create Tasks"}),e.jsx("button",{type:"button",onClick:()=>j(-1),className:"btn-cancel",children:"Cancel"})]})]})})]})}function sv(){var L;const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState("idle"),[l,o]=d.useState("idle"),[c,h]=d.useState("all"),[p,m]=d.useState("all"),[f,g]=d.useState(""),[j,w]=d.useState(50),[S,N]=d.useState(0),[u,x]=d.useState(0),[y,v]=d.useState(null);d.useEffect(()=>{(async()=>{try{o("loading");const E=await Wt(),A=E&&E.length>0?Array.from(new Map(E.map(R=>[R.id,R])).values()):[];a(A),A.length===1?h(A[0].id):A.length>1&&h("all"),o("success")}catch(E){console.error("Error loading categories:",E),o("error")}})()},[]),d.useEffect(()=>{(async()=>{try{i("loading");const R=await Nm(c==="all"?void 0:c,"WEBSITE",p==="all"?void 0:p,j,S),P=R.data||[],O=R.total||0;let k=P;if(f.trim()){const _=f.toLowerCase();k=P.filter(I=>I.companyName&&I.companyName.toLowerCase().includes(_)||I.companyDomain&&I.companyDomain.toLowerCase().includes(_)||I.country&&I.country.toLowerCase().includes(_))}s(k),x(O),i("success")}catch(E){console.error("Error loading tasks:",E),i("error")}})()},[c,p,j,S]),d.useEffect(()=>{const C=setTimeout(()=>{N(0)},300);return()=>clearTimeout(C)},[f]);const T=Math.floor(S/j)+1,U=Math.ceil(u/j)||1,q=t.reduce((C,E)=>{const A=E.categoryName||E.category||"Uncategorized";return C[A]||(C[A]=[]),C[A].push(E),C},{}),D={pending:"#FFA500",in_progress:"#3498DB",submitted:"#2ECC71",completed:"#27AE60",approved:"#2ECC71",rejected:"#E74C3C"},M=C=>D[C]||"#95A5A6",z=C=>({pending:"Pending",in_progress:"In Progress",submitted:"Submitted",completed:"Completed",approved:"Approved",rejected:"Rejected"})[C]||C;return e.jsxs("div",{className:"website-research-container",children:[e.jsxs("div",{className:"website-research-header",children:[e.jsx("h1",{children:" Website Inquiry Tasks"}),e.jsx("p",{className:"header-subtitle",children:"View and manage all website inquiry submissions for your assigned categories"})]}),e.jsxs("div",{className:"website-research-filters",children:[e.jsxs("div",{className:"filters-grid",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"search-filter",children:"Search by Company or Domain"}),e.jsx("input",{id:"search-filter",type:"text",placeholder:"Search companies, domains...",value:f,onChange:C=>g(C.target.value),className:"filter-input search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"category-filter",children:"Category"}),e.jsxs("select",{id:"category-filter",value:c,onChange:C=>{h(C.target.value),N(0)},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Categories"}),n.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:p,onChange:C=>{m(C.target.value),N(0)},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"limit-filter",children:"Results Per Page"}),e.jsxs("select",{id:"limit-filter",value:j,onChange:C=>{w(Number(C.target.value)),N(0)},className:"filter-select",children:[e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),(c!=="all"||p!=="all"||f)&&e.jsxs("div",{className:"active-filters",children:[e.jsx("span",{className:"active-filters-label",children:"Active filters:"}),c!=="all"&&e.jsxs("div",{className:"filter-tag",children:["Category: ",(L=n.find(C=>C.id===c))==null?void 0:L.name,e.jsx("button",{onClick:()=>{h("all"),N(0)},children:""})]}),p!=="all"&&e.jsxs("div",{className:"filter-tag",children:["Status: ",z(p),e.jsx("button",{onClick:()=>{m("all"),N(0)},children:""})]}),f&&e.jsxs("div",{className:"filter-tag",children:['Search: "',f,'"',e.jsx("button",{onClick:()=>{g(""),N(0)},children:""})]})]})]}),e.jsx("div",{className:"results-summary",children:e.jsxs("span",{children:["Showing ",t.length>0?S+1:0," to"," ",Math.min(S+j,u)," of ",u," tasks"]})}),r==="loading"&&e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading website inquiry tasks..."})]}),r==="error"&&e.jsxs("div",{className:"error-container",children:[e.jsx("p",{children:" Failed to load website inquiry tasks"}),e.jsx("p",{className:"error-message",children:"Please try again later or contact support"})]}),r==="success"&&t.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:" No website inquiry tasks found"}),e.jsx("p",{children:"Try adjusting your filters or search query"})]}),r==="success"&&t.length>0&&e.jsx("div",{className:"tasks-container",children:Object.entries(q).map(([C,E])=>e.jsxs("div",{className:"category-group",children:[e.jsxs("div",{className:"category-header",children:[e.jsx("h2",{children:C}),e.jsxs("span",{className:"category-count",children:[E.length," tasks"]})]}),e.jsx("div",{className:"tasks-grid",children:E.map(A=>e.jsxs("div",{className:"task-card",children:[e.jsxs("div",{className:"task-card-header",children:[e.jsx("h3",{className:"task-company-name",children:A.companyName||A.companyDomain||"Website Inquiry"}),e.jsx("span",{className:"task-status-badge",style:{backgroundColor:M(A.status)},children:z(A.status)})]}),e.jsxs("div",{className:"task-card-body",children:[A.companyDomain&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Domain:"}),e.jsx("span",{className:"task-value",children:e.jsx("a",{href:`https://${A.companyDomain}`,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:A.companyDomain})})]}),A.country&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Country:"}),e.jsxs("span",{className:"task-value",children:[" ",A.country]})]}),e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Created:"}),e.jsx("span",{className:"task-value",children:new Date(A.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),A.researchTask&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Research Status:"}),e.jsx("span",{className:"task-value",children:A.researchTask.status})]})]}),e.jsx("div",{className:"task-card-footer",children:e.jsx("button",{className:"btn-view-details",onClick:()=>v(A),children:"View Details"})})]},A.id))})]},C))}),r==="success"&&t.length>0&&U>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"pagination-btn",onClick:()=>N(Math.max(0,S-j)),disabled:S===0,children:" Previous"}),e.jsxs("div",{className:"pagination-info",children:["Page ",T," of ",U]}),e.jsx("button",{className:"pagination-btn",onClick:()=>N(S+j),disabled:T===U,children:"Next "})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>v(null),children:e.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:y.companyName||y.companyDomain||"Website Inquiry"}),e.jsx("button",{className:"modal-close",onClick:()=>v(null),children:""})]}),e.jsxs("div",{className:"modal-body",children:[y.companyDomain&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Domain"}),e.jsx("a",{href:`https://${y.companyDomain}`,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:y.companyDomain})]}),e.jsxs("div",{className:"detail-grid",children:[y.companyName&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Company Name"}),e.jsx("p",{children:y.companyName})]}),y.country&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Country"}),e.jsxs("p",{children:[" ",y.country]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Category"}),e.jsx("p",{children:y.categoryName||y.category})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:"status-badge-modal",style:{backgroundColor:M(y.status)},children:z(y.status)})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Created"}),e.jsx("p",{children:new Date(y.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),y.researchTask&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Research Status"}),e.jsx("p",{children:y.researchTask.status})]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Task ID"}),e.jsx("code",{className:"task-id",children:y.id})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-primary",onClick:()=>v(null),children:"Close"})})]})})]})}function nv(){var L;const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState("idle"),[l,o]=d.useState("idle"),[c,h]=d.useState("all"),[p,m]=d.useState("all"),[f,g]=d.useState(""),[j,w]=d.useState(50),[S,N]=d.useState(0),[u,x]=d.useState(0),[y,v]=d.useState(null);d.useEffect(()=>{(async()=>{try{o("loading");const E=await Wt(),A=E&&E.length>0?Array.from(new Map(E.map(R=>[R.id,R])).values()):[];a(A),A.length===1?h(A[0].id):A.length>1&&h("all"),o("success")}catch(E){console.error("Error loading categories:",E),o("error")}})()},[]),d.useEffect(()=>{(async()=>{try{i("loading");const R=await Nm(c==="all"?void 0:c,"LINKEDIN",p==="all"?void 0:p,j,S),P=R.data||[],O=R.total||0;let k=P;if(f.trim()){const _=f.toLowerCase();k=P.filter(I=>I.profileName&&I.profileName.toLowerCase().includes(_)||I.profileUrl&&I.profileUrl.toLowerCase().includes(_)||I.country&&I.country.toLowerCase().includes(_))}s(k),x(O),i("success")}catch(E){console.error("Error loading tasks:",E),i("error")}})()},[c,p,j,S]),d.useEffect(()=>{const C=setTimeout(()=>{N(0)},300);return()=>clearTimeout(C)},[f]);const T=Math.floor(S/j)+1,U=Math.ceil(u/j)||1,q=t.reduce((C,E)=>{const A=E.categoryName||E.category||"Uncategorized";return C[A]||(C[A]=[]),C[A].push(E),C},{}),D={pending:"#FFA500",in_progress:"#3498DB",submitted:"#2ECC71",completed:"#27AE60",approved:"#2ECC71",rejected:"#E74C3C"},M=C=>D[C]||"#95A5A6",z=C=>({pending:"Pending",in_progress:"In Progress",submitted:"Submitted",completed:"Completed",approved:"Approved",rejected:"Rejected"})[C]||C;return e.jsxs("div",{className:"website-research-container",children:[e.jsxs("div",{className:"website-research-header",children:[e.jsx("h1",{children:" LinkedIn inquiry Tasks"}),e.jsx("p",{className:"header-subtitle",children:"View and manage all LinkedIn inquiry submissions for your assigned categories"})]}),e.jsxs("div",{className:"website-research-filters",children:[e.jsxs("div",{className:"filters-grid",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"search-filter",children:"Search by Profile or Company"}),e.jsx("input",{id:"search-filter",type:"text",placeholder:"Search profiles, companies...",value:f,onChange:C=>g(C.target.value),className:"filter-input search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"category-filter",children:"Category"}),e.jsxs("select",{id:"category-filter",value:c,onChange:C=>{h(C.target.value),N(0)},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Categories"}),n.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:p,onChange:C=>{m(C.target.value),N(0)},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"limit-filter",children:"Results Per Page"}),e.jsxs("select",{id:"limit-filter",value:j,onChange:C=>{w(Number(C.target.value)),N(0)},className:"filter-select",children:[e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),(c!=="all"||p!=="all"||f)&&e.jsxs("div",{className:"active-filters",children:[e.jsx("span",{className:"active-filters-label",children:"Active filters:"}),c!=="all"&&e.jsxs("div",{className:"filter-tag",children:["Category: ",(L=n.find(C=>C.id===c))==null?void 0:L.name,e.jsx("button",{onClick:()=>{h("all"),N(0)},children:""})]}),p!=="all"&&e.jsxs("div",{className:"filter-tag",children:["Status: ",z(p),e.jsx("button",{onClick:()=>{m("all"),N(0)},children:""})]}),f&&e.jsxs("div",{className:"filter-tag",children:['Search: "',f,'"',e.jsx("button",{onClick:()=>{g(""),N(0)},children:""})]})]})]}),e.jsx("div",{className:"results-summary",children:e.jsxs("span",{children:["Showing ",t.length>0?S+1:0," to"," ",Math.min(S+j,u)," of ",u," tasks"]})}),r==="loading"&&e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading LinkedIn inquiry tasks..."})]}),r==="error"&&e.jsxs("div",{className:"error-container",children:[e.jsx("p",{children:" Failed to load LinkedIn inquiry tasks"}),e.jsx("p",{className:"error-message",children:"Please try again later or contact support"})]}),r==="success"&&t.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:" No LinkedIn inquiry tasks found"}),e.jsx("p",{children:"Try adjusting your filters or search query"})]}),r==="success"&&t.length>0&&e.jsx("div",{className:"tasks-container",children:Object.entries(q).map(([C,E])=>e.jsxs("div",{className:"category-group",children:[e.jsxs("div",{className:"category-header",children:[e.jsx("h2",{children:C}),e.jsxs("span",{className:"category-count",children:[E.length," tasks"]})]}),e.jsx("div",{className:"tasks-grid",children:E.map(A=>e.jsxs("div",{className:"task-card",children:[e.jsxs("div",{className:"task-card-header",children:[e.jsx("h3",{className:"task-company-name",children:A.profileName||A.profileUrl||"LinkedIn inquiry"}),e.jsx("span",{className:"task-status-badge",style:{backgroundColor:M(A.status)},children:z(A.status)})]}),e.jsxs("div",{className:"task-card-body",children:[A.profileUrl&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Profile URL:"}),e.jsx("span",{className:"task-value",children:e.jsx("a",{href:`https://${A.profileUrl}`,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:A.profileUrl})})]}),A.country&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Country:"}),e.jsxs("span",{className:"task-value",children:[" ",A.country]})]}),e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Created:"}),e.jsx("span",{className:"task-value",children:new Date(A.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),A.researchTask&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Research Status:"}),e.jsx("span",{className:"task-value",children:A.researchTask.status})]})]}),e.jsx("div",{className:"task-card-footer",children:e.jsx("button",{className:"btn-view-details",onClick:()=>v(A),children:"View Details"})})]},A.id))})]},C))}),r==="success"&&t.length>0&&U>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"pagination-btn",onClick:()=>N(Math.max(0,S-j)),disabled:S===0,children:" Previous"}),e.jsxs("div",{className:"pagination-info",children:["Page ",T," of ",U]}),e.jsx("button",{className:"pagination-btn",onClick:()=>N(S+j),disabled:T===U,children:"Next "})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>v(null),children:e.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:y.profileName||y.profileUrl||"LinkedIn inquiry"}),e.jsx("button",{className:"modal-close",onClick:()=>v(null),children:""})]}),e.jsxs("div",{className:"modal-body",children:[y.profileUrl&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Domain"}),e.jsx("a",{href:`https://${y.profileUrl}`,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:y.profileUrl})]}),e.jsxs("div",{className:"detail-grid",children:[y.profileName&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Company Name"}),e.jsx("p",{children:y.profileName})]}),y.country&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Country"}),e.jsxs("p",{children:[" ",y.country]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Category"}),e.jsx("p",{children:y.categoryName||y.category})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:"status-badge-modal",style:{backgroundColor:M(y.status)},children:z(y.status)})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Created"}),e.jsx("p",{children:new Date(y.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),y.researchTask&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Research Status"}),e.jsx("p",{children:y.researchTask.status})]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Task ID"}),e.jsx("code",{className:"task-id",children:y.id})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-primary",onClick:()=>v(null),children:"Close"})})]})})]})}const av=()=>{var x;const t=it(),[s,n]=d.useState("website"),[a,r]=d.useState([]),[i,l]=d.useState(""),[o,c]=d.useState([""]),[h,p]=d.useState(!1),[m,f]=d.useState(null),[g,j]=d.useState(null);d.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("token")){f("Authentication required");return}const T=await Wt();r(T),T.length>0&&l(T[0].id)}catch(v){f(v instanceof Error?v.message:"Failed to load categories")}})()},[]);const w=()=>{c([...o,""])},S=y=>{c(o.filter((v,T)=>T!==y))},N=(y,v)=>{const T=[...o];T[y]=v,c(T)},u=async y=>{if(y.preventDefault(),!i){f("Please select a category");return}if(o.filter(T=>T.trim().length>0).length===0){f(`Please enter at least one ${s==="website"?"company URL":"LinkedIn profile URL"}`);return}try{p(!0),f(null),j(null);const T=o.filter(U=>U.trim().length>0);s==="website"?await Uy(i,T):await Oy(i,T),j(`Successfully created ${T.length} inquiry task(s)`),c([""]),setTimeout(()=>{t("/sub-admin/inquiry/website")},1500)}catch(T){f(T instanceof Error?T.message:"Failed to create inquiry tasks")}finally{p(!1)}};return e.jsxs("div",{className:"task-creation-page",children:[e.jsxs("div",{className:"task-header",children:[e.jsx("h1",{children:"Create Inquiry Tasks"}),e.jsx("p",{children:"Create bulk inquiry tasks for researchers"})]}),m&&e.jsx("div",{className:"error-message",children:m}),g&&e.jsx("div",{className:"success-message",children:g}),e.jsxs("form",{onSubmit:u,className:"task-creation-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Select Platform"}),e.jsxs("div",{className:"radio-group",children:[e.jsxs("label",{className:"radio-label",children:[e.jsx("input",{type:"radio",name:"platform",value:"website",checked:s==="website",onChange:y=>n(y.target.value)}),e.jsxs("span",{className:"radio-text",children:[e.jsx("span",{className:"radio-title",children:"Website Inquiry"}),e.jsx("span",{className:"radio-desc",children:"Create inquiry tasks for company websites"})]})]}),e.jsxs("label",{className:"radio-label",children:[e.jsx("input",{type:"radio",name:"platform",value:"linkedin",checked:s==="linkedin",onChange:y=>n(y.target.value)}),e.jsxs("span",{className:"radio-text",children:[e.jsx("span",{className:"radio-title",children:"LinkedIn Inquiry"}),e.jsx("span",{className:"radio-desc",children:"Create inquiry tasks for LinkedIn profiles (3-step process)"})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsxs("label",{htmlFor:"category",className:"form-label",children:["Category ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsxs("select",{id:"category",value:i,onChange:y=>l(y.target.value),className:"form-select",required:!0,children:[e.jsx("option",{value:"",children:"-- Select a category --"}),a.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))]}),a.length===1&&e.jsxs("p",{className:"form-hint",children:[" You have access to only 1 category: ",a[0].name]})]}),e.jsxs("div",{className:"form-section",children:[e.jsxs("label",{className:"form-label",children:[s==="website"?"Company URLs":"LinkedIn Profile URLs"," ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("div",{className:"items-list",children:o.map((y,v)=>e.jsxs("div",{className:"item-input-group",children:[e.jsx("input",{type:"text",value:y,onChange:T=>N(v,T.target.value),placeholder:s==="website"?"e.g., https://example.com":"e.g., https://linkedin.com/in/johndoe",className:"form-input"}),o.length>1&&e.jsx("button",{type:"button",className:"btn-remove-item",onClick:()=>S(v),children:""})]},v))}),e.jsxs("button",{type:"button",onClick:w,className:"btn-add-item",children:["+ Add Another ",s==="website"?"URL":"Profile"]})]}),e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"summary-box",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Platform:"})," ",s==="website"?"Website Inquiry":"LinkedIn Inquiry (3-Step)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",((x=a.find(y=>y.id===i))==null?void 0:x.name)||"Not selected"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tasks to Create:"})," ",o.filter(y=>y.trim().length>0).length]})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>t(-1),disabled:h,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",disabled:h,children:h?"Creating...":"Create Inquiry Tasks"})]})]})]})};function rv(){const{taskId:t}=Wr(),s=it(),[n,a]=d.useState(null),[r,i]=d.useState(null),[l,o]=d.useState(!0),[c,h]=d.useState(null),[p,m]=d.useState(!1),[f,g]=d.useState(!1),[j,w]=d.useState(""),[S,N]=d.useState(!1);d.useEffect(()=>{(async()=>{try{const v=localStorage.getItem("token"),T=await fetch(`http://localhost:3000/api/subadmin/research/${t}`,{headers:{Authorization:`Bearer ${v}`}});if(!T.ok)throw new Error("Failed to load task");const U=await T.json();a(U.task),i(U.submission)}catch(v){h(v.message)}finally{o(!1)}})()},[t]);const u=async()=>{m(!0);try{const y=localStorage.getItem("token");if(!(await fetch(`http://localhost:3000/api/subadmin/research/${t}/approve`,{method:"PATCH",headers:{Authorization:`Bearer ${y}`}})).ok)throw new Error("Failed to approve");s("/sub-admin/research/website")}catch(y){h(y.message)}finally{m(!1)}},x=async()=>{g(!0);try{const y=localStorage.getItem("token");if(!(await fetch(`http://localhost:3000/api/subadmin/research/${t}/reject`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({reason:j})})).ok)throw new Error("Failed to reject");s("/sub-admin/research/website")}catch(y){h(y.message)}finally{g(!1),N(!1)}};return l?e.jsx("div",{className:"review-page",children:e.jsx("div",{className:"loader",children:"Loading..."})}):c?e.jsx("div",{className:"review-page",children:e.jsx("div",{className:"error",children:c})}):!n||!r?e.jsx("div",{className:"review-page",children:e.jsx("div",{className:"empty",children:"No data found"})}):e.jsxs("div",{className:"review-page",children:[e.jsxs("header",{className:"review-header",children:[e.jsx("button",{onClick:()=>s(-1),className:"btn-back",children:" Back"}),e.jsx("h2",{children:"Website Research Audit"}),e.jsx("div",{})]}),e.jsxs("div",{className:"review-split",children:[e.jsxs("aside",{className:"review-side left-side",children:[e.jsx("h3",{children:"Researcher Submission"}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("p",{children:r.contactName||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Email"}),e.jsx("p",{children:r.email||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Phone"}),e.jsx("p",{children:r.phone||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Country"}),e.jsx("p",{children:r.country||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Language"}),e.jsx("p",{children:r.language||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Tech Stack"}),e.jsx("p",{className:"tech-stack",children:r.techStack||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("p",{className:"notes",children:r.notes||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:`badge status-${n.status.toLowerCase()}`,children:n.status})]})]}),e.jsxs("section",{className:"review-side right-side",children:[e.jsx("h3",{children:"Evidence"}),r.screenshotPath?e.jsxs("div",{className:"screenshot-container",children:[e.jsx("img",{src:r.screenshotPath,alt:"Research evidence",className:"screenshot-img"}),e.jsx("p",{className:"caption",children:"Screenshot / Evidence"})]}):e.jsx("div",{className:"empty-evidence",children:"No screenshot provided"})]})]}),e.jsx("footer",{className:"review-footer",children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:u,disabled:p,className:"btn-approve",children:p?"Approving...":"Approve"}),e.jsx("button",{onClick:()=>N(!0),disabled:f,className:"btn-reject",children:"Reject"})]})}),S&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsx("h3",{children:"Reject Submission"}),e.jsx("textarea",{placeholder:"Reason for rejection (optional)",value:j,onChange:y=>w(y.target.value),className:"reject-textarea"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:x,disabled:f,className:"btn-confirm",children:f?"Rejecting...":"Confirm Reject"}),e.jsx("button",{onClick:()=>N(!1),className:"btn-cancel-modal",children:"Cancel"})]})]})})]})}const iv=()=>{var U,q,D,M,z,L;const{taskId:t}=Wr(),s=it(),[n,a]=d.useState(null),[r,i]=d.useState(!0),[l,o]=d.useState(null),[c,h]=d.useState(!1),[p,m]=d.useState(""),[f,g]=d.useState(!1);d.useEffect(()=>{(async()=>{try{if(!t){o("Task ID not provided"),i(!1);return}if(!localStorage.getItem("token")){o("Authentication required"),i(!1);return}const A=await By(t);a(A)}catch(E){o(E instanceof Error?E.message:"Failed to load task")}finally{i(!1)}})()},[t]);const j=async()=>{if(t)try{g(!0),await zy(t),s(-1)}catch(C){o(C instanceof Error?C.message:"Failed to approve task"),g(!1)}},w=async()=>{if(t)try{g(!0),await $y(t,p),s(-1)}catch(C){o(C instanceof Error?C.message:"Failed to reject task"),g(!1)}},S=async()=>{if(t)try{g(!0),await Wy(t),s(-1)}catch(C){o(C instanceof Error?C.message:"Failed to flag task"),g(!1)}};if(r)return e.jsx("div",{className:"loader",children:"Loading task..."});if(l)return e.jsxs("div",{className:"error",children:["Error: ",l]});if(!n)return e.jsx("div",{className:"empty",children:"Task not found"});const N=((U=n.contact)==null?void 0:U.contactName)||"N/A",u=((q=n.contact)==null?void 0:q.contactLinkedinUrl)||"N/A",x=((D=n.contact)==null?void 0:D.country)||"N/A",y=((M=n.contact)==null?void 0:M.language)||"N/A",v=(L=(z=n.contact)==null?void 0:z.researchSubmission)==null?void 0:L.screenshotPath,T=C=>{switch(C){case"PENDING":return"status-pending";case"COMPLETED":return"status-approved";case"REJECTED":return"status-rejected";case"SUBMITTED":return"status-flagged";default:return"status-pending"}};return e.jsxs("div",{className:"review-page",children:[e.jsxs("div",{className:"review-header",children:[e.jsx("button",{className:"btn-back",onClick:()=>s(-1),children:" Back"}),e.jsx("h2",{children:"LinkedIn Research Audit"}),e.jsx("span",{className:`badge ${T(n.status)}`,children:n.status})]}),e.jsxs("div",{className:"review-split",children:[e.jsxs("div",{className:"review-side left-side",children:[e.jsx("h3",{children:"Research Data"}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("p",{children:N})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"LinkedIn URL"}),u!=="N/A"?e.jsx("p",{children:e.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",children:u})}):e.jsx("p",{children:u})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Country"}),e.jsx("p",{children:x})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Language"}),e.jsx("p",{children:y})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Task Status"}),e.jsx("span",{className:`badge ${T(n.status)}`,children:n.status})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Created Date"}),e.jsx("p",{children:new Date(n.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:"review-side right-side",children:[e.jsx("h3",{children:"Evidence"}),v?e.jsxs("div",{className:"screenshot-container",children:[e.jsx("img",{src:v,alt:"Research Evidence",className:"screenshot-img",onClick:()=>window.open(v,"_blank")}),e.jsx("p",{className:"caption",children:"Click to enlarge"})]}):e.jsx("div",{className:"empty-evidence",children:e.jsx("p",{children:"No evidence uploaded"})})]})]}),e.jsx("div",{className:"review-footer",children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"btn-approve",onClick:j,disabled:f,children:" Approve"}),e.jsx("button",{className:"btn-reject",onClick:()=>h(!0),disabled:f,children:" Reject"}),e.jsx("button",{className:"btn-reject",onClick:S,disabled:f,style:{background:"#f59e0b"},children:" Flag for Review"})]})}),c&&e.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"modal",onClick:C=>C.stopPropagation(),children:[e.jsx("h3",{children:"Reject Task"}),e.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginBottom:"16px"},children:"Please provide a reason for rejection:"}),e.jsx("textarea",{className:"reject-textarea",value:p,onChange:C=>m(C.target.value),placeholder:"Enter rejection reason..."}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn-confirm",onClick:w,disabled:f||!p.trim(),children:"Confirm Rejection"}),e.jsx("button",{className:"btn-cancel-modal",onClick:()=>{h(!1),m("")},disabled:f,children:"Cancel"})]})]})})]})},lv=()=>{var D,M,z,L;const{taskId:t}=Wr(),s=it(),[n,a]=d.useState(null),[r,i]=d.useState(!0),[l,o]=d.useState(null),[c,h]=d.useState(!1),[p,m]=d.useState(""),[f,g]=d.useState(!1);d.useEffect(()=>{(async()=>{try{if(!t){o("Task ID not provided"),i(!1);return}if(!localStorage.getItem("token")){o("Authentication required"),i(!1);return}const A=await bm(t);a(A)}catch(E){o(E instanceof Error?E.message:"Failed to load task")}finally{i(!1)}})()},[t]);const j=async()=>{if(t)try{g(!0),await km(t),s(-1)}catch(C){o(C instanceof Error?C.message:"Failed to approve task"),g(!1)}},w=async()=>{if(t)try{g(!0),await wm(t,p),s(-1)}catch(C){o(C instanceof Error?C.message:"Failed to reject task"),g(!1)}},S=async()=>{if(t)try{g(!0),await Sm(t),s(-1)}catch(C){o(C instanceof Error?C.message:"Failed to flag task"),g(!1)}};if(r)return e.jsx("div",{className:"loader",children:"Loading task..."});if(l)return e.jsxs("div",{className:"error",children:["Error: ",l]});if(!n)return e.jsx("div",{className:"empty",children:"Task not found"});const N=((D=n.contact)==null?void 0:D.companyName)||"N/A",u=((M=n.contact)==null?void 0:M.email)||"N/A",x=((z=n.contact)==null?void 0:z.phone)||"N/A",y=((L=n.contact)==null?void 0:L.industry)||"N/A",v=n.inquiry_actions||[],T=n.inquiry_submission_snapshots||[],U=C=>{switch(C){case"PENDING":return"status-pending";case"APPROVED":case"COMPLETED":return"status-approved";case"REJECTED":return"status-rejected";case"FLAGGED":return"status-flagged";default:return"status-pending"}},q=C=>{switch(C){case"PENDING":return"status-pending";case"COMPLETED":case"SUCCESS":return"status-approved";case"FAILED":case"ERROR":return"status-rejected";default:return"status-pending"}};return e.jsxs("div",{className:"review-page",children:[e.jsxs("div",{className:"review-header",children:[e.jsx("button",{className:"btn-back",onClick:()=>s(-1),children:" Back"}),e.jsx("h2",{children:"Website Inquiry Audit"}),e.jsx("span",{className:`badge ${U(n.status)}`,children:n.status})]}),e.jsxs("div",{className:"review-split",children:[e.jsxs("div",{className:"review-side left-side",children:[e.jsx("h3",{children:"Inquiry Actions"}),v.length>0?e.jsx("div",{children:v.map(C=>e.jsxs("div",{className:"field-group",style:{borderLeft:"3px solid #3b82f6",paddingLeft:"12px"},children:[e.jsx("label",{children:C.actionType}),e.jsxs("p",{children:["Status: ",e.jsx("span",{className:`badge ${q(C.status)}`,children:C.status})]}),e.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",marginTop:"4px"},children:new Date(C.created_at).toLocaleString()})]},C.id))}):e.jsx("div",{className:"empty-evidence",children:e.jsx("p",{children:"No actions recorded"})}),e.jsxs("div",{className:"field-group",style:{marginTop:"24px"},children:[e.jsx("label",{children:"Target Information"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Company:"})," ",N]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",u]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",x]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Industry:"})," ",y]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Created Date"}),e.jsx("p",{children:new Date(n.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:"review-side right-side",children:[e.jsx("h3",{children:"Submission Evidence"}),T.length>0?e.jsx("div",{children:T.map((C,E)=>e.jsxs("div",{className:"field-group",style:{borderLeft:"3px solid #10b981",paddingLeft:"12px"},children:[e.jsxs("label",{children:["Snapshot ",E+1]}),C.screenshot_path?e.jsx("img",{src:C.screenshot_path,alt:`Snapshot ${E+1}`,className:"screenshot-img",onClick:()=>window.open(C.screenshot_path,"_blank")}):e.jsx("div",{className:"empty-evidence",children:e.jsx("p",{children:"No screenshot"})}),C.message_content&&e.jsxs("p",{style:{fontSize:"12px",color:"#475569",marginTop:"8px",fontStyle:"italic"},children:['"',C.message_content,'"']}),C.is_duplicate&&e.jsx("p",{style:{fontSize:"12px",color:"#dc2626",fontWeight:600,marginTop:"4px"},children:" Marked as Duplicate"}),e.jsx("p",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"4px"},children:new Date(C.created_at).toLocaleString()})]},C.id))}):e.jsx("div",{className:"empty-evidence",children:e.jsx("p",{children:"No submission snapshots"})})]})]}),e.jsx("div",{className:"review-footer",children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"btn-approve",onClick:j,disabled:f,children:" Approve"}),e.jsx("button",{className:"btn-reject",onClick:()=>h(!0),disabled:f,children:" Reject"}),e.jsx("button",{className:"btn-reject",onClick:S,disabled:f,style:{background:"#f59e0b"},children:" Flag for Review"})]})}),c&&e.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"modal",onClick:C=>C.stopPropagation(),children:[e.jsx("h3",{children:"Reject Task"}),e.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginBottom:"16px"},children:"Please provide a reason for rejection:"}),e.jsx("textarea",{className:"reject-textarea",value:p,onChange:C=>m(C.target.value),placeholder:"Enter rejection reason..."}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn-confirm",onClick:w,disabled:f||!p.trim(),children:"Confirm Rejection"}),e.jsx("button",{className:"btn-cancel-modal",onClick:()=>{h(!1),m("")},disabled:f,children:"Cancel"})]})]})})]})},Ei=["OUTREACH","ASK_FOR_EMAIL","SEND_CATALOGUE"],ov=()=>{var z,L,C;const{taskId:t}=Wr(),s=it(),[n,a]=d.useState(null),[r,i]=d.useState(!0),[l,o]=d.useState(null),[c,h]=d.useState(!1),[p,m]=d.useState(""),[f,g]=d.useState(!1),[j,w]=d.useState({});d.useEffect(()=>{(async()=>{try{if(!t){o("Task ID not provided"),i(!1);return}if(!localStorage.getItem("token")){o("Authentication required"),i(!1);return}const R=await bm(t);a(R),S(R)}catch(A){o(A instanceof Error?A.message:"Failed to load task")}finally{i(!1)}})()},[t]);const S=E=>{const A=E.inquiry_actions||[],R={};let P=!1;Ei.forEach((O,k)=>{var $,b,B;const _=A.find(K=>K.actionType===O),I=_&&(_.status==="COMPLETED"||_.status==="SUCCESS"),F=k>0?Ei[k-1]:void 0,Q=F?(($=R[F])==null?void 0:$.completed)||!1:!0;if(R[O]={completed:I,blocked:k>0&&!Q,email_not_required:O==="SEND_CATALOGUE"&&P},O==="ASK_FOR_EMAIL"&&I){const K=(b=E.inquiry_submission_snapshots)==null?void 0:b.find(V=>V.created_at>=((_==null?void 0:_.created_at)||""));P=((B=K==null?void 0:K.message_content)==null?void 0:B.toLowerCase().includes("email"))||!1}}),w(R)},N=async()=>{if(t)try{g(!0),await km(t),s(-1)}catch(E){o(E instanceof Error?E.message:"Failed to approve task"),g(!1)}},u=async()=>{if(t)try{g(!0),await wm(t,p),s(-1)}catch(E){o(E instanceof Error?E.message:"Failed to reject task"),g(!1)}},x=async()=>{if(t)try{g(!0),await Sm(t),s(-1)}catch(E){o(E instanceof Error?E.message:"Failed to flag task"),g(!1)}};if(r)return e.jsx("div",{className:"loader",children:"Loading task..."});if(l)return e.jsxs("div",{className:"error",children:["Error: ",l]});if(!n)return e.jsx("div",{className:"empty",children:"Task not found"});const y=((z=n.contact)==null?void 0:z.profileName)||"N/A",v=((L=n.contact)==null?void 0:L.profileUrl)||"N/A",T=((C=n.contact)==null?void 0:C.country)||"N/A",U=n.inquiry_actions||[],q=n.inquiry_submission_snapshots||[],D=E=>{switch(E){case"PENDING":return"status-pending";case"APPROVED":case"COMPLETED":return"status-approved";case"REJECTED":return"status-rejected";case"FLAGGED":return"status-flagged";default:return"status-pending"}},M=(E,A)=>{const R=j[E];let P="",O="status-pending";return R!=null&&R.completed?(P="",O="status-approved"):R!=null&&R.blocked&&(P="",O="status-rejected"),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[e.jsxs("span",{className:`badge ${O}`,children:[P," STEP ",A+1]}),e.jsx("strong",{children:E})]}),(R==null?void 0:R.blocked)&&e.jsx("p",{style:{fontSize:"12px",color:"#dc2626",fontWeight:600,marginLeft:"32px"},children:" Blocked - Previous step must be completed first"}),(R==null?void 0:R.email_not_required)&&e.jsx("p",{style:{fontSize:"12px",color:"#f59e0b",fontWeight:600,marginLeft:"32px"},children:" Email not provided, can proceed to catalogue step"}),!(R!=null&&R.blocked)&&!(R!=null&&R.completed)&&e.jsx("p",{style:{fontSize:"12px",color:"#64748b",marginLeft:"32px"},children:"Awaiting completion..."}),(R==null?void 0:R.completed)&&e.jsx("p",{style:{fontSize:"12px",color:"#10b981",fontWeight:600,marginLeft:"32px"},children:" Completed"})]},E)};return e.jsxs("div",{className:"review-page",children:[e.jsxs("div",{className:"review-header",children:[e.jsx("button",{className:"btn-back",onClick:()=>s(-1),children:" Back"}),e.jsx("h2",{children:"LinkedIn Inquiry Audit"}),e.jsx("span",{className:`badge ${D(n.status)}`,children:n.status})]}),e.jsxs("div",{className:"review-split",children:[e.jsxs("div",{className:"review-side left-side",children:[e.jsx("h3",{children:"LinkedIn Inquiry Flow (Strict 3-Step)"}),e.jsxs("div",{style:{marginBottom:"24px",padding:"12px",background:"#f0fdf4",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[e.jsx("p",{style:{margin:0,fontSize:"12px",color:"#166534",fontWeight:600},children:"Required Workflow:"}),e.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"#166534"},children:"OUTREACH  ASK_FOR_EMAIL  SEND_CATALOGUE (Steps cannot be skipped)"})]}),Ei.map((E,A)=>M(E,A)),e.jsxs("div",{className:"field-group",style:{marginTop:"24px"},children:[e.jsx("label",{children:"Profile Information"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",y]}),v!=="N/A"?e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",e.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",children:v})]}):e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",v]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",T]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Created Date"}),e.jsx("p",{children:new Date(n.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:"review-side right-side",children:[e.jsx("h3",{children:"Action Details & Evidence"}),U.length>0?e.jsx("div",{children:U.map((E,A)=>{const R=q.filter(P=>new Date(P.created_at)>=new Date(E.created_at));return e.jsxs("div",{style:{marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid #e2e8f0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("strong",{children:E.actionType}),e.jsx("span",{className:`badge ${D(E.status)}`,children:E.status})]}),e.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",margin:"8px 0"},children:new Date(E.created_at).toLocaleString()}),R.length>0&&e.jsx("div",{style:{marginTop:"12px"},children:R.map((P,O)=>e.jsxs("div",{style:{marginBottom:"8px"},children:[P.screenshot_path&&e.jsx("img",{src:P.screenshot_path,alt:`${E.actionType} snapshot ${O+1}`,className:"screenshot-img",onClick:()=>window.open(P.screenshot_path,"_blank"),style:{marginBottom:"8px"}}),P.message_content&&e.jsxs("p",{style:{fontSize:"12px",color:"#475569",fontStyle:"italic",margin:"4px 0"},children:['"',P.message_content,'"']}),P.is_duplicate&&e.jsx("p",{style:{fontSize:"11px",color:"#dc2626",fontWeight:600},children:" Duplicate detected"})]},P.id))})]},E.id)})}):e.jsx("div",{className:"empty-evidence",children:e.jsx("p",{children:"No actions recorded"})})]})]}),e.jsx("div",{className:"review-footer",children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"btn-approve",onClick:N,disabled:f,children:" Approve"}),e.jsx("button",{className:"btn-reject",onClick:()=>h(!0),disabled:f,children:" Reject"}),e.jsx("button",{className:"btn-reject",onClick:x,disabled:f,style:{background:"#f59e0b"},children:" Flag for Review"})]})}),c&&e.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"modal",onClick:E=>E.stopPropagation(),children:[e.jsx("h3",{children:"Reject Task"}),e.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginBottom:"16px"},children:"Please provide a reason for rejection:"}),e.jsx("textarea",{className:"reject-textarea",value:p,onChange:E=>m(E.target.value),placeholder:"Enter rejection reason..."}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn-confirm",onClick:u,disabled:f||!p.trim(),children:"Confirm Rejection"}),e.jsx("button",{className:"btn-cancel-modal",onClick:()=>{h(!1),m("")},disabled:f,children:"Cancel"})]})]})})]})};function Nd(){var E;const n=zt().pathname.includes("linkedin-research")?"linkedin":"website",[a,r]=d.useState([]),[i,l]=d.useState([]),[o,c]=d.useState("idle"),[h,p]=d.useState("idle"),[m,f]=d.useState("all"),[g,j]=d.useState(""),[w,S]=d.useState(50),[N,u]=d.useState(0),[x,y]=d.useState(0),[v,T]=d.useState(null);d.useEffect(()=>{(async()=>{try{p("loading");const R=await Wt(),P=R&&R.length>0?Array.from(new Map(R.map(O=>[O.id,O])).values()):[];l(P),P.length===1?f(P[0].id):P.length>1&&f("all"),p("success")}catch(R){console.error("Error loading categories:",R),p("error")}})()},[]),d.useEffect(()=>{(async()=>{try{c("loading");const R=await Yy(w,N),P=R.data||[],O=R.total||0;let k=P;if(m!=="all"&&(k=k.filter(_=>{var I;return _.categoryName===((I=i.find(F=>F.id===m))==null?void 0:I.name)})),k=k.filter(_=>_.source===n),g.trim()){const _=g.toLowerCase();k=k.filter(I=>I.target&&I.target.toLowerCase().includes(_)||I.targetUrl&&I.targetUrl.toLowerCase().includes(_)||I.category&&I.category.toLowerCase().includes(_)||I.country&&I.country.toLowerCase().includes(_))}r(k),y(O),c("success")}catch(R){console.error("Error loading research audit tasks:",R),c("error")}})()},[m,n,w,N,g,i]);const U=Math.floor(N/w)+1,q=Math.ceil(x/w)||1,D=a.reduce((A,R)=>{const P=R.category||"Uncategorized";return A[P]||(A[P]=[]),A[P].push(R),A},{}),M={submitted:"#3498DB",pending:"#FFA500",completed:"#27AE60",approved:"#2ECC71",rejected:"#E74C3C"},z=A=>M[A]||"#95A5A6",L=A=>({submitted:"Awaiting Audit",pending:"Pending",completed:"Completed",approved:"Approved",rejected:"Rejected"})[A]||A,C=A=>A==="website"?" Website":" LinkedIn";return e.jsxs("div",{className:"website-research-container",children:[e.jsxs("div",{className:"website-research-header",children:[e.jsx("h1",{children:" Research Audit Queue"}),e.jsx("p",{className:"header-subtitle",children:"Review and audit submitted research tasks before they proceed to inquiry phase"})]}),e.jsxs("div",{className:"website-research-filters",children:[e.jsxs("div",{className:"filters-grid",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"search-filter",children:"Search"}),e.jsx("input",{id:"search-filter",type:"text",placeholder:"Search by target, URL, country...",value:g,onChange:A=>j(A.target.value),className:"filter-input search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"category-filter",children:"Category"}),e.jsxs("select",{id:"category-filter",value:m,onChange:A=>{f(A.target.value),u(0)},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Categories"}),i.map(A=>e.jsx("option",{value:A.id,children:A.name},A.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"platform-filter",children:"Platform"}),e.jsx("div",{id:"platform-filter",className:"filter-select",style:{backgroundColor:"#f5f5f5",color:"#333",padding:"10px",borderRadius:"6px",border:"1px solid #ddd"},children:n==="website"?" Website":" LinkedIn"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"limit-filter",children:"Results Per Page"}),e.jsxs("select",{id:"limit-filter",value:w,onChange:A=>{S(Number(A.target.value)),u(0)},className:"filter-select",children:[e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),(m!=="all"||g)&&e.jsxs("div",{className:"active-filters",children:[e.jsx("span",{className:"active-filters-label",children:"Active filters:"}),m!=="all"&&e.jsxs("div",{className:"filter-tag",children:["Category: ",(E=i.find(A=>A.id===m))==null?void 0:E.name,e.jsx("button",{onClick:()=>{f("all"),u(0)},children:""})]}),g&&e.jsxs("div",{className:"filter-tag",children:['Search: "',g,'"',e.jsx("button",{onClick:()=>{j(""),u(0)},children:""})]})]})]}),e.jsx("div",{className:"results-summary",children:e.jsxs("span",{children:["Showing ",a.length>0?N+1:0," to"," ",Math.min(N+w,x)," of ",x," tasks"]})}),o==="loading"&&e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading research audit tasks..."})]}),o==="error"&&e.jsxs("div",{className:"error-container",children:[e.jsx("p",{children:" Failed to load research audit tasks"}),e.jsx("p",{className:"error-message",children:"Please try again later or contact support"})]}),o==="success"&&a.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:" No research tasks awaiting audit"}),e.jsx("p",{children:"Try adjusting your filters or search query"})]}),o==="success"&&a.length>0&&e.jsx("div",{className:"tasks-container",children:Object.entries(D).map(([A,R])=>e.jsxs("div",{className:"category-group",children:[e.jsxs("div",{className:"category-header",children:[e.jsx("h2",{children:A}),e.jsxs("span",{className:"category-count",children:[R.length," tasks"]})]}),e.jsx("div",{className:"tasks-grid",children:R.map(P=>e.jsxs("div",{className:"task-card",children:[e.jsxs("div",{className:"task-card-header",children:[e.jsx("h3",{className:"task-company-name",children:P.target}),e.jsx("span",{className:"task-status-badge",style:{backgroundColor:z(P.status)},children:L(P.status)})]}),e.jsxs("div",{className:"task-card-body",children:[e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Platform:"}),e.jsx("span",{className:"task-value",children:C(P.source)})]}),P.targetUrl&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"URL:"}),e.jsx("span",{className:"task-value",children:e.jsx("a",{href:P.targetUrl.startsWith("http")?P.targetUrl:`https://${P.targetUrl}`,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:P.targetUrl})})]}),P.country&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Country:"}),e.jsxs("span",{className:"task-value",children:[" ",P.country]})]}),e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Submitted:"}),e.jsx("span",{className:"task-value",children:new Date(P.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("div",{className:"task-card-footer",children:e.jsx("button",{className:"btn-view-details",onClick:()=>T(P),children:"View Details"})})]},P.id))})]},A))}),o==="success"&&a.length>0&&q>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"pagination-btn",onClick:()=>u(Math.max(0,N-w)),disabled:N===0,children:" Previous"}),e.jsxs("div",{className:"pagination-info",children:["Page ",U," of ",q]}),e.jsx("button",{className:"pagination-btn",onClick:()=>u(N+w),disabled:U===q,children:"Next "})]}),v&&e.jsx("div",{className:"modal-overlay",onClick:()=>T(null),children:e.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:v.target}),e.jsx("button",{className:"modal-close",onClick:()=>T(null),children:""})]}),e.jsxs("div",{className:"modal-body",children:[v.targetUrl&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"URL"}),e.jsx("a",{href:v.targetUrl.startsWith("http")?v.targetUrl:`https://${v.targetUrl}`,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:v.targetUrl})]}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Platform"}),e.jsx("p",{children:C(v.source)})]}),v.country&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Country"}),e.jsxs("p",{children:[" ",v.country]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Category"}),e.jsx("p",{children:v.category})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:"status-badge-modal",style:{backgroundColor:z(v.status)},children:L(v.status)})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Submitted"}),e.jsx("p",{children:new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Task ID"}),e.jsx("code",{className:"task-id",children:v.id})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-primary",onClick:()=>T(null),children:"Close"})})]})})]})}function bd(){var E;const n=zt().pathname.includes("linkedin-inquiry")?"linkedin":"website",[a,r]=d.useState([]),[i,l]=d.useState([]),[o,c]=d.useState("idle"),[h,p]=d.useState("idle"),[m,f]=d.useState("all"),[g,j]=d.useState(""),[w,S]=d.useState(50),[N,u]=d.useState(0),[x,y]=d.useState(0),[v,T]=d.useState(null);d.useEffect(()=>{(async()=>{try{p("loading");const R=await Wt(),P=R&&R.length>0?Array.from(new Map(R.map(O=>[O.id,O])).values()):[];l(P),P.length===1?f(P[0].id):P.length>1&&f("all"),p("success")}catch(R){console.error("Error loading categories:",R),p("error")}})()},[]),d.useEffect(()=>{(async()=>{try{c("loading");const R=await Xy(w,N),P=R.data||[],O=R.total||0;let k=P;if(m!=="all"&&(k=k.filter(_=>{var I;return _.categoryName===((I=i.find(F=>F.id===m))==null?void 0:I.name)})),k=k.filter(_=>_.platform===n),g.trim()){const _=g.toLowerCase();k=k.filter(I=>I.target&&I.target.toLowerCase().includes(_)||I.targetUrl&&I.targetUrl.toLowerCase().includes(_)||I.category&&I.category.toLowerCase().includes(_)||I.country&&I.country.toLowerCase().includes(_))}r(k),y(O),c("success")}catch(R){console.error("Error loading inquiry audit tasks:",R),c("error")}})()},[m,n,w,N,g,i]);const U=Math.floor(N/w)+1,q=Math.ceil(x/w)||1,D=a.reduce((A,R)=>{const P=R.category||"Uncategorized";return A[P]||(A[P]=[]),A[P].push(R),A},{}),M={completed:"#3498DB",pending:"#FFA500",approved:"#2ECC71",rejected:"#E74C3C",in_progress:"#9B59B6"},z=A=>M[A]||"#95A5A6",L=A=>({completed:"Awaiting Audit",pending:"Pending",approved:"Approved",rejected:"Rejected",in_progress:"In Progress"})[A]||A,C=A=>A==="website"?" Website":" LinkedIn";return e.jsxs("div",{className:"website-research-container",children:[e.jsxs("div",{className:"website-research-header",children:[e.jsx("h1",{children:" Inquiry Audit Queue"}),e.jsx("p",{className:"header-subtitle",children:"Review and audit completed inquiry submissions before approval or rejection"})]}),e.jsxs("div",{className:"website-research-filters",children:[e.jsxs("div",{className:"filters-grid",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"search-filter",children:"Search"}),e.jsx("input",{id:"search-filter",type:"text",placeholder:"Search by target, URL, country...",value:g,onChange:A=>j(A.target.value),className:"filter-input search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"category-filter",children:"Category"}),e.jsxs("select",{id:"category-filter",value:m,onChange:A=>{f(A.target.value),u(0)},className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Categories"}),i.map(A=>e.jsx("option",{value:A.id,children:A.name},A.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"platform-filter",children:"Platform"}),e.jsx("div",{id:"platform-filter",className:"filter-select",style:{backgroundColor:"#f5f5f5",color:"#333",padding:"10px",borderRadius:"6px",border:"1px solid #ddd"},children:n==="website"?" Website":" LinkedIn"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"limit-filter",children:"Results Per Page"}),e.jsxs("select",{id:"limit-filter",value:w,onChange:A=>{S(Number(A.target.value)),u(0)},className:"filter-select",children:[e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),(m!=="all"||g)&&e.jsxs("div",{className:"active-filters",children:[e.jsx("span",{className:"active-filters-label",children:"Active filters:"}),m!=="all"&&e.jsxs("div",{className:"filter-tag",children:["Category: ",(E=i.find(A=>A.id===m))==null?void 0:E.name,e.jsx("button",{onClick:()=>{f("all"),u(0)},children:""})]}),g&&e.jsxs("div",{className:"filter-tag",children:['Search: "',g,'"',e.jsx("button",{onClick:()=>{j(""),u(0)},children:""})]})]})]}),e.jsx("div",{className:"results-summary",children:e.jsxs("span",{children:["Showing ",a.length>0?N+1:0," to"," ",Math.min(N+w,x)," of ",x," tasks"]})}),o==="loading"&&e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading inquiry audit tasks..."})]}),o==="error"&&e.jsxs("div",{className:"error-container",children:[e.jsx("p",{children:" Failed to load inquiry audit tasks"}),e.jsx("p",{className:"error-message",children:"Please try again later or contact support"})]}),o==="success"&&a.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:" No inquiry tasks awaiting audit"}),e.jsx("p",{children:"Try adjusting your filters or search query"})]}),o==="success"&&a.length>0&&e.jsx("div",{className:"tasks-container",children:Object.entries(D).map(([A,R])=>e.jsxs("div",{className:"category-group",children:[e.jsxs("div",{className:"category-header",children:[e.jsx("h2",{children:A}),e.jsxs("span",{className:"category-count",children:[R.length," tasks"]})]}),e.jsx("div",{className:"tasks-grid",children:R.map(P=>e.jsxs("div",{className:"task-card",children:[e.jsxs("div",{className:"task-card-header",children:[e.jsx("h3",{className:"task-company-name",children:P.target}),e.jsx("span",{className:"task-status-badge",style:{backgroundColor:z(P.status)},children:L(P.status)})]}),e.jsxs("div",{className:"task-card-body",children:[e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Platform:"}),e.jsx("span",{className:"task-value",children:C(P.channel)})]}),P.targetUrl&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"URL:"}),e.jsx("span",{className:"task-value",children:e.jsx("a",{href:P.targetUrl.startsWith("http")?P.targetUrl:`https://${P.targetUrl}`,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:P.targetUrl})})]}),P.country&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Country:"}),e.jsxs("span",{className:"task-value",children:[" ",P.country]})]}),P.researchStatus&&e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Research Status:"}),e.jsx("span",{className:"task-value",children:P.researchStatus})]}),e.jsxs("div",{className:"task-field",children:[e.jsx("span",{className:"task-label",children:"Submitted:"}),e.jsx("span",{className:"task-value",children:new Date(P.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("div",{className:"task-card-footer",children:e.jsx("button",{className:"btn-view-details",onClick:()=>T(P),children:"View Details"})})]},P.id))})]},A))}),o==="success"&&a.length>0&&q>1&&e.jsxs("div",{className:"pagination",children:[e.jsx("button",{className:"pagination-btn",onClick:()=>u(Math.max(0,N-w)),disabled:N===0,children:" Previous"}),e.jsxs("div",{className:"pagination-info",children:["Page ",U," of ",q]}),e.jsx("button",{className:"pagination-btn",onClick:()=>u(N+w),disabled:U===q,children:"Next "})]}),v&&e.jsx("div",{className:"modal-overlay",onClick:()=>T(null),children:e.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:v.target}),e.jsx("button",{className:"modal-close",onClick:()=>T(null),children:""})]}),e.jsxs("div",{className:"modal-body",children:[v.targetUrl&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"URL"}),e.jsx("a",{href:v.targetUrl.startsWith("http")?v.targetUrl:`https://${v.targetUrl}`,target:"_blank",rel:"noopener noreferrer",className:"domain-link",children:v.targetUrl})]}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Platform"}),e.jsx("p",{children:C(v.channel)})]}),v.country&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Country"}),e.jsxs("p",{children:[" ",v.country]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Category"}),e.jsx("p",{children:v.category})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:"status-badge-modal",style:{backgroundColor:z(v.status)},children:L(v.status)})]}),v.researchStatus&&e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Research Status"}),e.jsx("p",{children:v.researchStatus})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Submitted"}),e.jsx("p",{children:new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("label",{children:"Task ID"}),e.jsx("code",{className:"task-id",children:v.id})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn-primary",onClick:()=>T(null),children:"Close"})})]})})]})}function wt(){const[t,s]=d.useState([]),[n,a]=d.useState(null),[r,i]=d.useState([]),[l,o]=d.useState(!0),[c,h]=d.useState(null),[p,m]=d.useState(""),[f,g]=d.useState(!1),[j,w]=d.useState([]),[S,N]=d.useState(""),[u,x]=d.useState({participantUserId:"",subject:"",initialMessage:""}),y=d.useCallback(async()=>{o(!0),h(null);try{const D=await ne.get("/subadmin/conversations");s(Array.isArray(D.data)?D.data:[])}catch(D){console.error("fetchConversations error",D),h(D.message||"Failed to load conversations")}finally{o(!1)}},[]),v=d.useCallback(async D=>{try{const M=await ne.get(`/subadmin/conversations/${D}/messages`);i(Array.isArray(M.data)?M.data:[]),await ne.patch(`/subadmin/conversations/${D}/read`),y()}catch(M){console.error("fetchMessages error",M)}},[y]),T=d.useCallback(async()=>{try{const D=await ne.get("/subadmin/users");w(Array.isArray(D.data)?D.data:[])}catch(D){console.error("Failed to load users",D)}},[]);d.useEffect(()=>{y(),T()},[y,T]),d.useEffect(()=>{n&&v(n.id)},[n,v]);const U=async()=>{var D,M;if(!(!n||!p.trim()))try{await ne.post(`/subadmin/conversations/${n.id}/messages`,{messageText:p}),m(""),v(n.id)}catch(z){alert(((M=(D=z.response)==null?void 0:D.data)==null?void 0:M.message)||"Failed to send message")}},q=async D=>{var M,z;D.preventDefault();try{await ne.post("/subadmin/conversations",{participantUserIds:[u.participantUserId],subject:u.subject,initialMessage:u.initialMessage}),g(!1),x({participantUserId:"",subject:"",initialMessage:""}),N(""),y()}catch(L){alert(((z=(M=L.response)==null?void 0:M.data)==null?void 0:z.message)||"Failed to create conversation")}};return e.jsxs("div",{className:"subadmin-messages",children:[e.jsxs("header",{className:"hdr",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Messages"}),e.jsx("p",{className:"muted",children:"Direct messaging with workers"})]}),e.jsx("button",{className:"btn-primary",onClick:()=>g(!0),children:"+ New Conversation"})]}),e.jsxs("div",{className:"messages-layout",children:[e.jsxs("aside",{className:"messages-list",children:[l&&e.jsx("div",{className:"loader",children:"Loading conversations"}),c&&e.jsxs("div",{className:"error",children:["Error: ",c]}),!l&&!c&&t.length===0&&e.jsx("div",{className:"empty",children:"No conversations yet."}),!l&&!c&&t.map(D=>e.jsxs("div",{className:`msg-item ${(n==null?void 0:n.id)===D.id?"active":""} ${D.unreadCount>0?"unread":""}`,onClick:()=>a(D),children:[e.jsxs("div",{className:"msg-top",children:[e.jsx("strong",{children:D.subject||"No Subject"}),D.unreadCount>0&&e.jsx("span",{className:"unread-badge",children:D.unreadCount})]}),e.jsxs("div",{className:"msg-meta",children:[e.jsx("span",{children:D.participants.map(M=>M.name).join(", ")}),e.jsx("span",{children:new Date(D.lastMessageAt).toLocaleString()})]}),e.jsx("p",{className:"msg-preview",children:D.lastMessage})]},D.id))]}),e.jsxs("main",{className:"messages-content",children:[!n&&e.jsx("div",{className:"no-selection",children:e.jsx("p",{children:"Select a conversation to view messages"})}),n&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"messages-header",children:[e.jsx("h2",{children:n.subject||"Conversation"}),e.jsx("p",{className:"muted",children:n.participants.map(D=>D.name).join(", ")})]}),e.jsx("div",{className:"messages-body",children:r.map(D=>e.jsxs("div",{className:"message",children:[e.jsxs("div",{className:"message-header",children:[e.jsx("strong",{children:D.senderName}),e.jsx("span",{className:"muted",children:new Date(D.createdAt).toLocaleString()})]}),e.jsx("p",{children:D.messageText})]},D.id))}),e.jsxs("div",{className:"messages-input",children:[e.jsx("textarea",{value:p,onChange:D=>m(D.target.value),placeholder:"Type a message...",rows:3,onKeyPress:D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),U())}}),e.jsx("button",{className:"btn-primary",onClick:U,children:"Send"})]})]})]})]}),f&&e.jsx("div",{className:"modal-overlay",onClick:()=>{g(!1),N("")},children:e.jsxs("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[e.jsx("h3",{children:"New Conversation"}),e.jsxs("form",{onSubmit:q,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"participant",children:"Send To *"}),j.length>10&&e.jsx("input",{type:"text",placeholder:"Search users...",value:S,onChange:D=>N(D.target.value),style:{width:"100%",padding:"8px",marginBottom:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),e.jsxs("select",{id:"participant",value:u.participantUserId,onChange:D=>x({...u,participantUserId:D.target.value}),required:!0,style:{width:"100%"},children:[e.jsx("option",{value:"",children:"Choose a user..."}),j.filter(D=>D.name.toLowerCase().includes(S.toLowerCase())||D.email.toLowerCase().includes(S.toLowerCase())).map(D=>e.jsxs("option",{value:D.id,children:[D.name," (",D.email,")"]},D.id))]}),j.filter(D=>D.name.toLowerCase().includes(S.toLowerCase())||D.email.toLowerCase().includes(S.toLowerCase())).length===0&&e.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"8px"},children:"No users found"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"subject",children:"Subject"}),e.jsx("input",{type:"text",id:"subject",value:u.subject,onChange:D=>x({...u,subject:D.target.value}),placeholder:"Optional subject"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"initialMessage",children:"Message *"}),e.jsx("textarea",{id:"initialMessage",value:u.initialMessage,onChange:D=>x({...u,initialMessage:D.target.value}),rows:5,required:!0,placeholder:"Type your message..."})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{g(!1),N("")},children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Start Conversation"})]})]})]})})]})}function cv(){const[t,s]=d.useState("last7"),[n,a]=d.useState(null),[r,i]=d.useState(!0),[l,o]=d.useState(null),c=d.useCallback(async()=>{i(!0),o(null);try{const m=(await ne.get("/subadmin/performance",{params:{period:t}})).data;a({totalActions:Number(m.totalActions??0),approved:Number(m.approved??0),rejected:Number(m.rejected??0),avgReviewTimeMinutes:Number(m.avgReviewTimeMinutes??0),researchCount:Number(m.researchCount??0),inquiryCount:Number(m.inquiryCount??0)})}catch(p){console.error(p),o(p.message||"Failed to load performance"),a(null)}finally{i(!1)}},[t]);d.useEffect(()=>{c()},[c]);const h=n&&n.totalActions>0?Math.round(n.approved/n.totalActions*100):0;return e.jsxs("div",{className:"sa-performance-page",children:[e.jsxs("header",{className:"hdr",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Performance"}),e.jsx("p",{className:"muted",children:"Operational efficiency and quality metrics. Backend-driven."})]}),e.jsxs("select",{className:"period-select",value:t,onChange:p=>s(p.target.value),children:[e.jsx("option",{value:"last24",children:"Last 24 hours"}),e.jsx("option",{value:"last7",children:"Last 7 days"}),e.jsx("option",{value:"last30",children:"Last 30 days"})]})]}),r&&e.jsx("div",{className:"loader",children:"Loading performance"}),l&&e.jsx("div",{className:"error",children:l}),!r&&!l&&!n&&e.jsx("div",{className:"empty",children:"No performance data available."}),n&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"cards",children:[e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Total Actions"}),e.jsx("h2",{children:n.totalActions.toLocaleString()})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Approval Rate"}),e.jsxs("h2",{children:[h,"%"]}),e.jsxs("small",{children:[n.approved," approved / ",n.rejected," rejected"]})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Avg Review Time"}),e.jsxs("h2",{children:[n.avgReviewTimeMinutes," min"]}),e.jsx("small",{children:"End-to-end"})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Action Mix"}),e.jsx("h2",{children:n.researchCount+n.inquiryCount}),e.jsxs("small",{children:["Research: ",n.researchCount,"  Inquiry: ",n.inquiryCount]})]})]}),e.jsxs("section",{className:"notes",children:[e.jsx("h3",{children:"Interpretation"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Low approval rate usually signals unclear rules or bad intake."}),e.jsx("li",{children:"High review time indicates bottlenecks or overloaded reviewers."}),e.jsx("li",{children:"Skewed action mix often predicts backlog growth."})]})]})]})]})}function dv(){const[t,s]=d.useState("last7"),[n,a]=d.useState([]),[r,i]=d.useState(!0),[l,o]=d.useState(null),c=d.useCallback(async()=>{i(!0),o(null);try{const m=await ne.get("/subadmin/top-workers",{params:{period:t}});a(Array.isArray(m.data)?m.data:[])}catch(m){console.error(m),o(m.message||"Failed to load top workers"),a([])}finally{i(!1)}},[t]);d.useEffect(()=>{c()},[c]);const h=n.reduce((m,f)=>{const g=f.roleName;return m[g]||(m[g]=[]),m[g].push(f),m},{}),p=m=>m.split("_").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" ");return e.jsxs("div",{className:"sa-top-workers",children:[e.jsxs("header",{className:"hdr",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Top Workers by Role"}),e.jsx("p",{className:"muted",children:"Top 3 performers per role based on completed tasks"})]}),e.jsxs("select",{className:"period-select",value:t,onChange:m=>s(m.target.value),children:[e.jsx("option",{value:"last24",children:"Last 24 hours"}),e.jsx("option",{value:"last7",children:"Last 7 days"}),e.jsx("option",{value:"last30",children:"Last 30 days"})]})]}),r&&e.jsx("div",{className:"loader",children:"Loading workers"}),l&&e.jsx("div",{className:"error",children:l}),!r&&!l&&n.length===0&&e.jsx("div",{className:"empty",children:"No worker data available for your categories."}),!r&&!l&&n.length>0&&e.jsx("div",{className:"roles-container",children:Object.entries(h).map(([m,f])=>e.jsxs("section",{className:"role-section",children:[e.jsx("h2",{className:"role-title",children:p(m)}),e.jsx("div",{className:"workers-grid",children:f.map((g,j)=>e.jsxs("div",{className:"worker-card",children:[e.jsxs("div",{className:"rank-badge",children:["#",j+1]}),e.jsxs("div",{className:"worker-info",children:[e.jsx("h3",{children:g.name}),e.jsx("p",{className:"worker-email",children:g.email})]}),e.jsxs("div",{className:"worker-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("label",{children:"Total Completed"}),e.jsx("span",{className:"stat-value",children:g.totalCompleted})]}),e.jsxs("div",{className:"stat",children:[e.jsx("label",{children:"Research"}),e.jsx("span",{className:"stat-value",children:g.researchCompleted})]}),e.jsxs("div",{className:"stat",children:[e.jsx("label",{children:"Inquiry"}),e.jsx("span",{className:"stat-value",children:g.inquiryCompleted})]})]})]},g.userId))})]},m))})]})}function uv(){const[t,s]=d.useState([]),[n,a]=d.useState(!0),[r,i]=d.useState(null),[l,o]=d.useState(!1),[c,h]=d.useState(null),[p,m]=d.useState({name:"",description:""});d.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const u=await X.get("/subadmin/company-types");s(u.data||[]),i(null)}catch(u){i(u.message||"Failed to load company types")}finally{a(!1)}},g=()=>{h(null),m({name:"",description:""}),o(!0)},j=u=>{h(u),m({name:u.name,description:u.description||""}),o(!0)},w=async u=>{var x,y;u.preventDefault();try{c?await X.patch(`/subadmin/company-types/${c.id}`,p):await X.post("/subadmin/company-types",p),o(!1),f()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||"Failed to save company type")}},S=async u=>{try{await X.patch(`/subadmin/company-types/${u.id}`,{isActive:!u.isActive}),f()}catch{alert("Failed to update status")}},N=async u=>{var x,y;if(window.confirm(`Are you sure you want to delete "${u.name}"?`))try{await X.delete(`/subadmin/company-types/${u.id}`),f()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||v.message||"Failed to delete company type")}};return e.jsxs("div",{className:"sa-crud-page",children:[e.jsxs("header",{className:"sa-page-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Company Types"}),e.jsx("p",{className:"muted",children:"Manage company type categories for task creation"})]}),e.jsx("button",{className:"btn-primary",onClick:g,children:"+ Add Company Type"})]}),e.jsxs("main",{className:"sa-main",children:[n&&e.jsx("div",{className:"loading-state",children:"Loading..."}),r&&e.jsx("div",{className:"error-message",children:r}),!n&&!r&&e.jsxs("div",{className:"crud-table-container",children:[e.jsxs("table",{className:"crud-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(u=>e.jsxs("tr",{className:u.isActive?"":"inactive-row",children:[e.jsx("td",{className:"font-semibold",children:u.name}),e.jsx("td",{children:u.description||""}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${u.isActive?"status-active":"status-inactive"}`,children:u.isActive?"Active":"Inactive"})}),e.jsx("td",{children:new Date(u.createdAt).toLocaleDateString()}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-sm btn-secondary",onClick:()=>j(u),children:"Edit"}),e.jsx("button",{className:"btn-sm btn-outline",onClick:()=>S(u),children:u.isActive?"Deactivate":"Activate"}),e.jsx("button",{className:"btn-sm btn-danger",onClick:()=>N(u),children:"Delete"})]})})]},u.id))})]}),t.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"No company types created yet."}),e.jsx("button",{className:"btn-primary",onClick:g,children:"Create First Company Type"})]})]})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsx("h3",{children:c?"Edit Company Type":"Create Company Type"}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Name *"}),e.jsx("input",{type:"text",id:"name",value:p.name,onChange:u=>m({...p,name:u.target.value}),required:!0,placeholder:"e.g., Solar Lighting EPC, SaaS, Manufacturing"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:p.description,onChange:u=>m({...p,description:u.target.value}),rows:3,placeholder:"Optional description"})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:c?"Update":"Create"})]})]})]})})]})}function hv(){const[t,s]=d.useState([]),[n,a]=d.useState(!0),[r,i]=d.useState(null),[l,o]=d.useState(!1),[c,h]=d.useState(null),[p,m]=d.useState({name:"",description:""});d.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const u=await X.get("/subadmin/job-types");s(u.data||[]),i(null)}catch(u){i(u.message||"Failed to load job types")}finally{a(!1)}},g=()=>{h(null),m({name:"",description:""}),o(!0)},j=u=>{h(u),m({name:u.name,description:u.description||""}),o(!0)},w=async u=>{var x,y;u.preventDefault();try{c?await X.patch(`/subadmin/job-types/${c.id}`,p):await X.post("/subadmin/job-types",p),o(!1),f()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||"Failed to save job type")}},S=async u=>{try{await X.patch(`/subadmin/job-types/${u.id}`,{isActive:!u.isActive}),f()}catch{alert("Failed to update status")}},N=async u=>{var x,y;if(window.confirm(`Are you sure you want to delete "${u.name}"?`))try{await X.delete(`/subadmin/job-types/${u.id}`),f()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||v.message||"Failed to delete job type")}};return e.jsxs("div",{className:"sa-crud-page",children:[e.jsxs("header",{className:"sa-page-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Job Types"}),e.jsx("p",{className:"muted",children:"Manage job title categories for task creation"})]}),e.jsx("button",{className:"btn-primary",onClick:g,children:"+ Add Job Type"})]}),e.jsxs("main",{className:"sa-main",children:[n&&e.jsx("div",{className:"loading-state",children:"Loading..."}),r&&e.jsx("div",{className:"error-message",children:r}),!n&&!r&&e.jsxs("div",{className:"crud-table-container",children:[e.jsxs("table",{className:"crud-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(u=>e.jsxs("tr",{className:u.isActive?"":"inactive-row",children:[e.jsx("td",{className:"font-semibold",children:u.name}),e.jsx("td",{children:u.description||""}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${u.isActive?"status-active":"status-inactive"}`,children:u.isActive?"Active":"Inactive"})}),e.jsx("td",{children:new Date(u.createdAt).toLocaleDateString()}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-sm btn-secondary",onClick:()=>j(u),children:"Edit"}),e.jsx("button",{className:"btn-sm btn-outline",onClick:()=>S(u),children:u.isActive?"Deactivate":"Activate"}),e.jsx("button",{className:"btn-sm btn-danger",onClick:()=>N(u),children:"Delete"})]})})]},u.id))})]}),t.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"No job types created yet."}),e.jsx("button",{className:"btn-primary",onClick:g,children:"Create First Job Type"})]})]})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsx("h3",{children:c?"Edit Job Type":"Create Job Type"}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Name *"}),e.jsx("input",{type:"text",id:"name",value:p.name,onChange:u=>m({...p,name:u.target.value}),required:!0,placeholder:"e.g., CEO, Project Manager, Engineering Manager"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:p.description,onChange:u=>m({...p,description:u.target.value}),rows:3,placeholder:"Optional description"})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:c?"Update":"Create"})]})]})]})})]})}const Ti=[{value:"website_inquirer_auditor",label:"Website Inquirer Auditor"},{value:"linkedin_inquirer_auditor",label:"LinkedIn Inquirer Auditor"},{value:"website_research_auditor",label:"Website Research Auditor"},{value:"linkedin_research_auditor",label:"LinkedIn Research Auditor"}];function mv(){const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState(!0),[l,o]=d.useState(!1),[c,h]=d.useState(null),[p,m]=d.useState(""),[f,g]=d.useState(""),[j,w]=d.useState(""),[S,N]=d.useState(""),[u,x]=d.useState("rejection"),[y,v]=d.useState([]),[T,U]=d.useState([]),[q,D]=d.useState(!0);d.useEffect(()=>{M(),z()},[]);const M=async()=>{try{const k=await X.get("/subadmin/categories");a(Array.isArray(k.data)?k.data:[])}catch(k){console.error("Failed to load categories:",k)}},z=async()=>{try{i(!0);const k={};p&&(k.search=p),f&&(k.role=f),j&&(k.reasonType=j);const _=await X.get("/subadmin/disapproval-reasons",{params:k});s(_.data)}catch(k){console.error("Failed to load reasons:",k)}finally{i(!1)}};d.useEffect(()=>{const k=setTimeout(z,300);return()=>clearTimeout(k)},[p,f,j]);const L=()=>{h(null),N(""),x("rejection"),v([]),U([]),D(!0),o(!0)},C=k=>{h(k),N(k.description),x(k.reasonType),v(k.applicableRoles),U(k.categoryIds),D(k.isActive),o(!0)},E=async k=>{var I,F;if(k.preventDefault(),!S.trim()){alert("Description is required");return}if(y.length===0){alert("Please select at least one auditor role");return}if(T.length===0){alert("Please select at least one category");return}const _={description:S.trim(),reasonType:u,applicableRoles:y,categoryIds:T,isActive:q};try{c?await X.patch(`/subadmin/disapproval-reasons/${c.id}`,_):await X.post("/subadmin/disapproval-reasons",_),o(!1),z()}catch(Q){alert(((F=(I=Q.response)==null?void 0:I.data)==null?void 0:F.message)||Q.message||"Failed to save disapproval reason")}},A=async k=>{var _,I;if(window.confirm(`Are you sure you want to delete "${k.description}"?`))try{await X.delete(`/subadmin/disapproval-reasons/${k.id}`),z()}catch(F){alert(((I=(_=F.response)==null?void 0:_.data)==null?void 0:I.message)||F.message||"Failed to delete disapproval reason")}},R=k=>{v(_=>_.includes(k)?_.filter(I=>I!==k):[..._,k])},P=k=>{U(_=>_.includes(k)?_.filter(I=>I!==k):[..._,k])},O=t;return e.jsxs("div",{className:"admin-disapproval-container",children:[e.jsxs("header",{className:"page-header",children:[e.jsx("h1",{children:"Disapproval & Flag Reasons (Your Categories)"}),e.jsx("button",{className:"btn-primary",onClick:L,children:"+ Create Reason"})]}),e.jsxs("div",{className:"filters-section",children:[e.jsx("input",{type:"text",placeholder:"Search descriptions...",value:p,onChange:k=>m(k.target.value),className:"filter-input"}),e.jsxs("select",{value:f,onChange:k=>g(k.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Roles"}),Ti.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))]}),e.jsxs("select",{value:j,onChange:k=>w(k.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"rejection",children:"Rejection"}),e.jsx("option",{value:"flag",children:"Flag"})]})]}),r?e.jsx("div",{className:"loading-state",children:"Loading reasons..."}):e.jsxs("table",{className:"reasons-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Applicable Roles"}),e.jsx("th",{children:"Categories"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:O.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No disapproval reasons found. Create one to get started."})}):O.map(k=>e.jsxs("tr",{children:[e.jsx("td",{children:k.description}),e.jsx("td",{children:e.jsx("span",{className:`type-badge type-${k.reasonType}`,children:k.reasonType==="rejection"?"Rejection":"Flag"})}),e.jsx("td",{children:k.applicableRoles.length>0?k.applicableRoles.map(_=>{var I;return((I=Ti.find(F=>F.value===_))==null?void 0:I.label)||_}).join(", "):"None"}),e.jsx("td",{children:k.categoryIds.length>0?k.categoryIds.map(_=>{var I;return((I=n.find(F=>F.id===_))==null?void 0:I.name)||_}).join(", "):"All"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-${k.isActive?"active":"inactive"}`,children:k.isActive?"Active":"Inactive"})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn-edit",onClick:()=>C(k),children:"Edit"}),e.jsx("button",{className:"btn-delete",onClick:()=>A(k),style:{background:"#ef4444",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem",transition:"background 0.2s"},onMouseEnter:_=>_.currentTarget.style.background="#dc2626",onMouseLeave:_=>_.currentTarget.style.background="#ef4444",children:"Delete"})]})})]},k.id))})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[e.jsx("h2",{children:c?"Edit Disapproval Reason":"Create Disapproval Reason"}),e.jsxs("form",{onSubmit:E,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description*"}),e.jsx("textarea",{value:S,onChange:k=>N(k.target.value),placeholder:"Enter reason description...",rows:3,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reason Type*"}),e.jsxs("div",{className:"radio-group",children:[e.jsxs("label",{className:"radio-item",children:[e.jsx("input",{type:"radio",checked:u==="rejection",onChange:()=>x("rejection")}),e.jsx("span",{children:"Rejection"})]}),e.jsxs("label",{className:"radio-item",children:[e.jsx("input",{type:"radio",checked:u==="flag",onChange:()=>x("flag")}),e.jsx("span",{children:"Flag"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Applicable Auditor Roles* (select at least one)"}),e.jsx("div",{className:"checkbox-group",children:Ti.map(k=>e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:y.includes(k.value),onChange:()=>R(k.value)}),e.jsx("span",{children:k.label})]},k.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Your Assigned Categories* (select at least one)"}),e.jsx("div",{className:"checkbox-group",children:n.map(k=>e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:T.includes(k.id),onChange:()=>P(k.id)}),e.jsx("span",{children:k.name})]},k.id))})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:q,onChange:k=>D(k.target.checked)}),e.jsx("span",{children:"Active (visible to auditors)"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",children:c?"Update":"Create"})]})]})]})})]})}function kd(){const{user:t}=gs(),s=(t==null?void 0:t.role)==="super_admin",[n,a]=d.useState([]),[r,i]=d.useState(!0),[l,o]=d.useState(null),[c,h]=d.useState(!1),[p,m]=d.useState(null),[f,g]=d.useState([]),[j,w]=d.useState([]),[S,N]=d.useState([]),[u,x]=d.useState("sent"),[y,v]=d.useState(""),[T,U]=d.useState(""),[q,D]=d.useState(""),[M,z]=d.useState(""),[L,C]=d.useState(""),[E,A]=d.useState({title:"",message:"",targetType:"ROLE",targetRoleIds:[],targetCategoryIds:[],targetUserIds:[],priority:"normal"}),R=d.useCallback(async()=>{i(!0),o(null);try{const b=new URLSearchParams;u&&b.append("viewMode",u),y&&b.append("categoryId",y),T&&b.append("roleId",T),q&&b.append("search",q);const B=await ne.get(`/subadmin/notices?${b.toString()}`);a(Array.isArray(B.data)?B.data:[])}catch(b){console.error("fetchNotices error",b),o(b.message||"Failed to load notices")}finally{i(!1)}},[u,y,T,q]),P=d.useCallback(async()=>{try{const b=await ne.get("/subadmin/categories");g(Array.isArray(b.data)?b.data:[])}catch(b){console.error("Failed to load categories",b)}},[]),O=d.useCallback(async()=>{try{const b=await ne.get("/roles");w(Array.isArray(b.data)?b.data:[])}catch(b){console.error("Failed to load roles",b)}},[]),k=d.useCallback(async()=>{try{const b=await ne.get("/subadmin/users");N(Array.isArray(b.data)?b.data:[])}catch(b){console.error("Failed to load users",b)}},[]);d.useEffect(()=>{R(),P(),O(),k()},[R,P,O,k]);const _=()=>{m(null),A({title:"",message:"",targetType:"ROLE",targetRoleIds:[],targetCategoryIds:[],targetUserIds:[],priority:"normal"}),z(""),C(""),h(!0)},I=b=>{m(b),A({title:b.title,message:b.message,targetType:b.targetType,targetRoleIds:b.targetRoleIds||[],targetCategoryIds:b.targetCategoryIds||[],targetUserIds:b.targetUserIds||[],priority:b.priority}),z(""),C(""),h(!0)},F=async b=>{var B,K;if(confirm("Are you sure you want to delete this notice?"))try{await ne.delete(`/subadmin/notices/${b}`),R()}catch(V){alert(((K=(B=V.response)==null?void 0:B.data)==null?void 0:K.message)||"Failed to delete notice")}},Q=async b=>{var B,K;b.preventDefault();try{p?await ne.patch(`/subadmin/notices/${p.id}`,E):await ne.post("/subadmin/notices",E),h(!1),m(null),R()}catch(V){alert(((K=(B=V.response)==null?void 0:B.data)==null?void 0:K.message)||`Failed to ${p?"update":"send"} notice`)}},$=b=>{var B;return b.targetType==="ALL"?"All Users":b.targetType==="ROLE"?`Roles: ${j.filter(V=>{var te;return(te=b.targetRoleIds)==null?void 0:te.includes(V.id)}).map(V=>V.name).join(", ")||"N/A"}`:b.targetType==="CATEGORY"?`Categories: ${f.filter(V=>{var te;return(te=b.targetCategoryIds)==null?void 0:te.includes(V.id)}).map(V=>V.name).join(", ")||"N/A"}`:b.targetType==="USER"?`${((B=b.targetUserIds)==null?void 0:B.length)||0} user(s)`:b.targetType};return e.jsxs("div",{className:"subadmin-notices",children:[e.jsxs("header",{className:"sa-page-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Notices & Announcements"}),e.jsx("p",{className:"muted",children:u==="sent"?"Notices you have sent":"Notices you have received"})]}),e.jsx("button",{className:"btn-primary",onClick:_,children:"+ Create Notice"})]}),e.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"8px",marginBottom:"20px",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("label",{style:{fontWeight:600,fontSize:"14px"},children:"View:"}),e.jsxs("select",{value:u,onChange:b=>x(b.target.value),style:{padding:"6px 12px",borderRadius:"4px",border:"1px solid #ddd"},children:[e.jsx("option",{value:"sent",children:"Sent"}),e.jsx("option",{value:"received",children:"Received"})]})]}),(s||u==="received")&&e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("label",{style:{fontWeight:600,fontSize:"14px"},children:"Category:"}),e.jsxs("select",{value:y,onChange:b=>v(b.target.value),style:{padding:"6px 12px",borderRadius:"4px",border:"1px solid #ddd",minWidth:"150px"},children:[e.jsx("option",{value:"",children:"All Categories"}),f.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]}),s&&e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("label",{style:{fontWeight:600,fontSize:"14px"},children:"Role:"}),e.jsxs("select",{value:T,onChange:b=>U(b.target.value),style:{padding:"6px 12px",borderRadius:"4px",border:"1px solid #ddd",minWidth:"150px"},children:[e.jsx("option",{value:"",children:"All Roles"}),j.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",flex:1},children:[e.jsx("label",{style:{fontWeight:600,fontSize:"14px"},children:"Search:"}),e.jsx("input",{type:"text",value:q,onChange:b=>D(b.target.value),placeholder:"Search by title or message...",style:{padding:"6px 12px",borderRadius:"4px",border:"1px solid #ddd",flex:1,maxWidth:"300px"}})]}),(y||T||q)&&e.jsx("button",{onClick:()=>{v(""),U(""),D("")},style:{padding:"6px 12px",borderRadius:"4px",background:"#f44336",color:"white",border:"none",cursor:"pointer"},children:"Clear Filters"})]}),e.jsxs("main",{className:"sa-main",children:[r&&e.jsx("div",{className:"loading-state",children:"Loading notices"}),l&&e.jsxs("div",{className:"error-message",children:["Error: ",l]}),!r&&!l&&n.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"No notices found."}),e.jsx("button",{className:"btn-primary",onClick:_,children:"Create Notice"})]}),!r&&!l&&n.length>0&&e.jsx("ul",{className:"notice-list",children:n.map(b=>e.jsxs("li",{className:`notice-item priority-${b.priority}`,children:[e.jsxs("div",{className:"notice-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:b.title}),e.jsxs("span",{className:"notice-target",children:["To: ",$(b)]})]}),e.jsx("span",{className:`badge priority-${b.priority}`,children:b.priority.toUpperCase()})]}),e.jsx("p",{className:"notice-message",children:b.message}),e.jsxs("div",{className:"notice-meta",children:[e.jsxs("span",{children:["Created: ",new Date(b.createdAt).toLocaleString()]}),e.jsx("span",{className:b.isActive?"status-active":"status-inactive",children:b.isActive?"Active":"Inactive"})]}),u==="sent"&&e.jsxs("div",{className:"notice-actions",style:{marginTop:"12px",display:"flex",gap:"8px"},children:[e.jsx("button",{className:"btn-secondary",onClick:()=>I(b),style:{padding:"6px 12px",fontSize:"14px"},children:"Edit"}),e.jsx("button",{className:"btn-danger",onClick:()=>F(b.id),style:{padding:"6px 12px",fontSize:"14px",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Delete"})]})]},b.id))})]}),c&&e.jsx("div",{className:"modal-overlay",onClick:()=>{h(!1),z(""),C("")},children:e.jsxs("div",{className:"modal-content modal-large",onClick:b=>b.stopPropagation(),children:[e.jsx("h3",{children:p?"Edit Notice":"Create Notice"}),e.jsxs("form",{onSubmit:Q,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"title",children:"Title *"}),e.jsx("input",{type:"text",id:"title",value:E.title,onChange:b=>A({...E,title:b.target.value}),required:!0,placeholder:"Notice title"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"message",children:"Message *"}),e.jsx("textarea",{id:"message",value:E.message,onChange:b=>A({...E,message:b.target.value}),rows:5,required:!0,placeholder:"Notice message..."})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"targetType",children:"Send To *"}),e.jsxs("select",{id:"targetType",value:E.targetType,onChange:b=>A({...E,targetType:b.target.value,targetRoleIds:[],targetCategoryIds:[],targetUserIds:[]}),required:!0,children:[e.jsx("option",{value:"ALL",children:"All Users"}),e.jsx("option",{value:"ROLE",children:"Specific Roles"}),e.jsx("option",{value:"CATEGORY",children:"Specific Categories"}),e.jsx("option",{value:"USER",children:"Specific User"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"priority",children:"Priority *"}),e.jsxs("select",{id:"priority",value:E.priority,onChange:b=>A({...E,priority:b.target.value}),required:!0,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"})]})]})]}),E.targetType==="ROLE"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Select Roles *"}),e.jsx("div",{className:"checkbox-group",children:j.filter(b=>!["sub_admin","super_admin"].includes(b.name)).map(b=>e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:E.targetRoleIds.includes(b.id),onChange:B=>{const K=B.target.checked?[...E.targetRoleIds,b.id]:E.targetRoleIds.filter(V=>V!==b.id);A({...E,targetRoleIds:K})}}),b.name.replace(/_/g," ").replace(/\b\w/g,B=>B.toUpperCase())]},b.id))})]}),E.targetType==="CATEGORY"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Select Categories *"}),f.length>5&&e.jsx("input",{type:"text",placeholder:"Search categories...",value:M,onChange:b=>z(b.target.value),style:{width:"100%",padding:"8px",marginBottom:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),e.jsx("div",{className:"checkbox-group",style:{maxHeight:"200px",overflowY:"auto"},children:f.filter(b=>b.name.toLowerCase().includes(M.toLowerCase())).map(b=>e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:E.targetCategoryIds.includes(b.id),onChange:B=>{const K=B.target.checked?[...E.targetCategoryIds,b.id]:E.targetCategoryIds.filter(V=>V!==b.id);A({...E,targetCategoryIds:K})}}),b.name]},b.id))}),f.filter(b=>b.name.toLowerCase().includes(M.toLowerCase())).length===0&&e.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"8px"},children:"No categories found"})]}),E.targetType==="USER"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"targetUser",children:"Select User *"}),S.length>10&&e.jsx("input",{type:"text",placeholder:"Search users...",value:L,onChange:b=>C(b.target.value),style:{width:"100%",padding:"8px",marginBottom:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),e.jsxs("select",{id:"targetUser",value:E.targetUserIds[0]||"",onChange:b=>A({...E,targetUserIds:[b.target.value]}),required:!0,style:{width:"100%"},children:[e.jsx("option",{value:"",children:"Choose a user..."}),S.filter(b=>b.name.toLowerCase().includes(L.toLowerCase())||b.email.toLowerCase().includes(L.toLowerCase())).map(b=>e.jsxs("option",{value:b.id,children:[b.name," (",b.email,")"]},b.id))]}),S.filter(b=>b.name.toLowerCase().includes(L.toLowerCase())||b.email.toLowerCase().includes(L.toLowerCase())).length===0&&e.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"8px"},children:"No users found"})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{h(!1),z(""),C("")},children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:p?"Update Notice":"Send Notice"})]})]})]})})]})}function pv(){const[t,s]=d.useState(""),[n,a]=d.useState(""),[r,i]=d.useState(""),[l,o]=d.useState(1),[c]=d.useState(10),[h,p]=d.useState([]),[m,f]=d.useState(null),[g,j]=d.useState(0),[w,S]=d.useState(0),[N,u]=d.useState(!0),[x,y]=d.useState(null),[v,T]=d.useState([]),[U,q]=d.useState(null),[D,M]=d.useState({name:"",role:"",status:""}),z=async()=>{try{u(!0);const b=await Vy({page:l,limit:c,search:t,role:n,status:r});p(b.users),j(b.total),S(b.totalPages)}catch{y("Failed to load users")}finally{u(!1)}},L=async()=>{try{const b=await Hy();f(b)}catch{}};d.useEffect(()=>{L()},[]),d.useEffect(()=>{z()},[l,t,n,r]),d.useEffect(()=>{T([])},[h]);const C=async(b,B)=>{const K=B==="active"?"activate":"suspend";if(confirm(`Are you sure you want to ${K} this user?`))try{await Ai(b,B),z(),L()}catch{alert(`Failed to ${K} user`)}},E=async b=>{const B=prompt("Enter new password for the user:");if(B&&confirm("Are you sure you want to reset this user's password?"))try{await vd(b,B),alert("Password reset successfully")}catch{alert("Failed to reset password")}},A=()=>{s(""),a(""),i(""),o(1)},R=b=>{T(B=>B.includes(b)?B.filter(K=>K!==b):[...B,b])},P=()=>{const b=h.map(B=>B.id);T(B=>B.length===b.length?[]:b)},O=async()=>{if(v.length!==0&&confirm(`Are you sure you want to suspend ${v.length} users?`))try{await Promise.all(v.map(b=>Ai(b,"suspended"))),T([]),z(),L(),alert("Users suspended successfully")}catch{alert("Failed to suspend some users")}},k=async()=>{if(v.length===0)return;const b=prompt("Enter new password for selected users:");if(b&&confirm(`Are you sure you want to reset passwords for ${v.length} users?`))try{await Promise.all(v.map(B=>vd(B,b))),alert("Passwords reset successfully"),T([])}catch{alert("Failed to reset passwords")}},_=b=>{q(b),M({name:b.name,role:b.role,status:b.status})},I=async()=>{var b,B;if(U)try{const K={};D.name!==U.name&&(K.name=D.name),D.role!==U.role&&(K.role=D.role),Object.keys(K).length>0&&await Gy(U.id,K),D.status!==U.status&&await Ai(U.id,D.status),q(null),z(),L(),alert("User updated successfully")}catch(K){const V=((B=(b=K==null?void 0:K.response)==null?void 0:b.data)==null?void 0:B.message)||"Failed to update user";alert(V)}},F=()=>{q(null)},Q=b=>b.charAt(0).toUpperCase()+b.slice(1),$=b=>new Date(b).toLocaleDateString();return N&&!h.length?e.jsx("div",{className:"page-loader",children:"Loading Users..."}):x?e.jsx("div",{className:"error-message",children:x}):e.jsxs("div",{className:"users-container",children:[e.jsx("header",{className:"users-header",children:e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"My Users"}),e.jsx("p",{children:"Manage users in your assigned categories"})]})}),e.jsxs("section",{className:"users-stats-grid",children:[e.jsx(ie,{title:"Total Users",value:(m==null?void 0:m.totalUsers)??0}),e.jsx(ie,{title:"Active",value:(m==null?void 0:m.activeUsers)??0}),e.jsx(ie,{title:"Suspended",value:(m==null?void 0:m.suspendedUsers)??0})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by name, email or ID...",value:t,onChange:b=>s(b.target.value)})}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("select",{value:n,onChange:b=>a(b.target.value),children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"website_researcher",children:"Website Researcher"}),e.jsx("option",{value:"linkedin_researcher",children:"LinkedIn Researcher"}),e.jsx("option",{value:"website_inquirer",children:"Website Inquirer"}),e.jsx("option",{value:"linkedin_inquirer",children:"LinkedIn Inquirer"}),e.jsx("option",{value:"website_inquirer_auditor",children:"Website Inquirer Auditor"}),e.jsx("option",{value:"linkedin_inquirer_auditor",children:"LinkedIn Inquirer Auditor"}),e.jsx("option",{value:"website_research_auditor",children:"Website Research Auditor"}),e.jsx("option",{value:"linkedin_research_auditor",children:"LinkedIn Research Auditor"})]}),e.jsxs("select",{value:r,onChange:b=>i(b.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"})]}),e.jsx("button",{className:"btn-clear",onClick:A,children:"Clear Filters"})]})]}),v.length>0&&e.jsxs("div",{className:"bulk-actions-bar",children:[e.jsxs("span",{children:[v.length," user(s) selected"]}),e.jsxs("div",{className:"bulk-buttons",children:[e.jsx("button",{className:"btn-bulk",onClick:O,children:"Suspend Users"}),e.jsx("button",{className:"btn-bulk",onClick:k,children:"Reset Passwords"})]})]}),e.jsxs("div",{className:"users-card",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"users-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox",checked:v.length===h.length&&h.length>0,onChange:P})}),e.jsx("th",{children:"ID"}),e.jsx("th",{children:"User Details"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Registered"}),e.jsx("th",{children:"Last Activity"}),e.jsx("th",{className:"txt-right",children:"Actions"})]})}),e.jsx("tbody",{children:h.map(b=>e.jsxs("tr",{className:"user-row",children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:v.includes(b.id),onChange:()=>R(b.id)})}),e.jsxs("td",{className:"txt-id",children:["#",b.id.slice(0,8)]}),e.jsx("td",{children:e.jsxs("div",{className:"user-info-cell",children:[e.jsx("strong",{children:b.name}),e.jsx("span",{children:b.email})]})}),e.jsx("td",{children:e.jsx("span",{className:"role-tag",children:b.role})}),e.jsx("td",{children:e.jsx("span",{className:`badge-status ${b.status}`,children:Q(b.status)})}),e.jsx("td",{children:$(b.createdAt)}),e.jsx("td",{children:$(b.updatedAt)}),e.jsx("td",{className:"txt-right",children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-icon-action",title:"Edit",onClick:()=>_(b),children:"Edit"}),e.jsx("button",{className:"btn-icon-action",title:"Reset Password",onClick:()=>E(b.id),children:"Pass"}),e.jsx("button",{className:"btn-icon-action suspend",title:"Toggle Status",onClick:()=>C(b.id,b.status==="active"?"suspended":"active"),children:"Lock"})]})})]},b.id))})]})}),e.jsxs("div",{className:"pagination-area",children:[e.jsxs("span",{children:["Showing ",(l-1)*c+1," to ",Math.min(l*c,g)," of ",g," users"]}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("button",{className:"btn-page",disabled:l===1,onClick:()=>o(l-1),children:"Previous"}),Array.from({length:w},(b,B)=>B+1).map(b=>e.jsx("button",{className:`btn-page ${b===l?"active":""}`,onClick:()=>o(b),children:b},b)),e.jsx("button",{className:"btn-page",disabled:l===w,onClick:()=>o(l+1),children:"Next"})]})]})]}),U&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Edit User"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name:"}),e.jsx("input",{type:"text",value:D.name,onChange:b=>M(B=>({...B,name:b.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role:"}),e.jsxs("select",{value:D.role,onChange:b=>M(B=>({...B,role:b.target.value})),children:[e.jsx("option",{value:"website_researcher",children:"Website Researcher"}),e.jsx("option",{value:"linkedin_researcher",children:"LinkedIn Researcher"}),e.jsx("option",{value:"website_inquirer",children:"Website Inquirer"}),e.jsx("option",{value:"linkedin_inquirer",children:"LinkedIn Inquirer"}),e.jsx("option",{value:"website_inquirer_auditor",children:"Website Inquirer Auditor"}),e.jsx("option",{value:"linkedin_inquirer_auditor",children:"LinkedIn Inquirer Auditor"}),e.jsx("option",{value:"website_research_auditor",children:"Website Research Auditor"}),e.jsx("option",{value:"linkedin_research_auditor",children:"LinkedIn Research Auditor"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("select",{value:D.status,onChange:b=>M(B=>({...B,status:b.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:F,children:"Cancel"}),e.jsx("button",{onClick:I,children:"Save"})]})]})})]})}function fv(){const[t,s]=d.useState([]),[n,a]=d.useState(!0),[r,i]=d.useState(null),[l,o]=d.useState(""),[c,h]=d.useState(""),[p,m]=d.useState("");d.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const x=await Qy();s(x)}catch(x){console.error("Failed to load category rules",x),alert("Failed to load daily limits data")}finally{a(!1)}},g=x=>{i({...x})},j=async()=>{if(r)try{await Promise.all([Jy(r.id,r.dailyLimitOverride),Ky(r.id,r.cooldownDaysOverride)]),await f(),i(null),alert("Daily limit settings updated successfully")}catch(x){console.error("Failed to update settings",x),alert("Failed to update settings")}},w=Array.from(new Set(t.map(x=>x.category.name))),S=Array.from(new Set(t.map(x=>x.role))),N=Array.from(new Set(t.map(x=>x.actionType))),u=t.filter(x=>{const y=!l||x.category.name===l,v=!c||x.role===c,T=!p||x.actionType===p;return y&&v&&T});return e.jsxs("div",{className:"sa-crud-page",children:[e.jsx("header",{className:"sa-page-header",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Daily Task Limits"}),e.jsx("p",{className:"muted",children:"Configure daily limits and cooldown periods for roles in your assigned categories"})]})}),e.jsxs("div",{className:"sa-filter-bar",style:{marginBottom:"1rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[e.jsxs("select",{value:l,onChange:x=>o(x.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[e.jsx("option",{value:"",children:"All Categories"}),w.map(x=>e.jsx("option",{value:x,children:x},x))]}),e.jsxs("select",{value:c,onChange:x=>h(x.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[e.jsx("option",{value:"",children:"All Roles"}),S.map(x=>e.jsx("option",{value:x,children:x},x))]}),e.jsxs("select",{value:p,onChange:x=>m(x.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[e.jsx("option",{value:"",children:"All Action Types"}),N.map(x=>e.jsx("option",{value:x,children:x},x))]})]}),e.jsxs("main",{className:"sa-main",children:[n&&e.jsx("div",{className:"loading-state",children:"Loading limits..."}),!n&&e.jsxs("div",{className:"crud-table-container",children:[e.jsxs("table",{className:"crud-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Action Type"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Daily Limit"}),e.jsx("th",{children:"Cooldown (Days)"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.map(x=>e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold",children:x.category.name}),e.jsx("td",{children:x.actionType}),e.jsx("td",{children:x.role}),e.jsx("td",{children:x.dailyLimitOverride!==null?x.dailyLimitOverride:e.jsx("span",{className:"muted",children:"Not set"})}),e.jsx("td",{children:x.cooldownDaysOverride!==null?x.cooldownDaysOverride:e.jsx("span",{className:"muted",children:"Not set"})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${x.status==="active"?"badge-success":"badge-inactive"}`,children:x.status})}),e.jsx("td",{children:e.jsx("div",{className:"action-buttons",children:e.jsx("button",{className:"btn-sm btn-secondary",onClick:()=>g(x),children:"Edit Limits"})})})]},x.id))})]}),u.length===0&&e.jsx("div",{className:"empty-state",children:e.jsxs("p",{children:["No rules found for your assigned categories",l||c||p?" with the selected filters":"","."]})})]})]}),r&&e.jsx("div",{className:"modal-overlay",onClick:()=>i(null),children:e.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[e.jsx("h3",{children:"Edit Daily Limits"}),e.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#f5f5f5",borderRadius:"4px"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",r.category.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Action Type:"})," ",r.actionType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",r.role]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"dailyLimit",children:"Daily Task Limit"}),e.jsx("input",{type:"number",id:"dailyLimit",value:r.dailyLimitOverride??"",onChange:x=>i({...r,dailyLimitOverride:x.target.value?parseInt(x.target.value):null}),placeholder:"No limit (leave empty)",min:"0",max:"1000"}),e.jsx("small",{className:"muted",children:"Maximum tasks per day for this role in this category. Leave empty for no limit."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cooldown",children:"Cooldown Period (Days)"}),e.jsx("input",{type:"number",id:"cooldown",value:r.cooldownDaysOverride??"",onChange:x=>i({...r,cooldownDaysOverride:x.target.value?parseInt(x.target.value):null}),placeholder:"No cooldown (leave empty)",min:"0",max:"365"}),e.jsx("small",{className:"muted",children:"Minimum days between contacting the same company/URL. Leave empty for no cooldown."})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>i(null),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:j,children:"Save Changes"})]})]})})]})}const Us=(t,s="unknown")=>t&&t.trim()?t.trim():s;function xv(){var O;const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState([]),[l,o]=d.useState("idle"),[c,h]=d.useState("idle"),[p,m]=d.useState(""),[f,g]=d.useState("website"),[j,w]=d.useState(""),[S,N]=d.useState(""),[u,x]=d.useState(""),[y,v]=d.useState({companyWebsite:"",companyName:"",country:"",language:""}),[T,U]=d.useState({profileUrl:"",contactName:"",country:"",language:""}),[q,D]=d.useState(!1),[M,z]=d.useState(null),[L,C]=d.useState(null);d.useEffect(()=>{o("loading"),h("loading"),Wt().then(k=>{const _=Array.from(new Map((k||[]).map(I=>[I.id,I])).values());s(_),_.length===1&&m(_[0].id),o("success")}).catch(()=>o("error")),Promise.all([Iy(),Ly()]).then(([k,_])=>{a(k||[]),i(_||[]),(k==null?void 0:k.length)===1&&N(k[0].id),(_==null?void 0:_.length)===1&&x(_[0].id),h("success")}).catch(()=>h("error"))},[]);const E=d.useMemo(()=>{if(!j.trim())return t;const k=j.toLowerCase();return t.filter(_=>_.name.toLowerCase().includes(k))},[t,j]),A=d.useMemo(()=>l==="loading"?"Loading your categories...":t.length===0?"No categories assigned. Please contact Super Admin.":!p&&t.length>1?"Select a category to scope task creation.":"",[l,t,p]),R=async k=>{var _,I;if(k.preventDefault(),z(null),C(null),!p){z("Select a category before creating tasks.");return}if(!S||!u){z("Job Type and Company Type are required.");return}try{if(D(!0),f==="website"){if(!y.companyWebsite.trim())throw new Error("Company Website is required.");const F={categoryId:p,jobTypeId:S,companyTypeId:u,companyWebsite:y.companyWebsite.trim(),companyName:Us(y.companyName,"Unknown"),country:Us(y.country,"Unknown"),language:Us(y.language,"unknown")};await Fy(F),C("Website research task created successfully."),v({companyWebsite:"",companyName:"",country:"",language:""})}else{if(!T.profileUrl.trim())throw new Error("LinkedIn profile link is required.");const F={categoryId:p,jobTypeId:S,companyTypeId:u,profileUrl:T.profileUrl.trim(),contactName:Us(T.contactName,"Unknown"),country:Us(T.country,"Unknown"),language:Us(T.language,"unknown")};await _y(F),C("LinkedIn research task created successfully."),U({profileUrl:"",contactName:"",country:"",language:""})}}catch(F){const Q=((I=(_=F==null?void 0:F.response)==null?void 0:_.data)==null?void 0:I.message)||(F==null?void 0:F.message)||"Failed to create task.";z(Q)}finally{D(!1)}},P=!!(p&&S&&u&&(f==="website"&&y.companyWebsite.trim()||f==="linkedin"&&T.profileUrl.trim()));return e.jsxs("div",{className:"sa-create-tasks",children:[e.jsx("header",{className:"sa-create-header",children:e.jsxs("div",{children:[e.jsx("p",{className:"eyebrow",children:"Management  Create Tasks"}),e.jsx("h1",{children:"Create Research Tasks"}),e.jsx("p",{className:"muted",children:"Create Website or LinkedIn research tasks scoped to a single category. Job type and company type are mandatory."})]})}),e.jsxs("main",{className:"sa-create-body",children:[e.jsxs("section",{className:"step-card",children:[e.jsx("div",{className:"step-title",children:"1. Select Category"}),A&&e.jsx("div",{className:"info-box",children:A}),t.length>0&&e.jsxs(e.Fragment,{children:[t.length>5&&e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search categories...",value:j,onChange:k=>w(k.target.value),className:"search-input"})}),e.jsx("div",{className:"picker-grid",children:E.length>0?E.map(k=>e.jsx("button",{type:"button",className:`pill ${p===k.id?"pill-active":""}`,onClick:()=>m(k.id),children:k.name},k.id)):e.jsx("div",{className:"empty-search",children:"No categories match your search."})})]})]}),e.jsxs("section",{className:"step-card",children:[e.jsx("div",{className:"step-title",children:"2. Task Type"}),e.jsxs("div",{className:"task-type-grid",children:[e.jsxs("button",{type:"button",className:`type-card ${f==="website"?"type-card-active":""}`,onClick:()=>g("website"),children:[e.jsx("div",{className:"type-label",children:"Website Research"}),e.jsx("p",{children:"Create tasks for company website investigation."})]}),e.jsxs("button",{type:"button",className:`type-card ${f==="linkedin"?"type-card-active":""}`,onClick:()=>g("linkedin"),children:[e.jsx("div",{className:"type-label",children:"LinkedIn Research"}),e.jsx("p",{children:"Create tasks for LinkedIn profile investigation."})]})]})]}),e.jsxs("form",{className:"step-card",onSubmit:R,children:[e.jsx("div",{className:"step-title",children:"3. Task Details"}),e.jsxs("div",{className:"field-grid",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Job Type *"}),e.jsxs("select",{value:S,onChange:k=>N(k.target.value),disabled:c==="loading",children:[e.jsx("option",{value:"",children:"Select job type"}),n.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Company Type *"}),e.jsxs("select",{value:u,onChange:k=>x(k.target.value),disabled:c==="loading",children:[e.jsx("option",{value:"",children:"Select company type"}),r.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]})]}),f==="website"?e.jsxs("div",{className:"form-stack",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Website Link *"}),e.jsx("input",{type:"url",placeholder:"https://example.com",value:y.companyWebsite,onChange:k=>v({...y,companyWebsite:k.target.value}),required:!0})]}),e.jsxs("div",{className:"field-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name (optional)"}),e.jsx("input",{type:"text",value:y.companyName,onChange:k=>v({...y,companyName:k.target.value}),placeholder:"Acme Corp"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country (optional)"}),e.jsx("input",{type:"text",value:y.country,onChange:k=>v({...y,country:k.target.value}),placeholder:"United States"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Language (optional)"}),e.jsx("input",{type:"text",value:y.language,onChange:k=>v({...y,language:k.target.value}),placeholder:"English"}),e.jsx("small",{className:"hint",children:'If blank, we will store this as "unknown".'})]})]}):e.jsxs("div",{className:"form-stack",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact LinkedIn Profile Link *"}),e.jsx("input",{type:"url",placeholder:"https://linkedin.com/in/username",value:T.profileUrl,onChange:k=>U({...T,profileUrl:k.target.value}),required:!0})]}),e.jsxs("div",{className:"field-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Name (optional)"}),e.jsx("input",{type:"text",value:T.contactName,onChange:k=>U({...T,contactName:k.target.value}),placeholder:"Jane Doe"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country (optional)"}),e.jsx("input",{type:"text",value:T.country,onChange:k=>U({...T,country:k.target.value}),placeholder:"France"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Language (optional)"}),e.jsx("input",{type:"text",value:T.language,onChange:k=>U({...T,language:k.target.value}),placeholder:"French"}),e.jsx("small",{className:"hint",children:'If blank, we will store this as "unknown".'})]})]}),M&&e.jsx("div",{className:"alert error",children:M}),L&&e.jsx("div",{className:"alert success",children:L}),e.jsxs("div",{className:"actions-row",children:[e.jsxs("div",{className:"summary",children:[e.jsxs("div",{children:["Category: ",((O=t.find(k=>k.id===p))==null?void 0:O.name)||"Not selected"]}),e.jsxs("div",{children:["Task Type: ",f==="website"?"Website Research":"LinkedIn Research"]})]}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:!P||q,children:q?"Creating...":"Create Task"})]})]})]})]})}function gv(){return e.jsxs("div",{className:"wb-res-dash",children:[e.jsxs("header",{className:"res-header",children:[e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Researcher Workspace"}),e.jsx("p",{children:"Discover new corporate targets and analyze technology footprints."})]}),e.jsxs("div",{className:"res-quota-card",children:[e.jsxs("div",{className:"quota-top",children:[e.jsx("span",{children:"Daily Quota"}),e.jsx("strong",{children:""})]}),e.jsx("div",{className:"quota-progress-container",children:e.jsx("div",{className:"quota-fill"})}),e.jsx("p",{className:"quota-hint",children:"Quota progress will appear once tasks are assigned."})]})]}),e.jsxs("div",{className:"res-content-grid",children:[e.jsxs("section",{className:"discovery-stats",children:[e.jsxs("div",{className:"res-card-small",children:[e.jsx("h4",{children:"Total Leads"}),e.jsx("span",{className:"val",children:""})]}),e.jsxs("div",{className:"res-card-small",children:[e.jsx("h4",{children:"Validation Rate"}),e.jsx("span",{className:"val",children:""})]}),e.jsxs("div",{className:"res-card-small",children:[e.jsx("h4",{children:"Earnings"}),e.jsx("span",{className:"val",children:""})]})]}),e.jsxs("section",{className:"target-map",children:[e.jsxs("div",{className:"map-header",children:[e.jsx("h3",{children:"Targets by Industry"}),e.jsx("button",{className:"btn-text",children:"View Details"})]}),e.jsxs("div",{className:"industry-bubbles",children:[e.jsx("div",{className:"bubble x-large",children:""}),e.jsx("div",{className:"bubble large",children:""}),e.jsx("div",{className:"bubble medium",children:""}),e.jsx("div",{className:"bubble small",children:""})]})]}),e.jsxs("section",{className:"current-goals",children:[e.jsx("h3",{children:"Campaign Objectives"}),e.jsxs("div",{className:"goal-item",children:[e.jsxs("div",{className:"goal-info",children:[e.jsx("strong",{children:""}),e.jsx("p",{children:"Objective details will load here."})]}),e.jsx("span",{className:"goal-status",children:""})]}),e.jsxs("div",{className:"goal-item",children:[e.jsxs("div",{className:"goal-info",children:[e.jsx("strong",{children:""}),e.jsx("p",{children:"Locked or upcoming campaign."})]}),e.jsx("span",{className:"goal-status locked",children:""})]})]})]})]})}function jv(){return e.jsxs("div",{className:"lnk-dash-container",children:[e.jsxs("div",{className:"lnk-welcome",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Researcher Dashboard"}),e.jsx("p",{children:"Your performance metrics and task status will appear here."})]}),e.jsxs("div",{className:"wallet-card",children:[e.jsx("label",{children:"Pending Balance"}),e.jsx("h3",{children:""}),e.jsx("button",{className:"btn-withdraw",disabled:!0,children:"Request Payout"})]})]}),e.jsxs("div",{className:"lnk-stats-grid",children:[e.jsxs("div",{className:"l-stat-card",children:[e.jsx("span",{className:"l-icon",children:""}),e.jsxs("div",{className:"l-data",children:[e.jsx("span",{className:"l-val",children:""}),e.jsx("span",{className:"l-lab",children:"Tasks Pending Action"})]})]}),e.jsxs("div",{className:"l-stat-card",children:[e.jsx("span",{className:"l-icon",children:""}),e.jsxs("div",{className:"l-data",children:[e.jsx("span",{className:"l-val",children:""}),e.jsx("span",{className:"l-lab",children:"Waiting for Audit"})]})]}),e.jsxs("div",{className:"l-stat-card",children:[e.jsx("span",{className:"l-icon",children:""}),e.jsxs("div",{className:"l-data",children:[e.jsx("span",{className:"l-val",children:""}),e.jsx("span",{className:"l-lab",children:"Rejections to Fix"})]})]})]}),e.jsxs("div",{className:"lnk-content-row",children:[e.jsxs("section",{className:"earnings-chart-card",children:[e.jsx("h3",{children:"Income Overview"}),e.jsx("div",{className:"chart-empty-state",children:e.jsx("p",{children:"Income data will be displayed once activity is recorded."})})]}),e.jsxs("section",{className:"notifications-card",children:[e.jsx("h3",{children:"Recent Notifications"}),e.jsx("div",{className:"notif-empty-state",children:e.jsx("p",{children:"No notifications available."})})]})]})]})}function yv({pendingTasks:t=0,qualityScore:s=0,emailsDispatched:n=0,verifiedActions:a=0,pendingPayout:r="$0.00",workloadSummary:i=[]}){return e.jsxs("div",{className:"wb-inq-dash",children:[e.jsxs("div",{className:"welcome-banner",children:[e.jsxs("div",{className:"banner-info",children:[e.jsx("h1",{children:"Website Outreach Dashboard"}),e.jsxs("p",{children:["You have ",e.jsx("strong",{children:t})," tasks requiring immediate action today."]})]}),e.jsxs("div",{className:"performance-chip",children:[e.jsx("span",{className:"chip-label",children:"Quality Score"}),e.jsx("span",{className:"chip-value",children:s>0?`${s}/10`:""})]})]}),e.jsxs("div",{className:"dash-grid",children:[e.jsxs("div",{className:"main-stats-panel",children:[e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-icon",children:""}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:n}),e.jsx("p",{children:"Emails Dispatched"})]})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-icon",children:""}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:a}),e.jsx("p",{children:"Verified Actions"})]})]}),e.jsxs("div",{className:"stat-box highlight",children:[e.jsx("span",{className:"stat-icon",children:""}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:r}),e.jsx("p",{children:"Pending Payout"})]})]})]}),e.jsxs("section",{className:"chart-card",children:[e.jsx("h3",{children:"Daily Submission Activity"}),i.length===0?e.jsx("div",{className:"empty-chart",children:e.jsx("p",{children:"No activity data available."})}):e.jsx("div",{className:"simple-bar-chart",children:i.map(l=>e.jsxs("div",{className:"chart-column",children:[e.jsx("div",{className:"column-bar",style:{height:`${l.tasks*5}px`},children:e.jsx("span",{className:"tooltip",children:l.tasks})}),e.jsx("span",{className:"column-label",children:l.day})]},l.day))})]}),e.jsxs("section",{className:"recent-feedback",children:[e.jsx("h3",{children:"Recent Auditor Feedback"}),e.jsxs("div",{className:"feedback-list",children:[e.jsxs("div",{className:"feedback-item success",children:[e.jsx("div",{className:"f-icon",children:""}),e.jsxs("p",{children:[e.jsx("strong",{children:"Perfect Evidence:"})," One of your submissions was approved with full score."]}),e.jsx("span",{children:"Recently"})]}),e.jsxs("div",{className:"feedback-item warning",children:[e.jsx("div",{className:"f-icon",children:""}),e.jsxs("p",{children:[e.jsx("strong",{children:"Attention Required:"})," Some screenshots may need higher resolution."]}),e.jsx("span",{children:"Recently"})]})]})]})]})]})}function vv(){const[t]=d.useState([]),[s]=d.useState([]),[n]=d.useState("Inquirer");return e.jsxs("div",{className:"li-inq-dash-container",children:[e.jsxs("header",{className:"li-inq-dash-header",children:[e.jsxs("div",{className:"welcome-section",children:[e.jsx("h1",{children:"Inquirer Intelligence Center"}),e.jsxs("p",{children:["Welcome back, ",e.jsx("strong",{children:n}),". Monitor your LinkedIn outreach performance."]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("div",{className:"status-indicator online",children:[e.jsx("span",{className:"dot"}),"Active Session"]}),e.jsx("button",{className:"btn-sync",children:"Sync LinkedIn Data"})]})]}),e.jsxs("section",{className:"li-inq-stats-grid",children:[t.length===0&&e.jsx("div",{className:"empty-block",children:"No statistics available yet."}),t.map((a,r)=>e.jsxs("div",{className:"li-stat-card",children:[e.jsx("div",{className:"li-stat-icon-bg",children:a.icon??""}),e.jsxs("div",{className:"li-stat-info",children:[e.jsx("span",{className:"li-stat-label",children:a.label}),e.jsxs("div",{className:"li-stat-row",children:[e.jsx("h2",{className:"li-stat-value",children:a.value}),a.trend&&e.jsx("span",{className:`li-stat-trend ${a.trend.startsWith("+")?"up":"down"}`,children:a.trend})]})]})]},r))]}),e.jsxs("div",{className:"li-inq-main-layout",children:[e.jsxs("div",{className:"li-inq-content-left",children:[e.jsxs("div",{className:"li-inq-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Active Task Queue"}),e.jsx("button",{className:"btn-text",children:"View All"})]}),e.jsx("div",{className:"empty-block",children:"Tasks will appear here once assigned."})]}),e.jsxs("div",{className:"li-inq-card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{children:"Engagement Trend"})}),e.jsx("div",{className:"fake-chart-container",children:e.jsx("div",{className:"empty-block",children:"Engagement data not available."})})]})]}),e.jsxs("aside",{className:"li-inq-content-right",children:[e.jsxs("div",{className:"li-inq-card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{children:"Recent Actions"})}),s.length===0&&e.jsx("div",{className:"empty-block",children:"No recent activity recorded."}),e.jsx("div",{className:"feed-list",children:s.map(a=>e.jsxs("div",{className:"feed-item",children:[e.jsx("div",{className:"feed-marker"}),e.jsxs("div",{className:"feed-body",children:[e.jsxs("p",{className:"feed-text",children:[e.jsxs("strong",{children:[a.type,":"]})," ",a.target," (",a.company,")"]}),e.jsxs("div",{className:"feed-footer",children:[e.jsx("span",{className:`status-pill ${a.status.toLowerCase().replace(/\s+/g,"-")}`,children:a.status}),e.jsx("span",{className:"feed-time",children:a.time})]})]})]},a.id))})]}),e.jsxs("div",{className:"li-inq-card quality-score-card",children:[e.jsx("h3",{children:"Auditor Trust Score"}),e.jsx("div",{className:"score-gauge",children:e.jsxs("svg",{viewBox:"0 0 36 36",className:"circular-chart blue",children:[e.jsx("path",{className:"circle-bg",d:`M18 2.0845\r
                    a 15.9155 15.9155 0 0 1 0 31.831\r
                    a 15.9155 15.9155 0 0 1 0 -31.831`}),e.jsx("path",{className:"circle",strokeDasharray:"0,100",d:`M18 2.0845\r
                    a 15.9155 15.9155 0 0 1 0 31.831\r
                    a 15.9155 15.9155 0 0 1 0 -31.831`}),e.jsx("text",{x:"18",y:"20.35",className:"percentage",children:""})]})}),e.jsx("p",{className:"score-desc",children:"Score will be calculated once audits are completed."})]})]})]}),e.jsx("footer",{className:"li-inq-footer",children:" 2026 Internal Operations Terminal  Stable Build"})]})}function Nv(){return e.jsxs("div",{className:"wb-audit-dash",children:[e.jsxs("header",{className:"dash-header",children:[e.jsxs("div",{className:"welcome-text",children:[e.jsx("h1",{children:"Website Quality Assurance"}),e.jsx("p",{children:"Real-time oversight of web data extraction and validation integrity."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-secondary",children:"Quality Reports"}),e.jsx("button",{className:"btn-primary",children:"Start New Audit"})]})]}),e.jsxs("section",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Domains Verified"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Data Accuracy"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Avg. Audit Time"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Fraud Flag Rate"}),e.jsx("h2",{className:"metric-value",children:""})]})]}),e.jsxs("div",{className:"dash-content-layout",children:[e.jsxs("section",{className:"queue-status-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Website Audit Queue"}),e.jsx("span",{className:"badge-live",children:"LIVE"})]}),e.jsxs("div",{className:"queue-empty",children:[e.jsx("p",{children:"No websites currently queued for audit."}),e.jsx("span",{children:"Waiting for backend data"})]})]}),e.jsxs("section",{className:"accuracy-chart-card",children:[e.jsx("h3",{children:"Accuracy by Category"}),e.jsx("div",{className:"chart-placeholder empty",children:e.jsx("p",{children:"Accuracy data unavailable"})}),e.jsx("div",{className:"chart-legend",children:e.jsx("p",{children:"Charts will render automatically once metrics are received."})})]})]}),e.jsx("footer",{className:"dash-footer",children:e.jsxs("div",{className:"system-status",children:[e.jsx("span",{className:"status-dot green"}),"Waiting for system status update"]})})]})}function bv(){return e.jsxs("div",{className:"li-dash-container",children:[e.jsxs("header",{className:"dash-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"LinkedIn Audit Command Center"}),e.jsx("p",{children:"Real-time oversight of multi-action outreach workflows."})]}),e.jsx("button",{className:"btn-primary-action",children:"Start New Review Session"})]}),e.jsxs("div",{className:"stats-row",children:[e.jsxs("div",{className:"stat-card empty",children:[e.jsx("div",{className:"stat-icon placeholder"}),e.jsxs("div",{className:"stat-data",children:[e.jsx("h3",{children:""}),e.jsx("p",{children:"Pending Reviews"})]})]}),e.jsxs("div",{className:"stat-card empty",children:[e.jsx("div",{className:"stat-icon placeholder"}),e.jsxs("div",{className:"stat-data",children:[e.jsx("h3",{children:""}),e.jsx("p",{children:"Approved Today"})]})]}),e.jsxs("div",{className:"stat-card empty",children:[e.jsx("div",{className:"stat-icon placeholder"}),e.jsxs("div",{className:"stat-data",children:[e.jsx("h3",{children:""}),e.jsx("p",{children:"Rejected (Fraud)"})]})]}),e.jsxs("div",{className:"stat-card empty",children:[e.jsx("div",{className:"stat-icon placeholder"}),e.jsxs("div",{className:"stat-data",children:[e.jsx("h3",{children:""}),e.jsx("p",{children:"Avg. Decision Time"})]})]})]}),e.jsxs("div",{className:"dash-grid",children:[e.jsxs("section",{className:"dash-section performance",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Recent Submissions Queue"}),e.jsx("button",{className:"btn-text",disabled:!0,children:"View All"})]}),e.jsxs("div",{className:"table-empty",children:[e.jsx("strong",{children:"No submissions in queue"}),e.jsx("p",{children:"Incoming LinkedIn reviews will appear here when researchers submit new work."})]})]}),e.jsxs("section",{className:"dash-section active-researchers",children:[e.jsx("h3",{children:"Top Active Researchers"}),e.jsxs("div",{className:"researcher-empty",children:[e.jsx("strong",{children:"No activity yet"}),e.jsx("p",{children:"Researcher performance metrics will populate as submissions are processed."})]})]})]})]})}function kv(){const t=it(),[s,n]=d.useState(""),[a,r]=d.useState(""),[i,l]=d.useState(""),[o,c]=d.useState(1),[h]=d.useState(10),[p,m]=d.useState([]),[f,g]=d.useState(null),[j,w]=d.useState(0),[S,N]=d.useState(0),[u,x]=d.useState(!0),[y,v]=d.useState(null),[T,U]=d.useState([]),[q,D]=d.useState(null),[M,z]=d.useState({name:"",role:"",status:""}),L=async()=>{try{x(!0);const te=await _o({page:o,limit:h,search:s,role:a,status:i});m(te.users),w(te.total),N(te.totalPages)}catch{v("Failed to load users")}finally{x(!1)}},C=async()=>{try{const V=await py();g(V)}catch{}};d.useEffect(()=>{C()},[]),d.useEffect(()=>{L()},[o,s,a,i]),d.useEffect(()=>{U([])},[p]);const E=async(V,te)=>{const xe=te==="active"?"activate":"suspend";if(confirm(`Are you sure you want to ${xe} this user?`))try{await Ri(V,te),L(),C()}catch{alert(`Failed to ${xe} user`)}},A=async V=>{const te=prompt("Enter new password for the user:");if(te&&confirm("Are you sure you want to reset this user's password? In Phase 3, the user will receive an email to update their password."))try{await jd(V,te),alert("Password reset successfully")}catch{alert("Failed to reset password")}},R=async V=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await yd(V),L(),C()}catch{alert("Failed to delete user")}},P=()=>{n(""),r(""),l(""),c(1)},O=V=>{U(te=>te.includes(V)?te.filter(xe=>xe!==V):[...te,V])},k=()=>{const V=p.map(te=>te.id);U(te=>te.length===V.length?[]:V)},_=async()=>{if(T.length!==0&&confirm(`Are you sure you want to delete ${T.length} users? This action cannot be undone.`))try{await Promise.all(T.map(V=>yd(V))),U([]),L(),C(),alert("Users deleted successfully")}catch{alert("Failed to delete some users")}},I=async()=>{if(T.length!==0&&confirm(`Are you sure you want to suspend ${T.length} users?`))try{await Promise.all(T.map(V=>Ri(V,"suspended"))),U([]),L(),C(),alert("Users suspended successfully")}catch{alert("Failed to suspend some users")}},F=async()=>{if(T.length===0)return;const V=prompt("Enter new password for selected users:");if(V&&confirm(`Are you sure you want to reset passwords for ${T.length} users? In Phase 3, users will receive an email to update their password.`))try{await Promise.all(T.map(te=>jd(te,V))),alert("Passwords reset successfully. In Phase 3, users will receive an email to update their password."),U([])}catch{alert("Failed to reset passwords")}},Q=V=>{D(V),z({name:V.name,role:V.role,status:V.status})},$=async()=>{var V,te;if(q)try{const xe={};M.name!==q.name&&(xe.name=M.name),M.role!==q.role&&(xe.role=M.role),Object.keys(xe).length>0&&await xy(q.id,xe),M.status!==q.status&&await Ri(q.id,M.status),D(null),L(),C(),alert("User updated successfully")}catch(xe){const Ze=((te=(V=xe==null?void 0:xe.response)==null?void 0:V.data)==null?void 0:te.message)||"Failed to update user";alert(Ze)}},b=()=>{D(null)},B=V=>V.charAt(0).toUpperCase()+V.slice(1),K=V=>new Date(V).toLocaleDateString();return u&&!p.length?e.jsx("div",{className:"page-loader",children:"Loading Users..."}):y?e.jsx("div",{className:"error-message",children:y}):e.jsxs("div",{className:"users-container",children:[e.jsxs("header",{className:"users-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"All Users"}),e.jsx("p",{children:"List and manage all system users, roles and permissions."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-export",children:"Export Users"}),e.jsx("button",{className:"btn-add-user",onClick:()=>t("/super-admin/users/create"),children:"Add User"})]})]}),e.jsxs("section",{className:"users-stats-grid",children:[e.jsx(ie,{title:"Total Users",value:(f==null?void 0:f.totalUsers)??0}),e.jsx(ie,{title:"Active",value:(f==null?void 0:f.activeUsers)??0}),e.jsx(ie,{title:"Suspended",value:(f==null?void 0:f.suspendedUsers)??0}),e.jsx(ie,{title:"Sub-Admins",value:(f==null?void 0:f.subAdmins)??0})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by name, email or ID...",value:s,onChange:V=>n(V.target.value)})}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("select",{value:a,onChange:V=>r(V.target.value),children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"super_admin",children:"Super Admin"}),e.jsx("option",{value:"sub_admin",children:"Sub-Admin"}),e.jsx("option",{value:"website_researcher",children:"Website Researcher"}),e.jsx("option",{value:"linkedin_researcher",children:"LinkedIn Researcher"}),e.jsx("option",{value:"website_inquirer",children:"Website Inquirer"}),e.jsx("option",{value:"linkedin_inquirer",children:"LinkedIn Inquirer"}),e.jsx("option",{value:"website_inquirer_auditor",children:"Website Inquirer Auditor"}),e.jsx("option",{value:"linkedin_inquirer_auditor",children:"LinkedIn Inquirer Auditor"}),e.jsx("option",{value:"website_research_auditor",children:"Website Research Auditor"}),e.jsx("option",{value:"linkedin_research_auditor",children:"LinkedIn Research Auditor"})]}),e.jsxs("select",{value:i,onChange:V=>l(V.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"})]}),e.jsx("button",{className:"btn-clear",onClick:P,children:"Clear Filters"})]})]}),T.length>0&&e.jsxs("div",{className:"bulk-actions-bar",children:[e.jsxs("span",{children:[T.length," user(s) selected"]}),e.jsxs("div",{className:"bulk-buttons",children:[e.jsx("button",{className:"btn-bulk",onClick:I,children:"Suspend Users"}),e.jsx("button",{className:"btn-bulk",onClick:F,children:"Reset Passwords"}),e.jsx("button",{className:"btn-bulk delete",onClick:_,children:"Delete Users"})]})]}),e.jsxs("div",{className:"users-card",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"users-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox",checked:T.length===p.length&&p.length>0,onChange:k})}),e.jsx("th",{children:"ID"}),e.jsx("th",{children:"User Details"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Registered"}),e.jsx("th",{children:"Last Activity"}),e.jsx("th",{className:"txt-right",children:"Actions"})]})}),e.jsx("tbody",{children:p.map(V=>e.jsxs("tr",{className:"user-row",children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:T.includes(V.id),onChange:()=>O(V.id)})}),e.jsxs("td",{className:"txt-id",children:["#",V.id.slice(0,8)]}),e.jsx("td",{children:e.jsxs("div",{className:"user-info-cell",children:[e.jsx("strong",{children:V.name}),e.jsx("span",{children:V.email})]})}),e.jsx("td",{children:e.jsx("span",{className:"role-tag",children:V.role})}),e.jsx("td",{children:e.jsx("span",{className:`badge-status ${V.status}`,children:B(V.status)})}),e.jsx("td",{children:K(V.createdAt)}),e.jsx("td",{children:K(V.updatedAt)}),e.jsx("td",{className:"txt-right",children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-icon-action",title:"Edit",onClick:()=>Q(V),children:"Edit"}),e.jsx("button",{className:"btn-icon-action",title:"Reset Password",onClick:()=>A(V.id),children:"Pass"}),e.jsx("button",{className:"btn-icon-action suspend",title:"Suspend",onClick:()=>E(V.id,V.status==="active"?"suspended":"active"),children:"Lock"}),e.jsx("button",{className:"btn-icon-action delete",title:"Delete",onClick:()=>R(V.id),children:"Del"})]})})]},V.id))})]})}),e.jsxs("div",{className:"pagination-area",children:[e.jsxs("span",{children:["Showing ",(o-1)*h+1," to ",Math.min(o*h,j)," of ",j," users"]}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("button",{className:"btn-page",disabled:o===1,onClick:()=>c(o-1),children:"Previous"}),Array.from({length:S},(V,te)=>te+1).map(V=>e.jsx("button",{className:`btn-page ${V===o?"active":""}`,onClick:()=>c(V),children:V},V)),e.jsx("button",{className:"btn-page",disabled:o===S,onClick:()=>c(o+1),children:"Next"})]})]})]}),q&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Edit User"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name:"}),e.jsx("input",{type:"text",value:M.name,onChange:V=>z(te=>({...te,name:V.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role:"}),e.jsxs("select",{value:M.role,onChange:V=>z(te=>({...te,role:V.target.value})),children:[e.jsx("option",{value:"super_admin",children:"Super Admin"}),e.jsx("option",{value:"sub_admin",children:"Sub-Admin"}),e.jsx("option",{value:"website_researcher",children:"Website Researcher"}),e.jsx("option",{value:"linkedin_researcher",children:"LinkedIn Researcher"}),e.jsx("option",{value:"website_inquirer",children:"Website Inquirer"}),e.jsx("option",{value:"linkedin_inquirer",children:"LinkedIn Inquirer"}),e.jsx("option",{value:"website_inquirer_auditor",children:"Website Inquirer Auditor"}),e.jsx("option",{value:"linkedin_inquirer_auditor",children:"LinkedIn Inquirer Auditor"}),e.jsx("option",{value:"website_research_auditor",children:"Website Research Auditor"}),e.jsx("option",{value:"linkedin_research_auditor",children:"LinkedIn Research Auditor"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("select",{value:M.status,onChange:V=>z(te=>({...te,status:V.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:b,children:"Cancel"}),e.jsx("button",{onClick:$,children:"Save"})]})]})})]})}function wv(){const t=it(),[s,n]=d.useState({name:"",email:"",password:"",country:"",role:""}),[a,r]=d.useState(""),[i,l]=d.useState([]),[o,c]=d.useState(""),[h,p]=d.useState(!1),[m,f]=d.useState([]),[g,j]=d.useState(!1),[w,S]=d.useState(""),N={"Super Admin":"super_admin","Sub-Admin":"sub_admin","Website Researcher":"website_researcher","LinkedIn Researcher":"linkedin_researcher","Website Inquirer":"website_inquirer","LinkedIn Inquirer":"linkedin_inquirer","Website Inquirer Auditor":"website_inquirer_auditor","LinkedIn Inquirer Auditor":"linkedin_inquirer_auditor","Website Research Auditor":"website_research_auditor","LinkedIn Research Auditor":"linkedin_research_auditor"},u=Object.keys(N),x=["Afghanistan","Albania","Algeria","Argentina","Australia","Austria","Bangladesh","Belgium","Brazil","Canada","Chile","China","Colombia","Denmark","Egypt","Finland","France","Germany","Greece","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Japan","Jordan","Kenya","South Korea","Kuwait","Lebanon","Malaysia","Mexico","Morocco","Netherlands","New Zealand","Norway","Pakistan","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Saudi Arabia","Singapore","South Africa","Spain","Sweden","Switzerland","Thailand","Turkey","Ukraine","United Arab Emirates","United Kingdom","United States","Venezuela","Vietnam","Zimbabwe"];d.useEffect(()=>{(async()=>{try{const C=await ja();f(C)}catch{console.error("Failed to load categories")}})()},[]);const y=L=>{i.includes(L.id)||l([...i,L.id]),r("")},v=L=>{if(L.key==="Enter"&&a.trim()){L.preventDefault();const C=m.find(E=>E.name.toLowerCase()===a.toLowerCase());C&&y(C)}},T=L=>{l(i.filter(C=>C!==L))},U=m.filter(L=>L.name.toLowerCase().includes(a.toLowerCase())&&!i.includes(L.id)),q=x.filter(L=>L.toLowerCase().includes(o.toLowerCase())&&L!==s.country),D=L=>{n(C=>({...C,country:L})),c(""),p(!1)},M=()=>{n(L=>({...L,country:""})),c(""),p(!1)},z=async L=>{var C,E;L.preventDefault(),j(!0),S("");try{const A={name:s.name,email:s.email,password:s.password,role:N[s.role]};s.country&&(A.country=s.country),s.role==="Sub-Admin"&&i.length>0&&(A.categoryIds=i);const R=await fy(A);t("/super-admin/users")}catch(A){const R=((E=(C=A.response)==null?void 0:C.data)==null?void 0:E.message)||"Failed to create user";S(R)}finally{j(!1)}};return e.jsxs("div",{className:"cu-container",children:[e.jsx("header",{className:"cu-header",children:e.jsxs("div",{className:"cu-title-section",children:[e.jsx("button",{className:"btn-back",onClick:()=>t(-1),children:" Back to Users"}),e.jsx("h1",{children:"Create User"}),e.jsx("p",{children:"Register a new Super Admin, Sub-Admin, or Worker into the system."})]})}),e.jsxs("div",{className:"cu-content-grid",children:[e.jsxs("form",{className:"cu-form-card",onSubmit:z,children:[w&&e.jsx("div",{className:"error-message",children:w}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Full Name *"}),e.jsx("input",{type:"text",placeholder:"e.g. John Doe",required:!0,value:s.name,onChange:L=>n(C=>({...C,name:L.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Address *"}),e.jsx("input",{type:"email",placeholder:"john@company.com",required:!0,value:s.email,onChange:L=>n(C=>({...C,email:L.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password *"}),e.jsx("input",{type:"password",placeholder:"",required:!0,value:s.password,onChange:L=>n(C=>({...C,password:L.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country"}),e.jsxs("div",{className:"country-selector",children:[e.jsx("input",{type:"text",placeholder:"Search countries...",value:o,onChange:L=>{c(L.target.value),p(!0)},onFocus:()=>p(!0)}),s.country&&e.jsx("button",{type:"button",className:"clear-country",onClick:M,children:""}),h&&o&&q.length>0&&e.jsx("div",{className:"country-suggestions",children:q.slice(0,10).map(L=>e.jsx("div",{className:"country-item",onClick:()=>D(L),children:L},L))}),s.country&&e.jsx("div",{className:"selected-country",children:s.country})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Assign Role *"}),e.jsxs("select",{value:s.role,onChange:L=>n(C=>({...C,role:L.target.value})),className:"cu-select",required:!0,children:[e.jsx("option",{value:"",children:"Select a role..."}),u.map(L=>e.jsx("option",{value:L,children:L},L))]})]})]})]}),s.role!=="Super Admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"form-divider"}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Permissions & Scope"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Assign Categories (Search or Type & Press Enter)"}),e.jsxs("div",{className:"category-search-container",children:[e.jsxs("div",{className:"tags-wrapper",children:[i.map(L=>{const C=m.find(E=>E.id===L);return e.jsxs("span",{className:"category-tag",children:[(C==null?void 0:C.name)||L,e.jsx("button",{type:"button",onClick:()=>T(L),children:""})]},L)}),e.jsx("input",{type:"text",placeholder:i.length===0?"Search: Product A, Marketing...":"Add more...",value:a,onChange:L=>r(L.target.value),onKeyDown:v})]}),a&&U.length>0&&e.jsx("div",{className:"suggestions-list",children:U.map(L=>e.jsxs("div",{className:"suggestion-item",onClick:()=>y(L),children:[L.name," ",e.jsx("span",{className:"add-label",children:"+ Add"})]},L.id))}),e.jsx("small",{className:"form-hint",children:"Assign specific categories to restrict user access. Leave empty for global access."})]})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>t(-1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",disabled:g,children:g?"Creating...":"Create User"})]})]}),e.jsx("aside",{className:"cu-tips",children:e.jsxs("div",{className:"tip-card",children:[e.jsx("h4",{children:"Role Hierarchy"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Super Admin:"})," Unrestricted access."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sub-Admin:"})," Restricted to selected categories."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Workers:"})," Research/Inquiry/Auditor based on role."]})]})]})})]})]})}function Sv(){var E,A,R,P,O,k,_,I,F,Q,$;const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState(!0),[l,o]=d.useState(""),[c,h]=d.useState([]),[p,m]=d.useState(!1),[f,g]=d.useState(null),[j,w]=d.useState([]),[S,N]=d.useState(""),[u,x]=d.useState(!1);d.useEffect(()=>{(async()=>{i(!0),await Promise.all([y(),v()]),i(!1)})()},[]);async function y(){try{const b=await ja(),B=Array.isArray(b)?b:(b==null?void 0:b.categories)??b;s(B||[]),console.debug("[Categories] Categories loaded:",B==null?void 0:B.length)}catch(b){console.error("Failed to load categories:",b),s([])}}async function v(){try{const B=await _o({role:"sub_admin",limit:100});console.debug("[Categories] Raw getUsers response:",B);let K=[];B!=null&&B.users&&Array.isArray(B.users)?K=B.users:B!=null&&B.results&&Array.isArray(B.results)?K=B.results:Array.isArray(B)&&(K=B);const V=K.filter(te=>!te||!te.role?(console.debug("[Categories] User missing role:",te),!1):te.role.toLowerCase()==="sub_admin");console.debug("[Categories] Filtered sub-admins count:",V.length),a(V)}catch(b){console.error("Failed to load sub-admins:",b),a([])}}const T=t.filter(b=>{const B=l.trim().toLowerCase();return B?(b.name||"").toLowerCase().includes(B)||(b.id||"").toLowerCase().includes(B):!0}),U=n.filter(b=>{const B=S.trim().toLowerCase();return B?(b.email||"").toLowerCase().includes(B)||(b.name||"").toLowerCase().includes(B):!0}),q=async b=>{try{await gy(b),await y(),m(!1)}catch(B){console.error("Failed to create category:",B),alert("Error creating category.")}},D=async b=>{if(b.preventDefault(),!!f)try{x(!0);const B=new FormData(b.currentTarget),K={name:B.get("name").trim(),isActive:f.isActive,config:{cooldownRules:{cooldownDays:Number(B.get("cooldownDays")),dailyLimits:{researcher:Number(B.get("researcherLimit")),inquirer:Number(B.get("inquirerLimit")),auditor:Number(B.get("auditorLimit"))}}}};console.debug("[Categories] PATCH /categories/:id payload:",K),await jy(f.id,K);const V=(f.subAdminCategories||[]).map(Ze=>Ze.userId).sort(),te=[...j].sort();(V.length!==te.length||V.some((Ze,Ht)=>Ze!==te[Ht]))&&alert('Note: To assign sub-admins to categories, please use the "User Category Assignment" page from the Admin menu'),await y(),g(null),w([])}catch(B){console.error("Failed to update category:",B),alert("Error updating category.")}finally{x(!1)}},M=async b=>{if(confirm("Are you sure?"))try{await yy(b),await y()}catch(B){console.error("Failed to delete category:",B)}},z=b=>{h(b?T.map(B=>B.id):[])},L=b=>{h(B=>B.includes(b)?B.filter(K=>K!==b):[...B,b])},C=b=>{w(B=>B.includes(b)?B.filter(K=>K!==b):[...B,b])};return r?e.jsx("div",{className:"page-loader",children:"Loading Categories..."}):e.jsxs("div",{className:"categories-container",children:[e.jsxs("header",{className:"categories-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"Categories"}),e.jsx("p",{children:"Manage system categories and sub-admin assignments."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-export",children:"Export List"}),e.jsx("button",{className:"btn-add-category",onClick:()=>m(!0),children:"+ Add Category"})]})]}),e.jsxs("section",{className:"categories-stats-grid",children:[e.jsx(ie,{title:"Total Categories",value:t.length}),e.jsx(ie,{title:"Active",value:t.filter(b=>b.isActive).length}),e.jsx(ie,{title:"Assigned Admins",value:t.reduce((b,B)=>{var K;return b+(((K=B.subAdminCategories)==null?void 0:K.length)||0)},0)}),e.jsx(ie,{title:"Total Approved",value:t.reduce((b,B)=>{var K;return b+(((K=B.metrics)==null?void 0:K.totalApprovedActions)||0)},0)})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by name or ID...",value:l,onChange:b=>o(b.target.value)})}),e.jsx("div",{className:"filter-group",children:e.jsx("button",{className:"btn-clear",onClick:()=>o(""),children:"Clear"})})]}),e.jsx("div",{className:"categories-card",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"40px"},children:e.jsx("input",{type:"checkbox",checked:c.length===T.length&&T.length>0,onChange:b=>z(b.target.checked)})}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Assigned Sub-Admins"}),e.jsx("th",{className:"txt-center",children:"Limits"}),e.jsx("th",{className:"txt-right",children:"Actions"})]})}),e.jsx("tbody",{children:T.map(b=>{var B,K,V,te,xe,Ze,Ht,Y,ue,oe,J,se;return e.jsxs("tr",{className:"cat-row",children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:c.includes(b.id),onChange:()=>L(b.id)})}),e.jsx("td",{children:e.jsxs("div",{className:"cat-info-cell",children:[e.jsxs("span",{className:"cat-id",children:["#",b.id.slice(0,8)]}),e.jsx("strong",{className:"cat-name",children:b.name})]})}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${b.isActive?"active":"inactive"}`,children:b.isActive?"Active":"Inactive"})}),e.jsx("td",{children:e.jsx("div",{className:"subadmin-tags",children:(B=b.subAdminCategories)!=null&&B.length?b.subAdminCategories.map(ce=>{var me;return e.jsx("span",{className:"admin-tag",children:((me=ce.user)==null?void 0:me.name)||"Unknown"},ce.userId)}):e.jsx("span",{className:"no-admins",children:"Unassigned"})})}),e.jsx("td",{className:"txt-center",children:e.jsxs("div",{className:"limit-info",children:[e.jsxs("span",{className:"limit-val",children:["R:",((te=(V=(K=b.config)==null?void 0:K.cooldownRules)==null?void 0:V.dailyLimits)==null?void 0:te.researcher)||0," | I:",((Ht=(Ze=(xe=b.config)==null?void 0:xe.cooldownRules)==null?void 0:Ze.dailyLimits)==null?void 0:Ht.inquirer)||0," | A:",((oe=(ue=(Y=b.config)==null?void 0:Y.cooldownRules)==null?void 0:ue.dailyLimits)==null?void 0:oe.auditor)||0]}),e.jsxs("span",{className:"cooldown-val",children:[((se=(J=b.config)==null?void 0:J.cooldownRules)==null?void 0:se.cooldownDays)||30,"d Cooldown"]})]})}),e.jsx("td",{className:"txt-right",children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-icon-act edit",onClick:()=>{var me;g(b);const ce=((me=b.subAdminCategories)==null?void 0:me.map(ke=>ke.userId))||[];w(ce),N("")},children:"Edit"}),e.jsx("button",{className:"btn-icon-act delete",onClick:()=>M(b.id),children:"Delete"})]})})]},b.id)})})]})})}),f&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Edit Category"}),e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Name"}),e.jsx("input",{type:"text",name:"name",defaultValue:f.name,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cooldown (Days)"}),e.jsx("input",{type:"number",name:"cooldownDays",defaultValue:((A=(E=f.config)==null?void 0:E.cooldownRules)==null?void 0:A.cooldownDays)??30,required:!0})]}),e.jsxs("div",{className:"limits-grid",children:[e.jsxs("div",{className:"limit-input",children:[e.jsx("label",{children:"Researcher Limit"}),e.jsx("input",{type:"number",name:"researcherLimit",defaultValue:((O=(P=(R=f.config)==null?void 0:R.cooldownRules)==null?void 0:P.dailyLimits)==null?void 0:O.researcher)??0,required:!0})]}),e.jsxs("div",{className:"limit-input",children:[e.jsx("label",{children:"Inquirer Limit"}),e.jsx("input",{type:"number",name:"inquirerLimit",defaultValue:((I=(_=(k=f.config)==null?void 0:k.cooldownRules)==null?void 0:_.dailyLimits)==null?void 0:I.inquirer)??0,required:!0})]}),e.jsxs("div",{className:"limit-input",children:[e.jsx("label",{children:"Auditor Limit"}),e.jsx("input",{type:"number",name:"auditorLimit",defaultValue:(($=(Q=(F=f.config)==null?void 0:F.cooldownRules)==null?void 0:Q.dailyLimits)==null?void 0:$.auditor)??0,required:!0})]})]}),e.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[e.jsx("label",{children:"Assign Sub-Admins"}),e.jsx("p",{className:"form-help",children:"Select sub-admins who can manage this category."}),e.jsxs("div",{className:"subadmin-selector",children:[e.jsx("input",{type:"text",placeholder:"Filter by name or email...",value:S,onChange:b=>N(b.target.value)}),e.jsxs("div",{className:"subadmin-dropdown",style:{maxHeight:"150px",overflowY:"auto",border:"1px solid #eee",marginTop:"5px"},children:[U.map(b=>e.jsxs("div",{className:"subadmin-row",style:{display:"flex",justifyContent:"space-between",padding:"8px"},children:[e.jsxs("span",{children:[b.name," (",b.email,")"]}),e.jsx("button",{type:"button",className:`btn-small ${j.includes(b.id)?"selected":""}`,onClick:()=>C(b.id),children:j.includes(b.id)?"Remove":"Add"})]},b.id)),U.length===0&&e.jsx("div",{style:{padding:"8px",color:"#999"},children:"No sub-admins found"})]}),e.jsx("div",{className:"selected-admins",style:{marginTop:"10px"},children:j.map(b=>{const B=n.find(K=>K.id===b);return e.jsxs("span",{className:"admin-tag",children:[(B==null?void 0:B.name)||b,e.jsx("button",{type:"button",onClick:()=>C(b),children:""})]},b)})})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",onClick:()=>g(null),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,children:u?"Saving...":"Save Changes"})]})]})]})}),p&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Create Category"}),e.jsxs("form",{onSubmit:b=>{b.preventDefault();const B=new FormData(b.currentTarget);q({name:B.get("name"),config:{cooldownRules:{cooldownDays:30,dailyLimits:{researcher:100,inquirer:50,auditor:100}}}})},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Name"}),e.jsx("input",{type:"text",name:"name",required:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",onClick:()=>m(!1),children:"Cancel"}),e.jsx("button",{type:"submit",children:"Create"})]})]})]})})]})}function Cv(){const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState(!0),[l,o]=d.useState(""),[c,h]=d.useState([]),[p,m]=d.useState(!1),[f,g]=d.useState(null),[j,w]=d.useState(""),[S,N]=d.useState(""),[u,x]=d.useState(""),[y,v]=d.useState("");d.useEffect(()=>{T()},[]);const T=async()=>{try{const[k,_]=await Promise.all([vy(),ja()]);s(k),a(_)}catch(k){console.error("Failed to load data:",k)}finally{i(!1)}},U=async k=>{try{await Ny(k),await T(),m(!1)}catch(_){console.error("Failed to create rule:",_)}},q=async k=>{try{await by(k.id,k),await T(),g(null)}catch(_){console.error("Failed to update rule:",_)}},D=async k=>{try{await ky(k),await T()}catch(_){console.error("Failed to toggle status:",_)}},M=async k=>{if(confirm("Are you sure you want to delete this rule?"))try{await wy(k),await T()}catch(_){console.error("Failed to delete rule:",_)}},z=async k=>{},L=async()=>{},C=k=>{h(k?A.map(_=>_.id):[])},E=(k,_)=>{h(I=>_?[...I,k]:I.filter(F=>F!==k))},A=t.filter(k=>{const _=k.category.name.toLowerCase().includes(l.toLowerCase())||k.actionType.toLowerCase().includes(l.toLowerCase())||k.role.toLowerCase().includes(l.toLowerCase()),I=!j||k.categoryId===j,F=!S||k.role===S,Q=!u||k.actionType===u,$=!y||k.status===y;return _&&I&&F&&Q&&$}),R=Array.from(new Set(t.map(k=>k.role))),P=Array.from(new Set(t.map(k=>k.actionType))),O=t.filter(k=>k.status==="active").length;return r?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading rules..."})]}):e.jsxs("div",{className:"category-rules-page",children:[e.jsxs("header",{className:"page-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("h1",{children:"Category Rules"}),e.jsx("p",{className:"subtitle",children:"Configure automated behavior and restrictions for task categories."})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-primary",onClick:()=>m(!0),children:"Add New Rule"})})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsx(ie,{title:"Total Rules",value:t.length}),e.jsx(ie,{title:"Active Rules",value:O}),e.jsx(ie,{title:"Linked Categories",value:n.length})]}),e.jsxs("div",{className:"management-bar",children:[e.jsxs("div",{className:"bar-left",children:[e.jsx("div",{className:"search-container",children:e.jsx("input",{type:"text",className:"search-input",placeholder:"Search by category, action or role...",value:l,onChange:k=>o(k.target.value)})}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("select",{className:"select-input",value:j,onChange:k=>w(k.target.value),children:[e.jsx("option",{value:"",children:"All Categories"}),n.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]}),e.jsxs("select",{className:"select-input",value:S,onChange:k=>N(k.target.value),children:[e.jsx("option",{value:"",children:"All Roles"}),R.map(k=>e.jsx("option",{value:k,children:k},k))]}),e.jsxs("select",{className:"select-input",value:u,onChange:k=>x(k.target.value),children:[e.jsx("option",{value:"",children:"All Action Types"}),P.map(k=>e.jsx("option",{value:k,children:k},k))]}),e.jsxs("select",{className:"select-input",value:y,onChange:k=>v(k.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsx("div",{className:"bar-right",children:c.length>0&&e.jsxs("div",{className:"bulk-actions-area",children:[e.jsxs("span",{className:"selection-label",children:[c.length," items selected"]}),e.jsxs("div",{className:"button-group",children:[e.jsx("button",{className:"btn-secondary btn-sm",onClick:()=>z(),children:"Enable"}),e.jsx("button",{className:"btn-secondary btn-sm",onClick:()=>z(),children:"Disable"}),e.jsx("button",{className:"btn-danger btn-sm",onClick:L,children:"Delete"})]})]})})]}),e.jsx("div",{className:"table-card",children:e.jsxs("div",{className:"table-responsive",children:[e.jsxs("table",{className:"rules-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"col-check",children:e.jsx("input",{type:"checkbox",checked:c.length===A.length&&A.length>0,onChange:k=>C(k.target.checked)})}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Action Type"}),e.jsx("th",{children:"Role"}),e.jsx("th",{className:"text-center",children:"Daily Limit"}),e.jsx("th",{className:"text-center",children:"Cooldown"}),e.jsx("th",{className:"text-center",children:"Required"}),e.jsx("th",{className:"text-center",children:"Screenshot"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:A.map(k=>e.jsxs("tr",{className:c.includes(k.id)?"row-selected":"",children:[e.jsx("td",{className:"col-check",children:e.jsx("input",{type:"checkbox",checked:c.includes(k.id),onChange:_=>E(k.id,_.target.checked)})}),e.jsx("td",{children:e.jsxs("div",{className:"td-category-info",children:[e.jsx("span",{className:"category-name",children:k.category.name}),e.jsxs("span",{className:"rule-id-tag",children:["ID: ",k.id.slice(0,6)]})]})}),e.jsx("td",{children:e.jsx("span",{className:"tag-type",children:k.actionType})}),e.jsx("td",{children:e.jsx("span",{className:"tag-role",children:k.role})}),e.jsx("td",{className:"text-center",children:k.dailyLimitOverride??e.jsx("span",{className:"default-label",children:"Default"})}),e.jsx("td",{className:"text-center",children:k.cooldownDaysOverride!==null?`${k.cooldownDaysOverride}d`:e.jsx("span",{className:"default-label",children:"Default"})}),e.jsx("td",{className:"text-center font-medium",children:k.requiredActions}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:`boolean-indicator ${k.screenshotRequired?"is-true":"is-false"}`,children:k.screenshotRequired?"Yes":"No"})}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${k.status}`,children:k.status})}),e.jsx("td",{className:"text-right",children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-table",onClick:()=>g(k),children:"Edit"}),e.jsx("button",{className:"btn-table",onClick:()=>D(k.id),children:k.status==="active"?"Disable":"Enable"}),e.jsx("button",{className:"btn-table btn-delete",onClick:()=>M(k.id),children:"Delete"})]})})]},k.id))})]}),A.length===0&&e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No category rules found matching your criteria."})})]})}),p&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-container",children:[e.jsxs("header",{className:"modal-header",children:[e.jsx("h2",{children:"Create Category Rule"}),e.jsx("button",{className:"btn-close",onClick:()=>m(!1),children:""})]}),e.jsxs("form",{onSubmit:k=>{k.preventDefault();const _=new FormData(k.target),I={categoryId:_.get("categoryId"),actionType:_.get("actionType"),role:_.get("role"),dailyLimitOverride:_.get("dailyLimitOverride")?Number(_.get("dailyLimitOverride")):null,cooldownDaysOverride:_.get("cooldownDaysOverride")?Number(_.get("cooldownDaysOverride")):null,requiredActions:Number(_.get("requiredActions"))||1,screenshotRequired:_.get("screenshotRequired")==="true",status:"active",priority:Number(_.get("priority"))||0};U(I)},children:[e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"form-section",children:[e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Target Category"}),e.jsxs("select",{name:"categoryId",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),n.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Action Type"}),e.jsxs("select",{name:"actionType",required:!0,children:[e.jsx("option",{value:"Website Research",children:"Website Research"}),e.jsx("option",{value:"LinkedIn Inquiry",children:"LinkedIn Inquiry"}),e.jsx("option",{value:"Email Outreach",children:"Email Outreach"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Assigned Role"}),e.jsxs("select",{name:"role",required:!0,children:[e.jsx("option",{value:"Researcher",children:"Researcher"}),e.jsx("option",{value:"Inquirer",children:"Inquirer"}),e.jsx("option",{value:"Auditor",children:"Auditor"})]})]})]}),e.jsx("div",{className:"form-separator",children:"Rule Configuration Overrides"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Daily Limit"}),e.jsx("input",{type:"number",name:"dailyLimitOverride",placeholder:"Use system default"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cooldown (Days)"}),e.jsx("input",{type:"number",name:"cooldownDaysOverride",placeholder:"Use system default"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Required Actions"}),e.jsx("input",{type:"number",name:"requiredActions",defaultValue:1,min:1,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Screenshot Proof"}),e.jsxs("select",{name:"screenshotRequired",children:[e.jsx("option",{value:"false",children:"Not Required"}),e.jsx("option",{value:"true",children:"Mandatory"})]})]})]})]})}),e.jsxs("footer",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>m(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Create Rule"})]})]})]})}),f&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-container",children:[e.jsxs("header",{className:"modal-header",children:[e.jsx("h2",{children:"Edit Rule Configuration"}),e.jsx("button",{className:"btn-close",onClick:()=>g(null),children:""})]}),e.jsxs("form",{onSubmit:k=>{k.preventDefault();const _=new FormData(k.target),I={...f,categoryId:_.get("categoryId"),actionType:_.get("actionType"),role:_.get("role"),dailyLimitOverride:_.get("dailyLimitOverride")?Number(_.get("dailyLimitOverride")):null,cooldownDaysOverride:_.get("cooldownDaysOverride")?Number(_.get("cooldownDaysOverride")):null,requiredActions:Number(_.get("requiredActions")),screenshotRequired:_.get("screenshotRequired")==="true",priority:Number(_.get("priority"))};q(I)},children:[e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"form-section",children:[e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Category"}),e.jsx("select",{name:"categoryId",defaultValue:f.categoryId,required:!0,children:n.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Action Type"}),e.jsxs("select",{name:"actionType",defaultValue:f.actionType,required:!0,children:[e.jsx("option",{value:"Website Research",children:"Website Research"}),e.jsx("option",{value:"LinkedIn Inquiry",children:"LinkedIn Inquiry"}),e.jsx("option",{value:"Email Outreach",children:"Email Outreach"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{name:"role",defaultValue:f.role,required:!0,children:[e.jsx("option",{value:"Researcher",children:"Researcher"}),e.jsx("option",{value:"Inquirer",children:"Inquirer"}),e.jsx("option",{value:"Auditor",children:"Auditor"})]})]})]}),e.jsx("div",{className:"form-separator",children:"Overrides & Requirements"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Daily Limit"}),e.jsx("input",{type:"number",name:"dailyLimitOverride",defaultValue:f.dailyLimitOverride||"",placeholder:"System default"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cooldown (Days)"}),e.jsx("input",{type:"number",name:"cooldownDaysOverride",defaultValue:f.cooldownDaysOverride||"",placeholder:"System default"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Required Actions"}),e.jsx("input",{type:"number",name:"requiredActions",defaultValue:f.requiredActions,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Screenshot?"}),e.jsxs("select",{name:"screenshotRequired",defaultValue:f.screenshotRequired.toString(),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]})]})]})}),e.jsxs("footer",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g(null),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"})]})]})]})})]})}const Vt="/api/actions";async function Rv(){try{const t=await fetch(Vt);return t.ok?await t.json():[]}catch{return[]}}async function wd(t){try{const s=await fetch(`${Vt}/global-lists/${t}`);return s.ok?await s.json():[]}catch{return[]}}async function Av(t,s){try{await fetch(`${Vt}/global-lists/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}catch(n){console.error("Failed to add item to global list:",n)}}async function Ev(t,s){try{await fetch(`${Vt}/global-lists/${t}/${s}`,{method:"DELETE"})}catch(n){console.error("Failed to delete global list item:",n)}}async function Tv(t,s,n){try{await fetch(`${Vt}/global-lists/${t}/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}catch(a){console.error("Failed to update global list item:",a)}}async function Lv(t){try{const s=await fetch(Vt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to create action");return await s.json()}catch(s){throw console.error("Failed to create action:",s),s}}async function Iv(t,s){try{const n=await fetch(`${Vt}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!n.ok)throw new Error("Failed to update action");return await n.json()}catch(n){throw console.error("Failed to update action:",n),n}}async function Pv(t){try{if(!(await fetch(`${Vt}/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete action")}catch(s){throw console.error("Failed to delete action:",s),s}}async function Dv(t,s){try{if(!(await fetch(`${Vt}/${t}/enable`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:s})})).ok)throw new Error("Failed to toggle action status")}catch(n){throw console.error("Failed to toggle action status:",n),n}}const Ua=["Super Admin","Sub-Admin","Website Researcher","LinkedIn Researcher","Website Inquirer","Backlink Outreacher","LinkedIn Inquirer","Website Inquirer Auditor","LinkedIn Inquirer Auditor","Website Research Auditor","LinkedIn Research Auditor","Website Reviewer","Backlink Website Reviewer","LinkedIn Reviewer"],Sd=["research","inquiry","review","outreach"],Fv=()=>{var R,P,O,k,_,I,F,Q;const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState(!0),[l,o]=d.useState(""),[c,h]=d.useState(null),[p,m]=d.useState(!1),[f,g]=d.useState({blacklist:[]}),[j,w]=d.useState("blacklist"),[S,N]=d.useState(!1),[u,x]=d.useState("");d.useEffect(()=>{i(!0),Promise.all([Rv(),wd("blacklist")]).then(([$,b])=>{s($),a($),g({blacklist:b}),i(!1)})},[]),d.useEffect(()=>{if(!l)a(t);else{const $=l.toLowerCase();a(t.filter(b=>b.name.toLowerCase().includes($)||b.role.toLowerCase().includes($)||b.category.toLowerCase().includes($)||b.actionType.toLowerCase().includes($)||b.id.toLowerCase().includes($)))}},[l,t]);const y=$=>h($),v=async $=>{if(window.confirm("Are you sure you want to delete this action?"))try{await Pv($),s(b=>b.filter(B=>B.id!==$)),a(b=>b.filter(B=>B.id!==$))}catch(b){console.error("Delete failed:",b),alert("Failed to delete action")}},T=async($,b)=>{try{await Dv($,b),s(B=>B.map(K=>K.id===$?{...K,enabled:b}:K)),a(B=>B.map(K=>K.id===$?{...K,enabled:b}:K))}catch(B){console.error("Toggle failed:",B),alert("Failed to update action status")}},U=async $=>{try{await Iv($.id,$),s(b=>b.map(B=>B.id===$.id?$:B)),a(b=>b.map(B=>B.id===$.id?$:B)),h(null)}catch(b){console.error("Update failed:",b),alert("Failed to update action")}},q=async $=>{try{const b=await Lv($);s(B=>[...B,b]),a(B=>[...B,b]),m(!1)}catch(b){console.error("Create failed:",b),alert("Failed to create action")}},D=async()=>{if(u.trim())try{await Av(j,{name:u.trim()});const $=await wd(j);g(b=>({...b,[j]:$})),x("")}catch($){console.error("Add global list item failed:",$),alert("Failed to add item")}},M=async $=>{try{await Ev(j,$),g(b=>({...b,[j]:b[j].filter(B=>B.id!==$)}))}catch(b){console.error("Delete global list item failed:",b),alert("Failed to delete item")}},z=async($,b)=>{try{await Tv(j,$,{name:b}),g(B=>({...B,[j]:B[j].map(K=>K.id===$?{...K,name:b}:K)}))}catch(B){console.error("Update global list item failed:",B),alert("Failed to update item")}},L=t.length,C=t.filter($=>$.enabled).length,E=Array.from(new Set(t.map($=>$.role))).length,A=t.filter($=>$.approval.requiresApproval).length;return r?e.jsx("div",{className:"page-loader",children:"Loading Action Configurations..."}):e.jsxs("div",{className:"categories-container",children:[e.jsxs("header",{className:"categories-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"Action Configuration"}),e.jsx("p",{children:"Define how system actions behave across all roles. Changes here affect every task and role instantly."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-export",onClick:()=>alert("Export coming soon!"),children:"Export All"}),e.jsx("button",{className:"btn-add-category",onClick:()=>m(!0),children:"+ Add Action"})]})]}),e.jsxs("section",{className:"categories-stats-grid",children:[e.jsx(ie,{title:"Total Actions",value:L}),e.jsx(ie,{title:"Enabled",value:C}),e.jsx(ie,{title:"Roles Covered",value:E}),e.jsx(ie,{title:"Actions Requiring Approval",value:A})]}),e.jsxs("section",{style:{margin:"20px 0"},children:[e.jsx("h3",{children:"Global Management"}),e.jsx("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:e.jsx("button",{onClick:()=>{w("blacklist"),N(!0)},children:"Company Blacklist"})})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by action, role, category, or ID...",value:l,onChange:$=>o($.target.value)})}),e.jsx("div",{className:"filter-group",children:e.jsx("button",{className:"btn-clear",onClick:()=>o(""),children:"Clear"})})]}),e.jsx("div",{className:"categories-card",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Action Name"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Action Type"}),e.jsx("th",{children:"Inputs Count"}),e.jsx("th",{children:"Screenshot Required"}),e.jsx("th",{children:"Approval Required"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"txt-right",children:"Actions"})]})}),e.jsx("tbody",{children:n.map($=>e.jsxs("tr",{children:[e.jsx("td",{children:$.name}),e.jsx("td",{children:e.jsx("span",{className:"role-tag",children:$.role})}),e.jsx("td",{children:$.category}),e.jsx("td",{children:$.actionType}),e.jsx("td",{children:$.inputs.length}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${$.evidence.requiresScreenshot?"enabled":"disabled"}`,children:$.evidence.requiresScreenshot?"Yes":"No"})}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${$.approval.requiresApproval?"enabled":"disabled"}`,children:$.approval.requiresApproval?"Yes":"No"})}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${$.enabled?"enabled":"disabled"}`,style:{cursor:"pointer"},onClick:()=>T($.id,!$.enabled),children:$.enabled?"Enabled":"Disabled"})}),e.jsxs("td",{className:"txt-right",children:[e.jsx("button",{className:"btn-icon-act edit",onClick:()=>y($),children:"Edit"}),e.jsx("button",{className:"btn-icon-act delete",onClick:()=>v($.id),children:"Delete"})]})]},$.id))})]})})}),(p||c)&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",style:{maxWidth:700},children:[e.jsx("h2",{children:c?"Edit Action":"Create Action"}),e.jsxs("form",{onSubmit:async $=>{$.preventDefault();const b=new FormData($.currentTarget),B={id:c?c.id:"",name:b.get("name"),role:b.get("role"),category:b.get("category"),actionType:b.get("actionType"),enabled:b.get("enabled")==="on",inputs:c?c.inputs:[],evidence:c?c.evidence:{actionId:"",requiresScreenshot:b.get("requiresScreenshot")==="on",screenshotType:b.get("screenshotType"),screenshotContext:b.get("screenshotContext"),maxSizeMb:Number(b.get("maxSizeMb"))||1},approval:c?c.approval:{actionId:"",requiresApproval:b.get("requiresApproval")==="on",approvalRole:b.get("approvalRole"),approvalCriteria:b.get("approvalCriteria"),rejectionReasonGroupId:""},guidelines:b.get("guidelines")};c?await U(B):await q(B)},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Action Name"}),e.jsx("input",{name:"name",defaultValue:(c==null?void 0:c.name)||"",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsx("select",{name:"role",defaultValue:(c==null?void 0:c.role)||Ua[0],children:Ua.map($=>e.jsx("option",{value:$,children:$},$))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsx("input",{name:"category",defaultValue:(c==null?void 0:c.category)||"",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Action Type"}),e.jsx("select",{name:"actionType",defaultValue:(c==null?void 0:c.actionType)||Sd[0],children:Sd.map($=>e.jsx("option",{value:$,children:$},$))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Enabled"}),e.jsx("input",{type:"checkbox",name:"enabled",defaultChecked:c?c.enabled:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Guidelines"}),e.jsx("textarea",{name:"guidelines",defaultValue:(c==null?void 0:c.guidelines)||"",rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Inputs (configured in detail below)"}),e.jsxs("div",{children:[(R=c==null?void 0:c.inputs)==null?void 0:R.map(($,b)=>e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs("span",{children:[$.label," (",$.type,")"]}),e.jsx("span",{style:{marginLeft:8},children:$.required?"Required":"Optional"}),e.jsxs("span",{style:{marginLeft:8},children:["Order: ",$.order]})]},$.id)),e.jsx("button",{type:"button",onClick:()=>alert("Input schema editing coming soon!"),children:"Edit Inputs"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Screenshot Required"}),e.jsx("input",{type:"checkbox",name:"requiresScreenshot",defaultChecked:((P=c==null?void 0:c.evidence)==null?void 0:P.requiresScreenshot)||!1}),e.jsxs("select",{name:"screenshotType",defaultValue:((O=c==null?void 0:c.evidence)==null?void 0:O.screenshotType)||"image",children:[e.jsx("option",{value:"image",children:"Image"}),e.jsx("option",{value:"pdf",children:"PDF"})]}),e.jsx("input",{name:"screenshotContext",placeholder:"Screenshot must show...",defaultValue:((k=c==null?void 0:c.evidence)==null?void 0:k.screenshotContext)||""}),e.jsx("input",{type:"number",name:"maxSizeMb",min:0,defaultValue:((_=c==null?void 0:c.evidence)==null?void 0:_.maxSizeMb)||1})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Approval Required"}),e.jsx("input",{type:"checkbox",name:"requiresApproval",defaultChecked:((I=c==null?void 0:c.approval)==null?void 0:I.requiresApproval)||!1}),e.jsx("select",{name:"approvalRole",defaultValue:((F=c==null?void 0:c.approval)==null?void 0:F.approvalRole)||Ua[0],children:Ua.map($=>e.jsx("option",{value:$,children:$},$))}),e.jsx("input",{name:"approvalCriteria",placeholder:"Describe approval criteria...",defaultValue:((Q=c==null?void 0:c.approval)==null?void 0:Q.approvalCriteria)||""})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",onClick:()=>{h(null),m(!1)},children:"Cancel"}),e.jsx("button",{type:"submit",children:c?"Save":"Create"})]})]})]})}),S&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Company Blacklist"}),e.jsxs("div",{children:[e.jsx("ul",{children:f[j].map($=>e.jsxs("li",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{value:$.name,onChange:b=>z($.id,b.target.value),style:{flex:1}}),e.jsx("button",{onClick:()=>M($.id),children:"Delete"})]},$.id))}),e.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[e.jsx("input",{value:u,onChange:$=>x($.target.value),placeholder:"Add new item...",style:{flex:1}}),e.jsx("button",{onClick:D,children:"Add"})]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",onClick:()=>N(!1),children:"Close"})})]})})]})};function _v(){const[t,s]=d.useState([]),[n,a]=d.useState(!0),[r,i]=d.useState(null),[l,o]=d.useState(!1),[c,h]=d.useState({domain:"",reason:""}),[p,m]=d.useState("");d.useEffect(()=>{f()},[]);const f=async()=>{a(!0),i(null);try{s([{id:"1",domain:"example.com",reason:"Invalid company information",addedBy:"admin@system.com",addedAt:new Date().toISOString(),isActive:!0}])}catch(S){i(S instanceof Error?S.message:"Failed to fetch blacklist")}finally{a(!1)}},g=async S=>{if(S.preventDefault(),!c.domain.trim()){alert("Please enter a domain");return}try{const N={id:Math.random().toString(),domain:c.domain,reason:c.reason,addedBy:"current_user@system.com",addedAt:new Date().toISOString(),isActive:!0};s([N,...t]),h({domain:"",reason:""}),o(!1)}catch{alert("Failed to add company to blacklist")}},j=async S=>{if(confirm("Are you sure you want to remove this company from blacklist?"))try{s(t.filter(N=>N.id!==S))}catch{alert("Failed to remove company")}},w=t.filter(S=>{var N;return S.domain.toLowerCase().includes(p.toLowerCase())||((N=S.reason)==null?void 0:N.toLowerCase().includes(p.toLowerCase()))});return e.jsxs("div",{className:"company-blacklist-page",children:[e.jsxs("header",{className:"cbp-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Company Blacklist"}),e.jsx("p",{children:"Manage blacklisted companies. These domains cannot be used for task creation."})]}),e.jsx("button",{className:"btn-primary",onClick:()=>o(!l),children:l?"Cancel":"+ Add Company"})]}),e.jsxs("div",{className:"cbp-stats",children:[e.jsx(ie,{title:"Total Blacklisted",value:t.length,trend:t.length>0?"neutral":"positive"}),e.jsx(ie,{title:"Active",value:t.filter(S=>S.isActive).length,trend:"neutral"})]}),l&&e.jsxs("div",{className:"cbp-form-section",children:[e.jsx("h3",{children:"Add Company to Blacklist"}),e.jsxs("form",{onSubmit:g,className:"cbp-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"domain",children:"Domain *"}),e.jsx("input",{type:"text",id:"domain",value:c.domain,onChange:S=>h({...c,domain:S.target.value}),placeholder:"e.g., example.com",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"reason",children:"Reason"}),e.jsx("textarea",{id:"reason",value:c.reason,onChange:S=>h({...c,reason:S.target.value}),placeholder:"Why is this company blacklisted?",rows:3})]}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Add to Blacklist"})]})]}),e.jsx("div",{className:"cbp-search",children:e.jsx("input",{type:"text",placeholder:"Search by domain or reason...",value:p,onChange:S=>m(S.target.value)})}),e.jsxs("main",{className:"cbp-main",children:[n&&e.jsx("div",{className:"loading",children:"Loading blacklist..."}),r&&e.jsxs("div",{className:"error-message",children:["Error: ",r]}),!n&&!r&&w.length===0&&e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:p?"No companies found matching your search.":"No blacklisted companies yet."})}),!n&&!r&&w.length>0&&e.jsx("div",{className:"cbp-list",children:e.jsxs("table",{className:"cbp-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Domain"}),e.jsx("th",{children:"Reason"}),e.jsx("th",{children:"Added By"}),e.jsx("th",{children:"Added At"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:w.map(S=>e.jsxs("tr",{children:[e.jsx("td",{className:"domain",children:e.jsx("strong",{children:S.domain})}),e.jsx("td",{children:S.reason||"-"}),e.jsx("td",{children:S.addedBy}),e.jsx("td",{children:new Date(S.addedAt).toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${S.isActive?"active":"inactive"}`,children:S.isActive?"Active":"Inactive"})}),e.jsx("td",{children:e.jsx("button",{className:"btn-danger",onClick:()=>j(S.id),title:"Remove from blacklist",children:"Remove"})})]},S.id))})]})})]})]})}const Li=[{value:"website_inquirer_auditor",label:"Website Inquirer Auditor"},{value:"linkedin_inquirer_auditor",label:"LinkedIn Inquirer Auditor"},{value:"website_research_auditor",label:"Website Research Auditor"},{value:"linkedin_research_auditor",label:"LinkedIn Research Auditor"}];function Uv(){const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState(!0),[l,o]=d.useState(!1),[c,h]=d.useState(null),[p,m]=d.useState(""),[f,g]=d.useState(""),[j,w]=d.useState(""),[S,N]=d.useState(""),[u,x]=d.useState(""),[y,v]=d.useState("rejection"),[T,U]=d.useState([]),[q,D]=d.useState([]),[M,z]=d.useState(!0);d.useEffect(()=>{L(),C()},[]);const L=async()=>{try{const I=await X.get("/admin/categories");a(Array.isArray(I.data)?I.data:[])}catch(I){console.error("Failed to load categories:",I)}},C=async()=>{try{i(!0);const I={};p&&(I.search=p),f&&(I.role=f),j&&(I.reasonType=j),S&&(I.categoryId=S);const F=await X.get("/admin/disapproval-reasons",{params:I});s(F.data)}catch(I){console.error("Failed to load reasons:",I)}finally{i(!1)}};d.useEffect(()=>{const I=setTimeout(C,300);return()=>clearTimeout(I)},[p,f,j,S]);const E=()=>{h(null),x(""),v("rejection"),U([]),D([]),z(!0),o(!0)},A=I=>{h(I),x(I.description),v(I.reasonType),U(I.applicableRoles),D(I.categoryIds),z(I.isActive),o(!0)},R=async I=>{var Q,$;if(I.preventDefault(),!u.trim()){alert("Description is required");return}if(T.length===0){alert("Please select at least one auditor role");return}const F={description:u.trim(),reasonType:y,applicableRoles:T,categoryIds:q,isActive:M};try{c?await X.patch(`/admin/disapproval-reasons/${c.id}`,F):await X.post("/admin/disapproval-reasons",F),o(!1),C()}catch(b){alert((($=(Q=b.response)==null?void 0:Q.data)==null?void 0:$.message)||b.message||"Failed to save disapproval reason")}},P=async I=>{var F,Q;if(window.confirm(`Are you sure you want to delete "${I.description}"?`))try{await X.delete(`/admin/disapproval-reasons/${I.id}`),C()}catch($){alert(((Q=(F=$.response)==null?void 0:F.data)==null?void 0:Q.message)||$.message||"Failed to delete disapproval reason")}},O=I=>{U(F=>F.includes(I)?F.filter(Q=>Q!==I):[...F,I])},k=I=>{D(F=>F.includes(I)?F.filter(Q=>Q!==I):[...F,I])},_=t;return e.jsxs("div",{className:"admin-disapproval-container",children:[e.jsxs("header",{className:"page-header",children:[e.jsx("h1",{children:"Disapproval & Flag Reasons"}),e.jsx("button",{className:"btn-primary",onClick:E,children:"+ Create Reason"})]}),e.jsxs("div",{className:"filters-section",children:[e.jsx("input",{type:"text",placeholder:"Search descriptions...",value:p,onChange:I=>m(I.target.value),className:"filter-input"}),e.jsxs("select",{value:f,onChange:I=>g(I.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Roles"}),Li.map(I=>e.jsx("option",{value:I.value,children:I.label},I.value))]}),e.jsxs("select",{value:j,onChange:I=>w(I.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"rejection",children:"Rejection"}),e.jsx("option",{value:"flag",children:"Flag"})]}),e.jsxs("select",{value:S,onChange:I=>N(I.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Categories"}),n.map(I=>e.jsx("option",{value:I.id,children:I.name},I.id))]})]}),r?e.jsx("div",{className:"loading-state",children:"Loading reasons..."}):e.jsxs("table",{className:"reasons-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Applicable Roles"}),e.jsx("th",{children:"Categories"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:_.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No disapproval reasons found. Create one to get started."})}):_.map(I=>e.jsxs("tr",{children:[e.jsx("td",{children:I.description}),e.jsx("td",{children:e.jsx("span",{className:`type-badge type-${I.reasonType}`,children:I.reasonType==="rejection"?"Rejection":"Flag"})}),e.jsx("td",{children:I.applicableRoles.length>0?I.applicableRoles.map(F=>{var Q;return((Q=Li.find($=>$.value===F))==null?void 0:Q.label)||F}).join(", "):"None"}),e.jsx("td",{children:I.categoryIds.length>0?I.categoryIds.map(F=>{var Q;return((Q=n.find($=>$.id===F))==null?void 0:Q.name)||F}).join(", "):"Global (All)"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-${I.isActive?"active":"inactive"}`,children:I.isActive?"Active":"Inactive"})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn-edit",onClick:()=>A(I),children:"Edit"}),e.jsx("button",{className:"btn-delete",onClick:()=>P(I),style:{background:"#ef4444",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem",transition:"background 0.2s"},onMouseEnter:F=>F.currentTarget.style.background="#dc2626",onMouseLeave:F=>F.currentTarget.style.background="#ef4444",children:"Delete"})]})})]},I.id))})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal-content",onClick:I=>I.stopPropagation(),children:[e.jsx("h2",{children:c?"Edit Disapproval Reason":"Create Disapproval Reason"}),e.jsxs("form",{onSubmit:R,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description*"}),e.jsx("textarea",{value:u,onChange:I=>x(I.target.value),placeholder:"Enter reason description...",rows:3,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reason Type*"}),e.jsxs("div",{className:"radio-group",children:[e.jsxs("label",{className:"radio-item",children:[e.jsx("input",{type:"radio",checked:y==="rejection",onChange:()=>v("rejection")}),e.jsx("span",{children:"Rejection"})]}),e.jsxs("label",{className:"radio-item",children:[e.jsx("input",{type:"radio",checked:y==="flag",onChange:()=>v("flag")}),e.jsx("span",{children:"Flag"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Applicable Auditor Roles* (select at least one)"}),e.jsx("div",{className:"checkbox-group",children:Li.map(I=>e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:T.includes(I.value),onChange:()=>O(I.value)}),e.jsx("span",{children:I.label})]},I.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Categories (leave empty for global access to all categories)"}),e.jsx("div",{className:"checkbox-group",children:n.map(I=>e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:q.includes(I.id),onChange:()=>k(I.id)}),e.jsx("span",{children:I.name})]},I.id))})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:I=>z(I.target.checked)}),e.jsx("span",{children:"Active (visible to auditors)"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",children:c?"Update":"Create"})]})]})]})})]})}function Ov(){const[t,s]=d.useState([]),[n,a]=d.useState(!0),[r,i]=d.useState(!1),[l,o]=d.useState(null),[c,h]=d.useState(""),[p,m]=d.useState("");d.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const u=await X.get("/admin/company-types");s(u.data||[])}catch(u){console.error("Failed to load company types:",u)}finally{a(!1)}},g=()=>{o(null),h(""),m(""),i(!0)},j=u=>{o(u),h(u.name),m(u.description||""),i(!0)},w=async u=>{var x,y;if(u.preventDefault(),!c.trim()){alert("Name is required");return}try{const v={name:c.trim(),description:p.trim()||void 0};l?await X.patch(`/admin/company-types/${l.id}`,v):await X.post("/admin/company-types",v),i(!1),f()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||v.message||"Failed to save company type")}},S=async u=>{var x,y;if(window.confirm(`Are you sure you want to delete "${u.name}"?`))try{await X.delete(`/admin/company-types/${u.id}`),f()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||v.message||"Failed to delete company type")}},N=async u=>{var x,y;try{await X.patch(`/admin/company-types/${u.id}`,{isActive:!u.isActive}),f()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||v.message||"Failed to toggle active status")}};return e.jsxs("div",{className:"sa-crud-page",children:[e.jsxs("div",{className:"sa-page-header",children:[e.jsx("h1",{children:"Company Types"}),e.jsx("button",{className:"btn-create",onClick:g,children:"+ Create Company Type"})]}),n&&e.jsx("p",{children:"Loading..."}),!n&&t.length===0&&e.jsx("p",{className:"empty-state",children:"No company types found. Create one to get started."}),!n&&t.length>0&&e.jsxs("table",{className:"crud-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:u.name})}),e.jsx("td",{children:u.description||""}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${u.isActive?"active":"inactive"}`,children:u.isActive?"Active":"Inactive"})}),e.jsx("td",{children:new Date(u.createdAt).toLocaleDateString()}),e.jsxs("td",{className:"actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>j(u),children:"Edit"}),e.jsx("button",{className:`btn-toggle ${u.isActive?"deactivate":"activate"}`,onClick:()=>N(u),children:u.isActive?"Deactivate":"Activate"}),e.jsx("button",{className:"btn-delete",onClick:()=>S(u),children:"Delete"})]})]},u.id))})]}),r&&e.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsx("h2",{children:l?"Edit Company Type":"Create Company Type"}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c,onChange:u=>h(u.target.value),placeholder:"e.g. Solar Lighting EPC, SaaS, Manufacturing",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description (optional)"}),e.jsx("textarea",{value:p,onChange:u=>m(u.target.value),placeholder:"Brief description of this company type...",rows:3})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>i(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",children:l?"Update":"Create"})]})]})]})})]})}function qv(){const[t,s]=d.useState([]),[n,a]=d.useState(!0),[r,i]=d.useState(!1),[l,o]=d.useState(null),[c,h]=d.useState(""),[p,m]=d.useState("");d.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const u=await X.get("/admin/job-types");s(u.data||[])}catch(u){console.error("Failed to load job types:",u)}finally{a(!1)}},g=()=>{o(null),h(""),m(""),i(!0)},j=u=>{o(u),h(u.name),m(u.description||""),i(!0)},w=async u=>{var x,y;if(u.preventDefault(),!c.trim()){alert("Name is required");return}try{const v={name:c.trim(),description:p.trim()||void 0};l?await X.patch(`/admin/job-types/${l.id}`,v):await X.post("/admin/job-types",v),i(!1),f()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||v.message||"Failed to save job type")}},S=async u=>{var x,y;if(window.confirm(`Are you sure you want to delete "${u.name}"?`))try{await X.delete(`/admin/job-types/${u.id}`),f()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||v.message||"Failed to delete job type")}},N=async u=>{var x,y;try{await X.patch(`/admin/job-types/${u.id}`,{isActive:!u.isActive}),f()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||v.message||"Failed to toggle active status")}};return e.jsxs("div",{className:"sa-crud-page",children:[e.jsxs("div",{className:"sa-page-header",children:[e.jsx("h1",{children:"Job Types"}),e.jsx("button",{className:"btn-create",onClick:g,children:"+ Create Job Type"})]}),n&&e.jsx("p",{children:"Loading..."}),!n&&t.length===0&&e.jsx("p",{className:"empty-state",children:"No job types found. Create one to get started."}),!n&&t.length>0&&e.jsxs("table",{className:"crud-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:u.name})}),e.jsx("td",{children:u.description||""}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${u.isActive?"active":"inactive"}`,children:u.isActive?"Active":"Inactive"})}),e.jsx("td",{children:new Date(u.createdAt).toLocaleDateString()}),e.jsxs("td",{className:"actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>j(u),children:"Edit"}),e.jsx("button",{className:`btn-toggle ${u.isActive?"deactivate":"activate"}`,onClick:()=>N(u),children:u.isActive?"Deactivate":"Activate"}),e.jsx("button",{className:"btn-delete",onClick:()=>S(u),children:"Delete"})]})]},u.id))})]}),r&&e.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsx("h2",{children:l?"Edit Job Type":"Create Job Type"}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c,onChange:u=>h(u.target.value),placeholder:"e.g. CEO, Project Manager, Engineering Manager",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description (optional)"}),e.jsx("textarea",{value:p,onChange:u=>m(u.target.value),placeholder:"Brief description of this job type...",rows:3})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>i(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",children:l?"Update":"Create"})]})]})]})})]})}const Nn="/api/pricing";async function Mv(){try{const t=await fetch(`${Nn}/rules`);return t.ok?await t.json():[]}catch{return[]}}async function Bv(){try{const t=await fetch(`${Nn}/worker-bonuses`);return t.ok?await t.json():[]}catch{return[]}}async function zv(){try{const t=await fetch(`${Nn}/top-bonus-rules`);return t.ok?await t.json():[]}catch{return[]}}async function $v(){try{const t=await fetch(`${Nn}/overview`);return t.ok?await t.json():[]}catch{return[]}}async function Wv(){try{const t=await fetch(`${Nn}/records`);return t.ok?await t.json():[]}catch{return[]}}async function Vv(t){try{const s=await fetch(`${Nn}/top-workers?role=${encodeURIComponent(t)}`);return s.ok?await s.json():[]}catch{return[]}}const Os=["Website Researcher","LinkedIn Researcher","Website Inquirer","LinkedIn Inquirer","Website Inquirer Auditor","LinkedIn Inquirer Auditor","Website Research Auditor","LinkedIn Research Auditor"],Hv=()=>{const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState([]),[l,o]=d.useState([]),[c,h]=d.useState([]),[p,m]=d.useState({"Website Researcher":[],"LinkedIn Researcher":[],"Website Inquirer":[],"LinkedIn Inquirer":[],"Website Inquirer Auditor":[],"LinkedIn Inquirer Auditor":[],"Website Research Auditor":[],"LinkedIn Research Auditor":[]}),[f,g]=d.useState(!0),[j,w]=d.useState(""),[S,N]=d.useState(""),[u,x]=d.useState(""),[y,v]=d.useState(""),[T,U]=d.useState(""),[q,D]=d.useState(null),[M,z]=d.useState(!1);d.useEffect(()=>{g(!0),Promise.all([Mv(),Bv(),zv(),$v(),Wv(),...Os.map(F=>Vv(F))]).then(([F,Q,$,b,B,...K])=>{s(F),a(Q),i($),o(b),h(B);const V={"Website Researcher":[],"LinkedIn Researcher":[],"Website Inquirer":[],"LinkedIn Inquirer":[],"Website Inquirer Auditor":[],"LinkedIn Inquirer Auditor":[],"Website Research Auditor":[],"LinkedIn Research Auditor":[]};Os.forEach((te,xe)=>{V[te]=K[xe]}),m(V),g(!1)})},[]);const L=t.filter(F=>{if(S&&F.role!==S||u&&F.category!==u||T&&F.status!==T)return!1;if(j){const Q=j.toLowerCase();if(!F.actionType.toLowerCase().includes(Q)&&!F.role.toLowerCase().includes(Q)&&!F.category.toLowerCase().includes(Q))return!1}return!0}),C=l.filter(F=>!(S&&F.role!==S||u&&F.category!==u||y&&!F.name.toLowerCase().includes(y.toLowerCase()))),E=l.reduce((F,Q)=>F+Q.pending,0),A=l.reduce((F,Q)=>F+Q.totalPaid,0),R=l.reduce((F,Q)=>F+Q.totalEarned-Q.totalPaid,0),P=F=>D(F),O=async F=>{s(Q=>Q.filter($=>$.id!==F))},k=async(F,Q)=>{s($=>$.map(b=>b.id===F?{...b,status:Q}:b))},_=async F=>{s(Q=>Q.map($=>$.id===F.id?F:$)),D(null)},I=async F=>{s(Q=>[...Q,F]),z(!1)};return f?e.jsx("div",{className:"page-loader",children:"Loading Pricing & Payments..."}):e.jsxs("div",{className:"categories-container",children:[e.jsxs("header",{className:"categories-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"Pricing & Payment Configuration"}),e.jsx("p",{children:"Manage action-based pricing, bonuses, and payment lifecycle for all roles and categories."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-export",onClick:()=>alert("Export coming soon!"),children:"Export Payments"}),e.jsx("button",{className:"btn-add-category",onClick:()=>z(!0),children:"+ Add Pricing Rule"})]})]}),e.jsxs("section",{className:"categories-stats-grid",children:[e.jsx(ie,{title:"Total Pending Payments",value:E.toFixed(2)}),e.jsx(ie,{title:"Total Paid",value:A.toFixed(2)}),e.jsx(ie,{title:"Outstanding Balance",value:R.toFixed(2)})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by action, role, category...",value:j,onChange:F=>w(F.target.value)})}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("select",{value:S,onChange:F=>N(F.target.value),children:[e.jsx("option",{value:"",children:"All Roles"}),Os.map(F=>e.jsx("option",{value:F,children:F},F))]}),e.jsx("input",{type:"text",placeholder:"Category",value:u,onChange:F=>x(F.target.value)}),e.jsx("input",{type:"text",placeholder:"Worker",value:y,onChange:F=>v(F.target.value)}),e.jsxs("select",{value:T,onChange:F=>U(F.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsx("button",{className:"btn-clear",onClick:()=>{w(""),N(""),x(""),v(""),U("")},children:"Clear"})]})]}),e.jsxs("div",{className:"categories-card",children:[e.jsx("h3",{children:"Pricing Rules"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Action"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Bonus"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Effective Date"}),e.jsx("th",{className:"txt-right",children:"Actions"})]})}),e.jsx("tbody",{children:L.map(F=>e.jsxs("tr",{children:[e.jsx("td",{children:F.actionType}),e.jsx("td",{children:e.jsx("span",{className:"category-tag",children:F.role})}),e.jsx("td",{children:F.category}),e.jsx("td",{children:e.jsxs("span",{className:"price-badge",children:["$",F.unitPrice.toFixed(2)]})}),e.jsx("td",{children:e.jsxs("span",{className:"bonus-badge",children:["+$",F.bonus.toFixed(2)]})}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${F.status}`,children:F.status==="active"?"Active":"Inactive"})}),e.jsx("td",{children:F.effectiveDate?new Date(F.effectiveDate).toLocaleDateString():"-"}),e.jsxs("td",{className:"txt-right",children:[e.jsx("button",{className:"btn-icon-act edit",onClick:()=>P(F),children:"Edit"}),e.jsx("button",{className:"btn-icon-act delete",onClick:()=>O(F.id),children:"Delete"}),e.jsx("button",{className:"btn-icon-act",onClick:()=>k(F.id,F.status==="active"?"inactive":"active"),children:F.status==="active"?"Disable":"Enable"})]})]},F.id))})]})})]}),e.jsxs("div",{className:"categories-card",children:[e.jsx("h3",{children:"Bonus Management"}),e.jsxs("div",{children:[e.jsx("h4",{children:"Worker-Specific Bonuses"}),e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Worker"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Bonus"}),e.jsx("th",{children:"Expires At"})]})}),e.jsx("tbody",{children:n.map(F=>e.jsxs("tr",{children:[e.jsx("td",{children:F.workerId}),e.jsx("td",{children:F.role}),e.jsx("td",{children:e.jsxs("span",{className:"bonus-badge",children:["+$",F.bonus.toFixed(2)]})}),e.jsx("td",{children:F.expiresAt?new Date(F.expiresAt).toLocaleDateString():"-"})]},F.id))})]})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx("h4",{children:"Top-3 Bonus per Role"}),Os.map(F=>e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("h5",{children:[F," Top 3"]}),e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rank"}),e.jsx("th",{children:"Worker"}),e.jsx("th",{children:"Approved Actions"}),e.jsx("th",{children:"Approval Rate"}),e.jsx("th",{children:"Bonus"})]})}),e.jsx("tbody",{children:(p[F]||[]).map(Q=>{var $;return e.jsxs("tr",{children:[e.jsx("td",{children:Q.rank}),e.jsx("td",{children:Q.name}),e.jsx("td",{children:Q.approvedActions}),e.jsxs("td",{children:[(Q.approvalRate*100).toFixed(1),"%"]}),e.jsx("td",{children:e.jsxs("span",{className:"bonus-badge",children:["+$",((($=r.find(b=>b.role===F&&b.rank===Q.rank))==null?void 0:$.bonus)??0).toFixed(2)]})})]},Q.workerId)})})]})]},F))]})]}),e.jsxs("div",{className:"categories-card",children:[e.jsx("h3",{children:"Payment Overview"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Worker"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Total Earned"}),e.jsx("th",{children:"Total Paid"}),e.jsx("th",{children:"Pending"})]})}),e.jsx("tbody",{children:C.map(F=>e.jsxs("tr",{children:[e.jsx("td",{children:F.name}),e.jsx("td",{children:F.role}),e.jsx("td",{children:F.category}),e.jsxs("td",{children:["$",F.totalEarned.toFixed(2)]}),e.jsxs("td",{children:["$",F.totalPaid.toFixed(2)]}),e.jsxs("td",{children:["$",F.pending.toFixed(2)]})]},F.workerId+F.role+F.category))})]})})]}),e.jsxs("div",{className:"categories-card",children:[e.jsx("h3",{children:"Payment History"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Worker"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Payment Date"}),e.jsx("th",{children:"Notes"})]})}),e.jsx("tbody",{children:c.map(F=>e.jsxs("tr",{children:[e.jsx("td",{children:F.workerId}),e.jsx("td",{children:F.role}),e.jsx("td",{children:F.category}),e.jsxs("td",{children:[new Date(F.periodStart).toLocaleDateString()," - ",new Date(F.periodEnd).toLocaleDateString()]}),e.jsxs("td",{children:["$",F.amount.toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${F.status==="paid"?"active":"inactive"}`,children:F.status.charAt(0).toUpperCase()+F.status.slice(1)})}),e.jsx("td",{children:F.paymentDate?new Date(F.paymentDate).toLocaleDateString():"-"}),e.jsx("td",{children:F.notes||"-"})]},F.id))})]})})]}),(M||q)&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",style:{maxWidth:600},children:[e.jsx("h2",{children:q?"Edit Pricing Rule":"Create Pricing Rule"}),e.jsxs("form",{onSubmit:F=>{F.preventDefault();const Q=new FormData(F.currentTarget),$={id:q?q.id:Date.now().toString(),actionType:Q.get("actionType"),role:Q.get("role"),category:Q.get("category"),unitPrice:Number(Q.get("unitPrice")),bonus:Number(Q.get("bonus")),status:Q.get("status"),effectiveDate:Q.get("effectiveDate")};q?_($):I($)},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Action Type"}),e.jsx("input",{name:"actionType",defaultValue:(q==null?void 0:q.actionType)||"",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsx("select",{name:"role",defaultValue:(q==null?void 0:q.role)||Os[0],children:Os.map(F=>e.jsx("option",{value:F,children:F},F))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsx("input",{name:"category",defaultValue:(q==null?void 0:q.category)||"",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Unit Price (USD)"}),e.jsx("input",{type:"number",name:"unitPrice",min:0,step:.01,defaultValue:(q==null?void 0:q.unitPrice)||0,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bonus (USD)"}),e.jsx("input",{type:"number",name:"bonus",min:0,step:.01,defaultValue:(q==null?void 0:q.bonus)||0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",defaultValue:(q==null?void 0:q.status)||"active",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Effective Date"}),e.jsx("input",{type:"date",name:"effectiveDate",defaultValue:q!=null&&q.effectiveDate?q.effectiveDate.slice(0,10):""})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",onClick:()=>{D(null),z(!1)},children:"Cancel"}),e.jsx("button",{type:"submit",children:q?"Save":"Create"})]})]})]})})]})},Gv="/api/admin";async function Qv(){try{const t=await fetch(`${Gv}/top-workers`);if(!t.ok)return[];const s=await t.json();return Array.isArray(s)?s.map((n,a)=>{var r,i,l;return{id:`PERF-${String(a+1).padStart(3,"0")}`,role:(r=n.role)!=null&&r.includes("Researcher")?"Researcher":(i=n.role)!=null&&i.includes("Inquirer")?"Inquirer":(l=n.role)!=null&&l.includes("Auditor")?"Auditor":"Reviewer",category:n.category||"General",tasksCompleted:n.approvedActions||0,successRate:Math.round((n.approvalRate||0)*100),avgTimeMinutes:n.avgTimeMinutes||0,earningsUSD:n.totalEarned||0,status:n.status==="active"?"Active":"Inactive"}}):[]}catch(t){return console.error("Failed to fetch role performance:",t),[]}}function Jv(){const[t,s]=d.useState(""),[n,a]=d.useState([]),[r,i]=d.useState(!0),[l,o]=d.useState(""),[c,h]=d.useState("");d.useEffect(()=>{i(!0),Qv().then(w=>{a(w),i(!1)})},[]);const p=n.filter(w=>{if(l&&w.role!==l||c&&w.category!==c)return!1;if(t){const S=t.toLowerCase();if(!w.role.toLowerCase().includes(S)&&!w.category.toLowerCase().includes(S)&&!w.id.toLowerCase().includes(S))return!1}return!0}),m=p.reduce((w,S)=>w+S.tasksCompleted,0),f=p.length>0?p.reduce((w,S)=>w+S.successRate,0)/p.length:0,g=Array.from(new Set(n.map(w=>w.role))),j=Array.from(new Set(n.map(w=>w.category)));return e.jsxs("div",{className:"categories-container",children:[e.jsxs("header",{className:"categories-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"Role Performance"}),e.jsx("p",{children:"Operational analytics by role and category across all workers."})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-export",onClick:()=>{const w=[["Role","Category","Tasks Completed","Success Rate (%)","Avg Time (min)","Earnings ($)","Status"].join(","),...p.map(x=>[x.role,x.category,x.tasksCompleted,x.successRate,x.avgTimeMinutes.toFixed(1),x.earningsUSD.toFixed(2),x.status].join(","))].join(`
`),S=new Blob([w],{type:"text/csv"}),N=URL.createObjectURL(S),u=document.createElement("a");u.href=N,u.download=`role-performance-${new Date().toISOString().slice(0,10)}.csv`,u.click(),URL.revokeObjectURL(N)},children:"Export Metrics"})})]}),e.jsxs("section",{className:"categories-stats-grid",children:[e.jsx(ie,{title:"Total Tasks",value:m}),e.jsx(ie,{title:"Avg Success Rate",value:`${f.toFixed(1)}%`}),e.jsx(ie,{title:"Active Roles",value:n.filter(w=>w.status==="Active").length}),e.jsx(ie,{title:"Total Earnings ($)",value:`$${p.reduce((w,S)=>w+S.earningsUSD,0).toFixed(2)}`})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by role, category or ID...",value:t,onChange:w=>s(w.target.value)})}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("select",{value:l,onChange:w=>o(w.target.value),children:[e.jsx("option",{value:"",children:"Role: All"}),g.map(w=>e.jsx("option",{value:w,children:w},w))]}),e.jsxs("select",{value:c,onChange:w=>h(w.target.value),children:[e.jsx("option",{value:"",children:"Category: All"}),j.map(w=>e.jsx("option",{value:w,children:w},w))]}),e.jsx("button",{className:"btn-clear",onClick:()=>{s(""),o(""),h("")},children:"Clear"})]})]}),e.jsx("div",{className:"categories-card",children:e.jsx("div",{className:"table-responsive",children:r?e.jsx("div",{style:{padding:20,textAlign:"center"},children:"Loading performance data..."}):p.length===0?e.jsx("div",{style:{padding:20,textAlign:"center"},children:"No data found"}):e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Role / Category"}),e.jsx("th",{className:"txt-center",children:"Tasks"}),e.jsx("th",{className:"txt-center",children:"Success"}),e.jsx("th",{className:"txt-center",children:"Avg Time"}),e.jsx("th",{className:"txt-center",children:"Earnings"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:p.map(w=>e.jsxs("tr",{className:"cat-row",children:[e.jsx("td",{children:e.jsxs("div",{className:"cat-info-cell",children:[e.jsx("span",{className:"cat-id",children:w.id}),e.jsx("strong",{className:"cat-name",children:w.role}),e.jsx("span",{className:"perf-category",children:w.category})]})}),e.jsx("td",{className:"txt-center",children:e.jsx("span",{className:"count-badge",children:w.tasksCompleted})}),e.jsx("td",{className:"txt-center",children:e.jsxs("span",{className:"success-rate",children:[w.successRate,"%"]})}),e.jsx("td",{className:"txt-center",children:e.jsxs("span",{className:"avg-time",children:[w.avgTimeMinutes.toFixed(1)," min"]})}),e.jsx("td",{className:"txt-center",children:e.jsxs("span",{className:"earnings",children:["$",w.earningsUSD.toFixed(2)]})}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${w.status.toLowerCase()}`,children:w.status})})]},w.id))})]})})})]})}const Kv=[10,25,50,100];function Yv(){const[t,s]=d.useState([]),[n,a]=d.useState(0),[r,i]=d.useState(!0),[l,o]=d.useState({search:"",dateFrom:"",dateTo:"",role:"",actionType:"",entityType:"",severity:"",requiresAttention:"",category:"",page:1,pageSize:25}),[c,h]=d.useState(null);d.useEffect(()=>{i(!0);const g=new URLSearchParams;l.search&&g.append("search",l.search),l.dateFrom&&g.append("dateFrom",l.dateFrom),l.dateTo&&g.append("dateTo",l.dateTo),l.role&&g.append("role",l.role),l.actionType&&g.append("actionType",l.actionType),l.entityType&&g.append("entityType",l.entityType),l.severity&&g.append("severity",l.severity),l.requiresAttention&&g.append("requiresAttention",l.requiresAttention),l.category&&g.append("category",l.category),g.append("page",l.page.toString()),g.append("pageSize",l.pageSize.toString()),fetch(`/api/admin/system-logs?${g.toString()}`).then(j=>j.json()).then(j=>{s(j.logs||[]),a(j.total||0),i(!1)})},[JSON.stringify(l)]);const p=["INFO","WARNING","CRITICAL"],m=["USER","TASK","ACTION","INQUIRY","CATEGORY","ROLE","PRICING","PAYMENT","NOTICE","SYSTEM"],f=Math.ceil(n/l.pageSize);return e.jsxs("div",{className:"categories-container",children:[e.jsx("header",{className:"categories-header",children:e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"System Logs"}),e.jsx("p",{children:"All system changes, approvals, and critical events are recorded here for audit and traceability."})]})}),e.jsxs("div",{className:"logs-filter-bar",children:[e.jsx("input",{type:"text",placeholder:"Search event, actor, entity...",value:l.search,onChange:g=>o(j=>({...j,search:g.target.value,page:1}))}),e.jsxs("div",{className:"logs-filters",children:[e.jsxs("select",{value:l.entityType,onChange:g=>o(j=>({...j,entityType:g.target.value,page:1})),children:[e.jsx("option",{value:"",children:"All Entities"}),m.map(g=>e.jsx("option",{value:g,children:g},g))]}),e.jsxs("select",{value:l.severity,onChange:g=>o(j=>({...j,severity:g.target.value,page:1})),children:[e.jsx("option",{value:"",children:"All Severity"}),p.map(g=>e.jsx("option",{value:g,children:g},g))]}),e.jsxs("select",{value:l.role,onChange:g=>o(j=>({...j,role:g.target.value,page:1})),children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"Super Admin",children:"Super Admin"}),e.jsx("option",{value:"Sub Admin",children:"Sub Admin"}),e.jsx("option",{value:"Website Researcher",children:"Website Researcher"}),e.jsx("option",{value:"LinkedIn Researcher",children:"LinkedIn Researcher"}),e.jsx("option",{value:"Website Inquirer",children:"Website Inquirer"}),e.jsx("option",{value:"LinkedIn Inquirer",children:"LinkedIn Inquirer"}),e.jsx("option",{value:"Website Reviewer",children:"Website Reviewer"}),e.jsx("option",{value:"LinkedIn Reviewer",children:"LinkedIn Reviewer"})]}),e.jsxs("select",{value:l.actionType,onChange:g=>o(j=>({...j,actionType:g.target.value,page:1})),children:[e.jsx("option",{value:"",children:"All Actions"}),e.jsx("option",{value:"CREATE",children:"CREATE"}),e.jsx("option",{value:"UPDATE",children:"UPDATE"}),e.jsx("option",{value:"DELETE",children:"DELETE"}),e.jsx("option",{value:"APPROVE",children:"APPROVE"}),e.jsx("option",{value:"REJECT",children:"REJECT"}),e.jsx("option",{value:"FLAG",children:"FLAG"})]}),e.jsxs("select",{value:l.requiresAttention,onChange:g=>o(j=>({...j,requiresAttention:g.target.value,page:1})),children:[e.jsx("option",{value:"",children:"Attention?"}),e.jsx("option",{value:"true",children:"Yes"}),e.jsx("option",{value:"false",children:"No"})]}),e.jsx("input",{type:"date",value:l.dateFrom,onChange:g=>o(j=>({...j,dateFrom:g.target.value,page:1})),style:{width:120}}),e.jsx("input",{type:"date",value:l.dateTo,onChange:g=>o(j=>({...j,dateTo:g.target.value,page:1})),style:{width:120}}),e.jsx("input",{type:"text",placeholder:"Category",value:l.category,onChange:g=>o(j=>({...j,category:g.target.value,page:1})),style:{width:120}}),e.jsx("select",{value:l.pageSize,onChange:g=>o(j=>({...j,pageSize:Number(g.target.value),page:1})),children:Kv.map(g=>e.jsxs("option",{value:g,children:[g,"/page"]},g))})]}),e.jsx("button",{className:"btn-clear",onClick:()=>o({search:"",dateFrom:"",dateTo:"",role:"",actionType:"",entityType:"",severity:"",requiresAttention:"",category:"",page:1,pageSize:25}),children:"Clear"})]}),e.jsxs("div",{className:"categories-card",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table activity-feed extended",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Severity"}),e.jsx("th",{children:"Event"}),e.jsx("th",{children:"Entity"}),e.jsx("th",{children:"Actor"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Attention"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:r?e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:"Loading..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:"No logs found."})}):t.map(g=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(g.createdAt).toLocaleString()}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${g.severity.toLowerCase()}`,children:g.severity})}),e.jsxs("td",{children:[e.jsx("b",{children:g.actionType}),e.jsx("br",{}),e.jsx("span",{style:{fontSize:12},children:g.shortDescription})]}),e.jsxs("td",{children:[e.jsx("span",{className:"category-tag",children:g.entityType}),e.jsx("br",{}),e.jsx("span",{style:{fontSize:12},children:g.entityId||"-"})]}),e.jsxs("td",{children:[e.jsx("span",{children:g.actorName}),e.jsx("br",{}),e.jsx("span",{style:{fontSize:12,color:"#64748b"},children:g.actorRole})]}),e.jsx("td",{children:g.categoryId||"-"}),e.jsx("td",{children:g.requiresAttention?e.jsx("span",{className:"status-pill warning",children:"Yes"}):e.jsx("span",{className:"status-pill",children:"No"})}),e.jsx("td",{children:e.jsx("button",{className:"btn-icon-act",onClick:()=>h(g),children:"View details"})})]},g.id))})]})}),e.jsxs("div",{style:{marginTop:16,display:"flex",justifyContent:"flex-end",gap:8},children:[e.jsx("button",{disabled:l.page===1,onClick:()=>o(g=>({...g,page:g.page-1})),children:"Prev"}),e.jsxs("span",{children:["Page ",l.page," / ",f||1]}),e.jsx("button",{disabled:l.page===f||f===0,onClick:()=>o(g=>({...g,page:g.page+1})),children:"Next"})]})]}),c&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",style:{maxWidth:700},children:[e.jsx("h2",{children:"Log Details"}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("b",{children:c.actionType}),"  ",c.shortDescription]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("b",{children:"Actor:"})," ",c.actorName," (",c.actorRole,")",e.jsx("br",{}),e.jsx("b",{children:"Entity:"})," ",c.entityType," ",c.entityId?`(${c.entityId})`:"",e.jsx("br",{}),e.jsx("b",{children:"Category:"})," ",c.categoryId||"-",e.jsx("br",{}),e.jsx("b",{children:"Severity:"})," ",e.jsx("span",{className:`status-pill ${c.severity.toLowerCase()}`,children:c.severity}),e.jsx("br",{}),e.jsx("b",{children:"Requires Attention:"})," ",c.requiresAttention?"Yes":"No",e.jsx("br",{}),e.jsx("b",{children:"Timestamp:"})," ",new Date(c.createdAt).toLocaleString()]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("b",{children:"Before State:"}),e.jsx("pre",{style:{background:"#f3f4f6",padding:8,borderRadius:6,maxHeight:180,overflow:"auto"},children:c.beforeState?JSON.stringify(c.beforeState,null,2):"-"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("b",{children:"After State:"}),e.jsx("pre",{style:{background:"#f3f4f6",padding:8,borderRadius:6,maxHeight:180,overflow:"auto"},children:c.afterState?JSON.stringify(c.afterState,null,2):"-"})]}),e.jsx("div",{style:{marginTop:16,display:"flex",gap:12,justifyContent:"flex-end"},children:e.jsx("button",{type:"button",onClick:()=>h(null),children:"Close"})})]})})]})}function Xv(){const[t,s]=d.useState([]),[n,a]=d.useState([]),[r,i]=d.useState([]),[l,o]=d.useState(null),[c,h]=d.useState([]),[p,m]=d.useState(!1),[f,g]=d.useState(!1),[j,w]=d.useState("");d.useEffect(()=>{S()},[]),d.useEffect(()=>{const v=j.toLowerCase(),T=t.filter(U=>U.name.toLowerCase().includes(v)||U.email.toLowerCase().includes(v));a(T)},[j,t]);const S=async()=>{m(!0);try{const[v,T]=await Promise.all([_o({limit:1e3}),ja()]),U=(v==null?void 0:v.users)||v||[];s(U),a(U),i(Array.isArray(T)?T:(T==null?void 0:T.categories)||[])}catch(v){console.error("Failed to load data:",v)}finally{m(!1)}},N=async v=>{if(v.role!=="super_admin"){o(v),m(!0);try{const T=await Cy(v.id);h(T.map(U=>U.id))}catch(T){console.error("Failed to load user categories:",T),h([])}finally{m(!1)}}},u=v=>{h(T=>T.includes(v)?T.filter(U=>U!==v):[...T,v])},x=async()=>{var v,T;if(!l||c.length===0){alert("Please select at least one category");return}g(!0);try{await Sy(l.id,c),alert("Categories assigned successfully!")}catch(U){alert(((T=(v=U.response)==null?void 0:v.data)==null?void 0:T.message)||"Failed to assign categories")}finally{g(!1)}},y=(l==null?void 0:l.role)==="super_admin";return p&&t.length===0?e.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Loading..."}):e.jsxs("div",{style:{padding:"40px",background:"#f8fafc",minHeight:"100vh",fontFamily:"Inter, sans-serif"},children:[e.jsx("h1",{style:{fontSize:"28px",fontWeight:"800",marginBottom:"30px"},children:"Worker Category Assignment"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"350px 1fr",gap:"30px"},children:[e.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"20px",border:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{marginTop:0,marginBottom:"15px",fontSize:"16px"},children:"Select User"}),e.jsx("input",{type:"text",placeholder:"Search by name or email...",value:j,onChange:v=>w(v.target.value),style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}),e.jsx("div",{style:{maxHeight:"600px",overflowY:"auto"},children:n.length===0?e.jsx("div",{style:{textAlign:"center",color:"#94a3b8",padding:"20px"},children:"No users found"}):n.map(v=>e.jsxs("div",{onClick:()=>N(v),style:{padding:"12px",borderRadius:"8px",marginBottom:"8px",cursor:v.role==="super_admin"?"not-allowed":"pointer",background:(l==null?void 0:l.id)===v.id?"#eff6ff":"#f8fafc",border:(l==null?void 0:l.id)===v.id?"2px solid #3b82f6":"1px solid #e2e8f0",opacity:v.role==="super_admin"?.6:1},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"14px"},children:v.name}),e.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:v.email}),e.jsx("div",{style:{fontSize:"11px",color:"#3b82f6",marginTop:"4px"},children:v.role})]},v.id))})]}),e.jsx("div",{style:{background:"white",borderRadius:"16px",padding:"30px",border:"1px solid #e2e8f0"},children:l?y?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:"20px",background:"#fee2e2",borderRadius:"12px",border:"2px solid #fca5a5",marginBottom:"20px"},children:[e.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#dc2626",marginBottom:"8px"},children:" Super Admin users cannot be assigned to categories"}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:"#991b1b"},children:"Super Admins have access to all categories and tasks by default. Category assignment is only for workers (researchers, inquirers, auditors, etc.)."})]}),e.jsx("button",{disabled:!0,style:{padding:"15px 30px",background:"#d1d5db",color:"#6b7280",border:"none",borderRadius:"12px",fontWeight:"700",fontSize:"14px",cursor:"not-allowed",width:"100%"},children:"Save Category Assignment (Disabled for Super Admin)"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"30px"},children:[e.jsxs("h2",{style:{margin:0,fontSize:"20px"},children:["Assign Categories to: ",e.jsx("span",{style:{color:"#3b82f6"},children:l.name})]}),e.jsxs("p",{style:{color:"#64748b",fontSize:"14px",marginTop:"5px"},children:["Role: ",l.role]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"30px"},children:r.map(v=>e.jsxs("div",{onClick:()=>u(v.id),style:{padding:"15px",borderRadius:"12px",cursor:"pointer",background:c.includes(v.id)?"#3b82f6":"#f8fafc",color:c.includes(v.id)?"white":"#1e293b",border:c.includes(v.id)?"2px solid #2563eb":"1px solid #e2e8f0",fontWeight:"600",fontSize:"14px",transition:"all 0.2s"},children:[c.includes(v.id)&&e.jsx("span",{style:{marginRight:"8px"},children:""}),v.name]},v.id))}),e.jsxs("div",{style:{padding:"20px",background:"#eff6ff",borderRadius:"12px",marginBottom:"20px"},children:[e.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"8px"},children:["Selected Categories: ",c.length]}),c.length===0&&e.jsx("div",{style:{fontSize:"12px",color:"#ef4444"},children:" User must have at least one category to see any tasks!"})]}),e.jsx("button",{onClick:x,disabled:f||c.length===0,style:{padding:"15px 30px",background:c.length>0?"#3b82f6":"#94a3b8",color:"white",border:"none",borderRadius:"12px",fontWeight:"700",fontSize:"14px",cursor:c.length>0?"pointer":"not-allowed",width:"100%"},children:f?"Saving...":"Save Category Assignment"})]}):e.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#94a3b8"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"15px"},children:""}),e.jsx("p",{children:"Select a user to assign categories"})]})})]})]})}const Ge={getMyCategories:async()=>(await X.get("/users/me/categories")).data,getWebsiteTasks:async t=>{const s=t?{categoryId:t}:{};return(await X.get("/research/tasks/website",{params:s})).data},getLinkedInTasks:async t=>{const s=t?{categoryId:t}:{};return(await X.get("/research/tasks/linkedin",{params:s})).data},claimTask:async t=>(await X.post(`/research/tasks/${t}/claim`)).data,submitTask:async t=>(await X.post("/research/tasks/submit",t)).data,submitLinkedinTask:async t=>(await X.post("/research/tasks/submit",t)).data,checkDuplicate:async(t,s)=>{var n;try{return await X.post("/research",{targetType:"COMPANY",categoryId:s,nameOrUrl:t,domainOrProfile:t,country:"US"}),!1}catch(a){if(((n=a.response)==null?void 0:n.status)===409)return!0;throw a}}};function js(){return gs()}function Zv(){const{user:t}=js(),[s,n]=d.useState([]),[a,r]=d.useState(null),[i,l]=d.useState(!1),[o,c]=d.useState(null),[h,p]=d.useState(""),[m,f]=d.useState(!1),[g,j]=d.useState([]),[w,S]=d.useState(""),[N,u]=d.useState(!0),[x,y]=d.useState(!1),[v,T]=d.useState({companyName:"",country:"",language:""});d.useEffect(()=>{U()},[t==null?void 0:t.id]),d.useEffect(()=>{w&&q()},[w]);const U=async()=>{if(t!=null&&t.id)try{u(!0);const R=await Ge.getMyCategories();console.log("Raw categories from API:",R),console.log("Category count:",R==null?void 0:R.length),R&&R.length>0&&(console.log("First category ID:",R[0].id),console.log("All category IDs:",R.map(O=>O.id)));const P=R&&R.length>0?Array.from(new Map(R.map(O=>[O.id,O])).values()):[];console.log("After deduplication:",P.length,"unique categories"),j(P),P&&P.length===1?S(P[0].id):P&&P.length>1&&S("")}catch(R){console.error("Failed to load categories:",R),c("Failed to load your assigned categories")}finally{u(!1)}};d.useEffect(()=>{w&&q()},[w]);const q=async()=>{var R,P;try{l(!0),c(null);const O=await Ge.getWebsiteTasks(w||void 0);console.log("Loaded tasks for category:",w,"Count:",O==null?void 0:O.length),n(O||[]),r(null),T({companyName:"",country:"",language:""})}catch(O){c(((P=(R=O.response)==null?void 0:R.data)==null?void 0:P.message)||"Failed to load tasks"),console.error("Error loading tasks:",O)}finally{l(!1)}},D=R=>{r(R),R.status==="in_progress"?T({companyName:R.name||"",country:R.country||"",language:""}):T({companyName:"",country:"",language:""}),y(!1)},M=async()=>{var R,P,O;if(a)try{l(!0),console.log("[CLAIM] Claiming task:",a.id);const k=await Ge.claimTask(a.id);if(console.log("[CLAIM] Claim response:",k),console.log("[CLAIM] Response assignedToUserId:",k==null?void 0:k.assignedToUserId),!k)throw new Error("No response from claim endpoint");const _=s.map(F=>F.id===a.id?{...F,status:"in_progress",assignedToUserId:(t==null?void 0:t.id)||null}:F);n(_);const I={...a,status:"in_progress",assignedToUserId:(t==null?void 0:t.id)||null};r(I),console.log("[CLAIM] Task successfully claimed and updated in state"),T({companyName:a.name||"",country:a.country||"",language:""})}catch(k){console.error("[CLAIM] Error claiming task:",k),console.error("[CLAIM] Error response:",(R=k.response)==null?void 0:R.data),alert(((O=(P=k.response)==null?void 0:P.data)==null?void 0:O.message)||"Failed to claim task")}finally{l(!1)}},z=async()=>{var R,P,O;if(a){if(a.status!=="in_progress"){alert("Please claim this task before submitting");return}if(!v.companyName||!v.companyName.trim()){alert("Please provide the company name");return}if(!v.country||!v.country.trim()){alert("Please provide the country");return}if(!v.language||!v.language.trim()){alert("Please provide the website language");return}try{f(!0);const k={taskId:a.id,language:v.language.trim(),companyName:v.companyName.trim(),country:v.country.trim()};console.log("[SUBMIT] Submitting task:",a.id),console.log("[SUBMIT] Payload:",k),console.log("[SUBMIT] Active task status:",a.status),await Ge.submitTask(k),console.log("[SUBMIT] Task submitted successfully");const _={...a,status:"submitted",name:v.companyName,country:v.country},I=s.map(F=>F.id===a.id?_:F);n(I),r(_),y(!0)}catch(k){console.error("[SUBMIT] Submit error:",k),console.error("[SUBMIT] Error response:",(R=k.response)==null?void 0:R.data),alert(((O=(P=k.response)==null?void 0:P.data)==null?void 0:O.message)||"Failed to submit research")}finally{f(!1)}}},L=s.filter(R=>R.domain.toLowerCase().includes(h.toLowerCase())),C=s.filter(R=>R.status==="in_progress").length,E=s.filter(R=>R.status==="submitted").length,A=R=>R.status==="submitted"?"#22c55e":R.assignedToUserId&&(t==null?void 0:t.id)&&R.assignedToUserId===t.id?"#eab308":"#ef4444";return e.jsxs("div",{className:"wb-res-tasks-container",children:[e.jsxs("header",{className:"wb-res-header",children:[e.jsxs("div",{className:"wb-res-title",children:[e.jsx("h1",{children:"Website Intelligence Terminal"}),e.jsx("p",{children:"Analyze assigned domains and extract validated corporate intelligence."})]}),e.jsxs("div",{className:"wb-res-stats",children:[e.jsxs("div",{className:"res-stat-item",children:["Active Tasks: ",C]}),e.jsxs("div",{className:"res-stat-item",children:["Daily Progress: ",E]})]})]}),o&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:o}),N&&e.jsx("div",{style:{background:"#f0f9ff",padding:"20px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:"Loading your assigned categories..."}),!N&&g.length===0&&e.jsxs("div",{style:{background:"#fee2e2",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fca5a5"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#dc2626"},children:" No Categories Assigned"}),e.jsx("p",{style:{margin:0,color:"#991b1b"},children:"You are not assigned to any category. Please contact an administrator to assign you to categories before you can access research tasks."})]}),!N&&g.length>0&&g.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:w,onChange:R=>S(R.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),g.map(R=>e.jsx("option",{value:R.id,children:R.name},R.id))]})]}),!N&&g.length>0&&!w&&g.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view available tasks."})}),o&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:o}),g.length>0&&w&&e.jsxs("div",{className:"wb-res-main",children:[e.jsxs("aside",{className:"wb-res-list",children:[e.jsx("div",{className:"list-search",children:e.jsx("input",{type:"text",placeholder:"Search domain...",value:h,onChange:R=>p(R.target.value)})}),i&&s.length===0&&e.jsx("div",{className:"empty-list",children:e.jsx("p",{children:"Loading tasks..."})}),!i&&L.length===0&&e.jsx("div",{className:"empty-list",children:e.jsx("p",{children:"No tasks available."})}),L.map(R=>e.jsxs("div",{className:`target-card ${(a==null?void 0:a.id)===R.id?"active":""}`,onClick:()=>D(R),children:[e.jsx("div",{className:"priority-line",style:{backgroundColor:A(R),height:"4px"}}),e.jsxs("div",{className:"target-card-info",children:[e.jsx("h4",{children:R.domain}),e.jsxs("div",{className:"target-card-meta",children:[e.jsx("span",{children:R.country}),e.jsx("span",{children:""}),e.jsx("span",{children:R.priority.toUpperCase()}),e.jsx("span",{children:""}),e.jsx("span",{children:R.status.replace("_"," ")})]})]})]},R.id))]}),e.jsx("main",{className:"wb-res-editor",children:a?e.jsxs("div",{className:"editor-view",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("h2",{children:["Inspecting:"," ",e.jsx("span",{className:"domain-txt",children:a.domain})]}),e.jsx("button",{className:"btn-open-site",onClick:()=>window.open(`https://${a.domain}`,"_blank"),children:"Open Website "})]}),a.status==="unassigned"&&e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsxs("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#92400e"},children:" Task Not Claimed"}),e.jsx("p",{style:{margin:"0 0 15px 0",color:"#78350f"},children:"You must claim this task before you can enter research data."})]}),e.jsxs("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsxs("div",{style:{marginBottom:"10px",color:"#64748b",fontSize:"14px"},children:[e.jsx("strong",{children:"Domain:"})," ",a.domain]}),a.name&&e.jsxs("div",{style:{marginBottom:"10px",color:"#64748b",fontSize:"14px"},children:[e.jsx("strong",{children:"Company:"})," ",a.name]}),e.jsxs("div",{style:{marginBottom:"10px",color:"#64748b",fontSize:"14px"},children:[e.jsx("strong",{children:"Country:"})," ",a.country]})]}),e.jsx("button",{className:"btn-submit-task",onClick:M,disabled:i,style:{padding:"12px 40px",fontSize:"16px"},children:i?"Claiming...":"Claim Task"})]}),a.status==="in_progress"&&e.jsxs("div",{className:"editor-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Link (Domain)"}),e.jsx("input",{type:"text",value:a.domain,disabled:!0,style:{background:"#f1f5f9",cursor:"not-allowed",fontWeight:"500"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#64748b",fontSize:"12px"},children:"System-provided, cannot be changed"})]}),e.jsx("hr",{style:{margin:"20px 0",border:"none",borderTop:"1px solid #e2e8f0"}}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Company Name ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Enter or verify company name...",value:v.companyName,onChange:R=>T({...v,companyName:R.target.value}),style:{borderColor:"#3b82f6"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#64748b",fontSize:"12px"},children:"Verify or correct the company name from the website"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Country ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Enter or verify country...",value:v.country,onChange:R=>T({...v,country:R.target.value}),style:{borderColor:"#3b82f6"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#64748b",fontSize:"12px"},children:"Verify or correct the country from the website"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Website Language ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"e.g., English, Spanish, French, German...",value:v.language,onChange:R=>T({...v,language:R.target.value}),style:{borderColor:"#3b82f6"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#64748b",fontSize:"12px"},children:"Primary language of the website content"})]}),e.jsx("div",{className:"action-row",style:{marginTop:"30px"},children:e.jsx("button",{className:"btn-submit-task",onClick:z,disabled:m,style:{width:"100%",padding:"12px"},children:m?"Submitting...":"Submit for Audit"})})]}),a.status==="submitted"&&e.jsxs("div",{className:"editor-content",children:[e.jsxs("div",{style:{background:"#d1fae5",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"#065f46",border:"2px solid #10b981"},children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:" Submission Successful"}),e.jsx("p",{style:{margin:0,fontSize:"14px"},children:"Your research has been submitted and is now awaiting audit review."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Link (Domain)"}),e.jsx("input",{type:"text",value:a.domain,disabled:!0,style:{background:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:v.companyName||a.name||"",disabled:!0,style:{background:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country"}),e.jsx("input",{type:"text",value:v.country||a.country||"",disabled:!0,style:{background:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Website Language"}),e.jsx("input",{type:"text",value:v.language||"",disabled:!0,style:{background:"#f1f5f9"}})]}),e.jsx("div",{className:"action-row",style:{marginTop:"30px"},children:e.jsx("button",{className:"btn-submit-task",onClick:()=>{n(R=>R.filter(P=>P.id!==a.id)),r(null),T({companyName:"",country:"",language:""}),y(!1)},style:{width:"100%",padding:"12px",background:"#22c55e"},children:" Done - Select Next Task"})})]})]}):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:""}),e.jsx("h3",{children:"Select a domain to start research"}),e.jsx("p",{children:"Choose a task from the left panel to begin."})]})})]})]})}function eN(){const{user:t}=js(),[s,n]=d.useState([]),[a,r]=d.useState(null),[i,l]=d.useState(!1),[o,c]=d.useState(null),[h,p]=d.useState(""),[m,f]=d.useState(!1),[g,j]=d.useState([]),[w,S]=d.useState(""),[N,u]=d.useState(!0),[x,y]=d.useState(!1),[v,T]=d.useState({contactName:"",contactLinkedinUrl:"",country:"",language:""});d.useEffect(()=>{U()},[t==null?void 0:t.id]),d.useEffect(()=>{w&&q()},[w]);const U=async()=>{if(t!=null&&t.id)try{u(!0);const R=await Ge.getMyCategories(),P=R&&R.length>0?Array.from(new Map(R.map(O=>[O.id,O])).values()):[];j(P),P&&P.length===1?S(P[0].id):P&&P.length>1&&S("")}catch(R){console.error("Failed to load categories:",R),c("Failed to load your assigned categories")}finally{u(!1)}},q=async()=>{var R,P;try{l(!0),c(null);const O=await Ge.getLinkedInTasks(w||void 0);n(O||[]),r(null),T({contactName:"",contactLinkedinUrl:"",country:"",language:""})}catch(O){c(((P=(R=O.response)==null?void 0:R.data)==null?void 0:P.message)||"Failed to load tasks"),console.error("Error loading tasks:",O)}finally{l(!1)}},D=R=>{r(R),R.status==="in_progress"?T({contactName:R.name||"",contactLinkedinUrl:R.domain||"",country:R.country||"",language:""}):T({contactName:"",contactLinkedinUrl:"",country:"",language:""}),y(!1)},M=async()=>{var R,P;if(a)try{if(l(!0),!await Ge.claimTask(a.id))throw new Error("No response from claim endpoint");const k=s.map(I=>I.id===a.id?{...I,status:"in_progress",assignedToUserId:(t==null?void 0:t.id)||null}:I);n(k);const _={...a,status:"in_progress",assignedToUserId:(t==null?void 0:t.id)||null};r(_),T({contactName:_.name||"",contactLinkedinUrl:_.domain||"",country:_.country||"",language:""})}catch(O){console.error("[CLAIM] Error claiming task:",O),alert(((P=(R=O.response)==null?void 0:R.data)==null?void 0:P.message)||"Failed to claim task")}finally{l(!1)}},z=async()=>{var R,P;if(a){if(a.status!=="in_progress"){alert("Please claim this task before submitting");return}if(!v.contactName.trim()){alert("Please provide the contact name");return}if(!v.contactLinkedinUrl.trim()){alert("Please provide the contact LinkedIn link");return}if(!v.country.trim()){alert("Please provide the country");return}if(!v.language.trim()){alert("Please provide the language");return}try{f(!0);const O={taskId:a.id,contactName:v.contactName.trim(),contactLinkedinUrl:v.contactLinkedinUrl.trim(),country:v.country.trim(),language:v.language.trim()};await Ge.submitLinkedinTask(O);const k=s.map(I=>I.id===a.id?{...I,status:"submitted"}:I);n(k);const _={...a,status:"submitted"};r(_),y(!0)}catch(O){console.error("[SUBMIT] Submit error:",O),alert(((P=(R=O.response)==null?void 0:R.data)==null?void 0:P.message)||"Failed to submit research")}finally{f(!1)}}},L=s.filter(R=>(R.domain||"").toLowerCase().includes(h.toLowerCase())),C=s.filter(R=>R.status==="in_progress").length,E=s.filter(R=>R.status==="submitted").length,A=R=>R.status==="submitted"?"#22c55e":R.assignedToUserId&&(t==null?void 0:t.id)&&R.assignedToUserId===t.id?"#eab308":"#ef4444";return e.jsxs("div",{className:"wb-res-tasks-container",children:[e.jsxs("header",{className:"wb-res-header",children:[e.jsxs("div",{className:"wb-res-title",children:[e.jsx("h1",{children:"LinkedIn Research Terminal"}),e.jsx("p",{children:"Analyze assigned LinkedIn profiles and submit validated contact details."})]}),e.jsxs("div",{className:"wb-res-stats",children:[e.jsxs("div",{className:"res-stat-item",children:["Active Tasks: ",C]}),e.jsxs("div",{className:"res-stat-item",children:["Daily Progress: ",E]})]})]}),o&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:o}),N&&e.jsx("div",{style:{background:"#f0f9ff",padding:"20px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:"Loading your assigned categories..."}),!N&&g.length===0&&e.jsxs("div",{style:{background:"#fee2e2",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fca5a5"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#dc2626"},children:" No Categories Assigned"}),e.jsx("p",{style:{margin:0,color:"#991b1b"},children:"You are not assigned to any category. Please contact an administrator to assign you to categories before you can access research tasks."})]}),!N&&g.length>0&&g.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:w,onChange:R=>S(R.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),g.map(R=>e.jsx("option",{value:R.id,children:R.name},R.id))]})]}),!N&&g.length>0&&!w&&g.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view available tasks."})}),g.length>0&&w&&e.jsxs("div",{className:"wb-res-main",children:[e.jsxs("aside",{className:"wb-res-list",children:[e.jsx("div",{className:"list-search",children:e.jsx("input",{type:"text",placeholder:"Search profile URL...",value:h,onChange:R=>p(R.target.value)})}),i&&s.length===0&&e.jsx("div",{className:"empty-list",children:e.jsx("p",{children:"Loading tasks..."})}),!i&&L.length===0&&e.jsx("div",{className:"empty-list",children:e.jsx("p",{children:"No tasks available."})}),L.map(R=>e.jsxs("div",{className:`target-card ${(a==null?void 0:a.id)===R.id?"active":""}`,onClick:()=>D(R),children:[e.jsx("div",{className:"priority-line",style:{backgroundColor:A(R),height:"4px"}}),e.jsxs("div",{className:"target-card-info",children:[e.jsx("h4",{children:R.domain}),e.jsxs("div",{className:"target-card-meta",children:[e.jsx("span",{children:R.country}),e.jsx("span",{children:""}),e.jsx("span",{children:R.priority.toUpperCase()}),e.jsx("span",{children:""}),e.jsx("span",{children:R.status.replace("_"," ")})]})]})]},R.id))]}),e.jsx("main",{className:"wb-res-editor",children:a?e.jsxs("div",{className:"editor-view",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("h2",{children:["Inspecting: ",e.jsx("span",{className:"domain-txt",children:a.domain})]}),e.jsx("button",{className:"btn-open-site",onClick:()=>window.open(a.domain.startsWith("http")?a.domain:`https://${a.domain}`,"_blank"),children:"Open Profile "})]}),a.status==="unassigned"&&e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsxs("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#92400e"},children:" Task Not Claimed"}),e.jsx("p",{style:{margin:"0 0 15px 0",color:"#78350f"},children:"You must claim this task before you can enter research data."})]}),e.jsxs("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsxs("div",{style:{marginBottom:"10px",color:"#64748b",fontSize:"14px"},children:[e.jsx("strong",{children:"Profile:"})," ",a.domain]}),a.country&&e.jsxs("div",{style:{marginBottom:"10px",color:"#64748b",fontSize:"14px"},children:[e.jsx("strong",{children:"Country:"})," ",a.country]})]}),e.jsx("button",{className:"btn-submit-task",onClick:M,disabled:i,style:{padding:"12px 40px",fontSize:"16px"},children:i?"Claiming...":"Claim Task"})]}),a.status==="in_progress"&&e.jsxs("div",{className:"editor-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"LinkedIn Profile URL"}),e.jsx("input",{type:"text",value:a.domain,disabled:!0,style:{background:"#f1f5f9",cursor:"not-allowed",fontWeight:"500"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#64748b",fontSize:"12px"},children:"System-provided, cannot be changed"})]}),e.jsx("hr",{style:{margin:"20px 0",border:"none",borderTop:"1px solid #e2e8f0"}}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Contact Name ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Enter or verify contact name...",value:v.contactName,onChange:R=>T({...v,contactName:R.target.value}),style:{borderColor:"#3b82f6"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Contact LinkedIn Link ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"https://linkedin.com/in/...",value:v.contactLinkedinUrl,onChange:R=>T({...v,contactLinkedinUrl:R.target.value}),style:{borderColor:"#3b82f6"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Country ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Enter or verify country...",value:v.country,onChange:R=>T({...v,country:R.target.value}),style:{borderColor:"#3b82f6"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Language ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"e.g., English, Spanish, French, German...",value:v.language,onChange:R=>T({...v,language:R.target.value}),style:{borderColor:"#3b82f6"}})]}),e.jsx("div",{className:"action-row",style:{marginTop:"30px"},children:e.jsx("button",{className:"btn-submit-task",onClick:z,disabled:m,style:{width:"100%",padding:"12px"},children:m?"Submitting...":"Submit for Audit"})})]}),a.status==="submitted"&&e.jsxs("div",{className:"editor-content",children:[e.jsx("div",{style:{background:"#eff6ff",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#1e40af"},children:" This task has been submitted and is awaiting audit."}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"LinkedIn Profile URL"}),e.jsx("input",{type:"text",value:a.domain,disabled:!0,style:{background:"#f1f5f9"}})]}),a.name&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("input",{type:"text",value:a.name,disabled:!0,style:{background:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country"}),e.jsx("input",{type:"text",value:a.country,disabled:!0,style:{background:"#f1f5f9"}}),!x&&e.jsx("div",{className:"action-row",style:{marginTop:"30px"},children:e.jsx("button",{className:"btn-submit-task",onClick:()=>{y(!0);const R=s.filter(P=>P.id!==a.id);n(R),r(null),T({contactName:"",contactLinkedinUrl:"",country:"",language:""})},style:{width:"100%",padding:"12px",background:"#22c55e"},children:"Understood"})})]})]})]}):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:""}),e.jsx("h3",{children:"Select a profile to start research"}),e.jsx("p",{children:"Choose a task from the left panel to begin."})]})})]})]})}const nn={getWebsiteTasks:async()=>(await X.get("/inquiry/tasks/website")).data,getLinkedInTasks:async()=>(await X.get("/inquiry/tasks/linkedin")).data,takeTask:async t=>(await X.post("/inquiry/take",{researchTaskId:t})).data,submitAction:async(t,s,n)=>{const a=new FormData;return a.append("inquiryTaskId",t),a.append("actionType",s),a.append("screenshot",n),console.log("[submitAction] Sending to /inquiry/submit"),console.log("[submitAction] inquiryTaskId:",t),console.log("[submitAction] actionType:",s),console.log("[submitAction] screenshot:",n.name,`(${n.size} bytes)`),(await X.post("/inquiry/submit",a,{headers:{"Content-Type":void 0}})).data}},tN=500*1024,sN=["image/png","image/jpeg"],Tt=[{title:"Partnership Inquiry",content:`Hi there,

I came across your website and was impressed by your work in [industry/field]. We specialize in [your service/product] and believe there could be valuable synergies between our companies.

Would you be open to a brief call to explore potential collaboration opportunities?

Best regards`},{title:"Service Introduction",content:`Hello,

I noticed your company is active in [specific area]. We provide [specific service] that has helped similar businesses achieve [specific benefit].

I'd love to share how we might be able to support your goals. Would you have 15 minutes for a quick chat?

Thank you`},{title:"Business Development",content:`Dear Team,

Your company's approach to [specific aspect] caught my attention. We work with organizations like yours to [value proposition].

I believe there's potential for a mutually beneficial relationship. Are you available for a brief discussion next week?

Looking forward to connecting`}];function nN(){const{user:t}=js(),[s,n]=d.useState([]),[a,r]=d.useState(!0),[i,l]=d.useState(null),[o,c]=d.useState(null),[h,p]=d.useState(null),[m,f]=d.useState(!1),[g,j]=d.useState(0),[w,S]=d.useState(""),[N,u]=d.useState(""),[x,y]=d.useState(null),[v,T]=d.useState(""),[U,q]=d.useState(""),[D,M]=d.useState(!1),[z,L]=d.useState(""),[C,E]=d.useState(""),[A,R]=d.useState([]),[P,O]=d.useState(""),[k,_]=d.useState(!0),I=()=>{const Y=localStorage.getItem("accessToken");if(!Y)return null;try{const ue=Y.split(".")[1];return JSON.parse(window.atob(ue)).sub||null}catch{return null}};d.useEffect(()=>{F()},[t==null?void 0:t.id]),d.useEffect(()=>{(P||!k&&A.length>0)&&Q()},[P,k]);const F=async()=>{try{_(!0);const Y=await Ge.getMyCategories(),ue=Array.isArray(Y)?Y:Array.isArray(Y==null?void 0:Y.data)?Y.data:[];console.log("[Inquirer] Raw categories from API:",Y);const oe=ue&&ue.length>0?Array.from(new Map(ue.map(J=>[J.id,J])).values()):[];console.log("[Inquirer] Unique categories:",oe.length,oe.map(J=>J.id)),R(oe),oe&&oe.length===1?O(oe[0].id):oe&&oe.length>1&&O("")}catch(Y){console.error("Failed to load categories:",Y),l("Failed to load your assigned categories")}finally{_(!1)}},Q=async()=>{try{r(!0),l(null);const Y=await nn.getWebsiteTasks(),ue=I(),J=(P?(Y||[]).filter(se=>se.categoryId===P):Y||[]).filter(se=>se.status==="PENDING"||se.status==="IN_PROGRESS"&&ue&&se.assignedToUserId===ue);if(n(J),!o){const se=J.find(ce=>ce.status==="IN_PROGRESS"&&ce.assignedToUserId===ue);se&&$(se)}o&&!J.some(se=>se.id===o.id)&&(c(null),p(null))}catch(Y){l(Y.message||"Failed to load tasks"),console.error("Error loading tasks:",Y)}finally{r(!1)}},$=Y=>{const ue=I(),oe=Y.status==="IN_PROGRESS"&&Y.assignedToUserId===ue;c(Y),p(oe?Y.inquiryTaskId||Y.id:null),f(!1),j(0),S(Tt[0].title),u(Tt[0].content),y(null),T(""),q(""),L(""),E("")},b=async()=>{if(o)try{f(!0),L("");const Y=await nn.takeTask(o.id);p(Y.id),await Q()}catch(Y){L(Y.message||"Failed to claim task"),console.error("Error claiming task:",Y)}finally{f(!1)}},B=()=>{const Y=g===0?Tt.length-1:g-1;j(Y),S(Tt[Y].title),u(Tt[Y].content)},K=()=>{const Y=(g+1)%Tt.length;j(Y),S(Tt[Y].title),u(Tt[Y].content)},V=Y=>{var J;const ue=(J=Y.target.files)==null?void 0:J[0];if(!ue)return;if(q(""),ue.size>tN){q(`File too large. Maximum size is 500 KB. Your file is ${(ue.size/1024).toFixed(2)} KB.`),y(null),T("");return}if(!sN.includes(ue.type)){q("Invalid format. Allowed: PNG, JPG, JPEG"),y(null),T("");return}y(ue);const oe=new FileReader;oe.onload=se=>{var ce;T((ce=se.target)==null?void 0:ce.result)},oe.readAsDataURL(ue)},te=async()=>{var Y,ue;if(!(!h||!x))try{M(!0),L(""),E("");const oe=await nn.submitAction(h,"EMAIL",x);oe!=null&&oe.screenshotDuplicate&&E("Screenshot accepted (duplicate). Auditor will see duplicate flag."),n(s.filter(J=>J.id!==(o==null?void 0:o.id))),c(null),p(null),y(null),T(""),S(""),u("")}catch(oe){const J=((ue=(Y=oe==null?void 0:oe.response)==null?void 0:Y.data)==null?void 0:ue.message)||oe.message||"Failed to submit inquiry";L(J),console.error("Error submitting inquiry:",oe)}finally{M(!1)}},xe=d.useMemo(()=>s.length>0,[s]),Ze=h&&x&&!D,Ht=Y=>Y.status==="SUBMITTED"?"#22c55e":Y.status==="IN_PROGRESS"?"#eab308":"#ef4444";return k?e.jsx("div",{className:"inq-state-screen",children:e.jsx("p",{children:"Loading categories"})}):A.length===0?e.jsx("div",{className:"inq-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"inq-tasks-container",children:[A.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:P,onChange:Y=>O(Y.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),A.map(Y=>e.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),!P&&A.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view available tasks."})}),P&&A.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"inq-tasks-header",children:[e.jsxs("div",{className:"title-group",children:[e.jsx("h1",{children:"Website Outreach Tasks"}),e.jsx("p",{children:"Claim approved research, execute contact actions, and submit verifiable proof."})]}),e.jsx("div",{className:"task-counter",children:e.jsxs("span",{children:["Available Tasks: ",e.jsx("strong",{children:s.length})]})})]}),a&&e.jsx("div",{className:"loading-state",children:e.jsx("p",{children:"Loading tasks..."})}),i&&e.jsx("div",{className:"error-state",children:e.jsx("p",{children:i})}),!a&&!i&&e.jsxs("div",{className:"inq-layout",children:[e.jsxs("aside",{className:"tasks-sidebar",children:[!xe&&e.jsx("div",{className:"empty-tasks",children:e.jsx("p",{children:"No approved research available at the moment."})}),s.map(Y=>e.jsxs("div",{className:`task-selector-card ${(o==null?void 0:o.id)===Y.id?"active":""}`,onClick:()=>$(Y),children:[e.jsx("div",{className:"priority-line",style:{backgroundColor:Ht(Y),height:"4px"}}),e.jsx("div",{className:"task-id-badge",children:"RESEARCH"}),e.jsx("h4",{children:Y.companyName||Y.companyDomain}),e.jsx("p",{className:"task-category",children:Y.categoryName}),e.jsx("p",{className:"task-country",children:Y.companyCountry||"Global"}),e.jsxs("div",{className:"task-footer",children:[e.jsx("span",{className:"status",children:Y.status==="IN_PROGRESS"?"In Progress":"Ready"}),e.jsx("span",{className:"cta-chip",children:Y.status==="IN_PROGRESS"?"Resume":"Start"})]})]},Y.id))]}),e.jsx("main",{className:"task-execution-area",children:o?e.jsx("div",{className:"execution-card",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card-section research-context",children:[e.jsx("h2",{children:"Research Context (Read-Only)"}),e.jsxs("div",{className:"context-grid",children:[e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Company Name"}),e.jsx("p",{children:o.companyName})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Website"}),e.jsx("a",{href:`https://${o.companyDomain}`,target:"_blank",rel:"noreferrer",children:o.companyDomain})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Country"}),e.jsx("p",{children:o.companyCountry||"N/A"})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Category"}),e.jsx("p",{children:o.categoryName})]}),o.contactName&&e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("p",{children:o.contactName})]}),o.email&&e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Email"}),e.jsx("p",{children:o.email})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Research Task ID"}),e.jsx("code",{className:"task-id",children:o.id})]})]})]}),e.jsxs("div",{className:"card-section message-section",children:[e.jsx("h2",{children:"Outreach Message Template"}),e.jsxs("div",{className:"template-selector",children:[e.jsx("button",{className:"btn-template-nav",onClick:B,type:"button",children:""}),e.jsxs("span",{className:"template-indicator",children:["Template ",g+1," of ",Tt.length]}),e.jsx("button",{className:"btn-template-nav",onClick:K,type:"button",children:""})]}),e.jsxs("div",{className:"message-fields",children:[e.jsxs("div",{className:"message-field",children:[e.jsx("label",{children:"Subject / Title"}),e.jsx("input",{type:"text",className:"message-title-input",value:w,onChange:Y=>S(Y.target.value),placeholder:"Message subject"})]}),e.jsxs("div",{className:"message-field",children:[e.jsx("label",{children:"Message Content"}),e.jsx("textarea",{className:"message-textarea",value:N,onChange:Y=>u(Y.target.value),placeholder:"Message content..."})]})]})]}),e.jsxs("div",{className:"card-section proof-section",children:[e.jsx("h2",{children:"Upload Proof of Contact"}),e.jsx("p",{className:"proof-requirements",children:"Maximum file size: 500 KB | Formats: PNG, JPG, JPEG"}),e.jsxs("div",{className:"upload-zone",children:[e.jsx("div",{className:"upload-icon",children:""}),e.jsx("p",{className:"upload-text",children:"Upload a screenshot showing the company website and your outreach message."}),e.jsx("input",{type:"file",id:"proof-upload",accept:".png,.jpg,.jpeg",hidden:!0,onChange:V}),e.jsx("label",{htmlFor:"proof-upload",className:"btn-upload",children:"Select Image"}),U&&e.jsx("p",{className:"file-error",children:U}),x&&e.jsxs("p",{className:"file-name",children:[" ",x.name]})]}),v&&e.jsx("div",{className:"preview-container",children:e.jsx("img",{src:v,alt:"Preview",className:"preview-image"})})]}),z&&e.jsx("div",{className:"submit-error",children:z}),C&&e.jsxs("div",{className:"submit-warning",style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"6px",padding:"12px 16px",marginBottom:"16px",color:"#92400e",fontSize:"14px"},children:[" ",C]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-cancel",onClick:()=>{c(null),p(null)},disabled:D,children:"Cancel"}),e.jsx("button",{className:"btn-submit",onClick:te,disabled:!Ze,children:D?"Submitting...":"Submit for Review"})]})]}):e.jsx("div",{className:"claim-section",children:e.jsxs("div",{className:"claim-box",children:[e.jsx("h2",{children:"Ready to Start Outreach"}),e.jsxs("div",{className:"claim-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Company:"})," ",o.companyName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Domain:"})," ",o.companyDomain]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",o.categoryName]})]}),z&&e.jsx("div",{className:"submit-error",children:z}),e.jsx("button",{className:"btn-claim",onClick:b,disabled:m,children:m?"Claiming...":"Claim This Task"})]})})}):e.jsxs("div",{className:"no-task-selected",children:[e.jsx("div",{className:"empty-illustration",children:""}),e.jsx("h3",{children:"Select a research to begin outreach"}),e.jsx("p",{children:"Claim the task, review research details, and submit contact proof."})]})})]})]})]})}function aN(){const[t,s]=d.useState([]),[n,a]=d.useState(0),[r,i]=d.useState("0 GB"),[l,o]=d.useState("0 GB");return e.jsxs("div",{className:"uploads-container",children:[e.jsxs("header",{className:"uploads-header",children:[e.jsx("h1",{children:"Evidence Storage Terminal"}),e.jsx("p",{children:"Manage high-resolution captures for Website Inquiry tasks."})]}),e.jsxs("div",{className:"uploads-layout",children:[e.jsxs("main",{className:"uploads-main",children:[e.jsx("div",{className:"bulk-upload-card",children:e.jsxs("div",{className:"upload-box",children:[e.jsx("span",{className:"icon",children:""}),e.jsx("h3",{children:"Batch Upload Evidence"}),e.jsx("p",{children:"Drag PNG/JPG screenshots or click to select files"}),e.jsx("button",{className:"btn-browse",children:"Select Files"})]})}),e.jsxs("div",{className:"active-uploads",children:[e.jsxs("h3",{children:["Current Queue (",t.length,")"]}),t.length===0&&e.jsx("div",{className:"empty-state",children:"No evidence files uploaded yet"}),e.jsx("div",{className:"upload-list",children:t.map(c=>e.jsxs("div",{className:"upload-item",children:[e.jsx("div",{className:"file-icon",children:""}),e.jsxs("div",{className:"file-info",children:[e.jsxs("p",{className:"f-name",children:[c.filename," ",e.jsxs("span",{children:["(",c.size,")"]})]}),c.status==="uploading"&&e.jsx("div",{className:"progress-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${c.progress??0}%`}})}),c.status==="ready"&&e.jsx("span",{className:"status-done",children:"Ready to Link"})]}),e.jsx("div",{className:"file-type-select",children:e.jsxs("select",{value:c.evidenceType,readOnly:!0,children:[e.jsx("option",{children:"Main Screenshot"}),e.jsx("option",{children:"Tech Stack Proof"}),e.jsx("option",{children:"Contact Page"}),e.jsx("option",{children:"Other Evidence"})]})}),e.jsx("button",{className:"btn-remove","aria-label":"Remove upload",children:""})]},c.id))})]})]}),e.jsxs("aside",{className:"storage-sidebar",children:[e.jsxs("div",{className:"storage-card",children:[e.jsx("h3",{children:"Storage Used"}),e.jsx("div",{className:"storage-gauge",children:e.jsx("div",{className:"gauge-fill",style:{width:`${n}%`}})}),e.jsxs("p",{children:[e.jsx("strong",{children:r})," of ",l," (",n,"%)"]})]}),e.jsxs("div",{className:"audit-guidelines",children:[e.jsx("h3",{children:"Capture Standards"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Minimum width: 1920px."}),e.jsx("li",{children:"Full URL visible in browser address bar."}),e.jsx("li",{children:"System clock visible on screen."}),e.jsx("li",{children:"No cropping, masking or blurring."})]})]})]})]})]})}const rN=500*1024,iN=["image/png","image/jpeg"],Jt=[{step:1,title:"Step 1: Outreach",action:"LINKEDIN_OUTREACH",instruction:"Open LinkedIn profile, send connection request with personalized note. Screenshot must show LinkedIn URL and message.",templates:[{title:"B2B Partnership",content:`Hi [Name],

I noticed your work in [industry]. We help companies like yours with [value proposition]. Would love to connect and explore potential collaboration opportunities.

Best regards`},{title:"Industry Introduction",content:`Hello [Name],

Your experience in [field] caught my attention. We specialize in [service] and I believe there could be valuable synergies. Looking forward to connecting.

Thank you`},{title:"Direct Outreach",content:`Hi [Name],

I'm reaching out regarding potential partnership opportunities between our companies. Would you be open to a brief conversation?

Best`}]},{step:2,title:"Step 2: Ask for Email",action:"LINKEDIN_EMAIL_REQUEST",instruction:"If connection accepted, send message asking for email contact. Screenshot must show reply and email (if provided).",templates:[{title:"Email Request",content:`Hi [Name],

Thank you for connecting! I'd like to share some detailed information about our services. Would you mind sharing your business email so I can send you our portfolio?

Appreciate it!`},{title:"Professional Follow-up",content:`Hello [Name],

Great to be connected! I have some materials I'd like to share that might interest you. Could you please provide your email address?

Thanks in advance!`},{title:"Direct Email Ask",content:`Hi [Name],

I'd like to send you detailed information. What's the best email to reach you?

Thank you!`}]},{step:3,title:"Step 3: Send Catalogue + Price List",action:"LINKEDIN_CATALOGUE",instruction:"If no email provided, send catalogue and price list via LinkedIn message. Screenshot must show the sent files/links and message.",templates:[{title:"Catalogue Share",content:`Hi [Name],

As discussed, here's our product catalogue and current pricing. Please review and let me know if you have any questions or would like to discuss further.

[Attach catalogue PDF/link]
[Attach price list]

Looking forward to your feedback!`},{title:"Materials Delivery",content:`Hello [Name],

I'm sharing our complete product information and pricing structure. Feel free to reach out with any questions.

[Catalogue link]
[Pricing document]

Best regards`},{title:"Direct Send",content:`Hi [Name],

Here are the materials:

 Product Catalogue: [link]
 Price List: [link]

Let me know your thoughts!`}]}];function lN(){const{user:t}=js(),[s,n]=d.useState([]),[a,r]=d.useState(!0),[i,l]=d.useState(null),[o,c]=d.useState(null),[h,p]=d.useState(null),[m,f]=d.useState(!1),[g,j]=d.useState(1),[w,S]=d.useState(0),[N,u]=d.useState(""),[x,y]=d.useState(""),[v,T]=d.useState(null),[U,q]=d.useState(""),[D,M]=d.useState(""),[z,L]=d.useState(!1),[C,E]=d.useState(""),[A,R]=d.useState(""),[P,O]=d.useState([]),[k,_]=d.useState(""),[I,F]=d.useState(!0),Q=()=>{const J=localStorage.getItem("accessToken");if(!J)return null;try{const se=J.split(".")[1];return JSON.parse(window.atob(se)).sub||null}catch{return null}};d.useEffect(()=>{$()},[t==null?void 0:t.id]),d.useEffect(()=>{(k||!I&&P.length>0)&&b()},[k,I]);const $=async()=>{try{F(!0);const J=await Ge.getMyCategories(),se=Array.isArray(J)?J:Array.isArray(J==null?void 0:J.data)?J.data:[],ce=se&&se.length>0?Array.from(new Map(se.map(me=>[me.id,me])).values()):[];O(ce),ce&&ce.length===1&&_(ce[0].id)}catch(J){console.error("Failed to load categories:",J),l("Failed to load your assigned categories")}finally{F(!1)}},b=async()=>{try{r(!0),l(null);const J=await nn.getLinkedInTasks(),se=Q(),me=(k?(J||[]).filter(ke=>ke.categoryId===k):J||[]).filter(ke=>ke.status==="PENDING"||ke.status==="IN_PROGRESS"&&se&&ke.assignedToUserId===se);if(n(me),!o){const ke=me.find(Gt=>Gt.status==="IN_PROGRESS"&&Gt.assignedToUserId===se);ke&&B(ke)}o&&!me.some(ke=>ke.id===o.id)&&(c(null),p(null))}catch(J){l(J.message||"Failed to load tasks"),console.error("Error loading tasks:",J)}finally{r(!1)}},B=J=>{var ke;const se=Q(),ce=J.status==="IN_PROGRESS"&&J.assignedToUserId===se;c(J),p(ce?J.inquiryTaskId||J.id:null),f(!1);const me=((ke=J.linkedinProgress)==null?void 0:ke.nextStep)||1;j(me),S(0),u(Jt[me-1].templates[0].title),y(Jt[me-1].templates[0].content),T(null),q(""),M(""),E(""),R("")},K=async()=>{if(o)try{f(!0),E("");const J=await nn.takeTask(o.id);p(J.id),await b()}catch(J){E(J.message||"Failed to claim task"),console.error("Error claiming task:",J)}finally{f(!1)}},V=()=>{const J=Jt[g-1],se=w===0?J.templates.length-1:w-1;S(se),u(J.templates[se].title),y(J.templates[se].content)},te=()=>{const J=Jt[g-1],se=(w+1)%J.templates.length;S(se),u(J.templates[se].title),y(J.templates[se].content)},xe=J=>{var me;const se=(me=J.target.files)==null?void 0:me[0];if(!se)return;if(M(""),se.size>rN){M(`File too large. Maximum size is 500 KB. Your file is ${(se.size/1024).toFixed(2)} KB.`),T(null),q("");return}if(!iN.includes(se.type)){M("Invalid format. Allowed: PNG, JPG, JPEG"),T(null),q("");return}T(se);const ce=new FileReader;ce.onload=ke=>{var Gt;q((Gt=ke.target)==null?void 0:Gt.result)},ce.readAsDataURL(se)},Ze=async()=>{var J,se;if(!(!h||!v))try{L(!0),E(""),R("");const ce=Jt[g-1],me=await nn.submitAction(h,ce.action,v);if(me!=null&&me.screenshotDuplicate&&R("Screenshot accepted (duplicate). Auditor will see duplicate flag."),await b(),g<3){const ke=g+1;j(ke),S(0);const Gt=Jt[ke-1];u(Gt.templates[0].title),y(Gt.templates[0].content),T(null),q(""),M(""),R("")}else n(s.filter(ke=>ke.id!==(o==null?void 0:o.id))),c(null),p(null),j(1)}catch(ce){const me=((se=(J=ce==null?void 0:ce.response)==null?void 0:J.data)==null?void 0:se.message)||ce.message||"Failed to submit action";E(me),console.error("Error submitting action:",ce)}finally{L(!1)}},Ht=d.useMemo(()=>s.length>0,[s]),Y=h&&v&&!z,ue=Jt[g-1],oe=J=>J.status==="SUBMITTED"?"#22c55e":J.status==="IN_PROGRESS"?"#eab308":"#ef4444";return I?e.jsx("div",{className:"inq-state-screen",children:e.jsx("p",{children:"Loading categories"})}):P.length===0?e.jsx("div",{className:"inq-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"inq-tasks-container",children:[P.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:k,onChange:J=>_(J.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),P.map(J=>e.jsx("option",{value:J.id,children:J.name},J.id))]})]}),!k&&P.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view available tasks."})}),k&&P.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"inq-tasks-header",children:[e.jsxs("div",{className:"title-group",children:[e.jsx("h1",{children:"LinkedIn Outreach Tasks"}),e.jsx("p",{children:"Execute 3-step LinkedIn outreach: Connection  Email Request  Catalogue Delivery"})]}),e.jsx("div",{className:"task-counter",children:e.jsxs("span",{children:["Available Tasks: ",e.jsx("strong",{children:s.length})]})})]}),a&&e.jsx("div",{className:"loading-state",children:e.jsx("p",{children:"Loading tasks..."})}),i&&e.jsx("div",{className:"error-state",children:e.jsx("p",{children:i})}),!a&&!i&&e.jsxs("div",{className:"inq-layout",children:[e.jsxs("aside",{className:"tasks-sidebar",children:[!Ht&&e.jsx("div",{className:"empty-tasks",children:e.jsx("p",{children:"No approved LinkedIn research available."})}),s.map(J=>e.jsxs("div",{className:`task-selector-card ${(o==null?void 0:o.id)===J.id?"active":""}`,onClick:()=>B(J),children:[e.jsx("div",{className:"priority-line",style:{backgroundColor:oe(J),height:"4px"}}),e.jsx("div",{className:"task-id-badge",children:"LINKEDIN"}),e.jsx("h4",{children:J.contactName||"LinkedIn Contact"}),e.jsx("p",{className:"task-category",children:J.categoryName}),e.jsx("p",{className:"task-country",children:J.country||J.companyCountry||"Global"}),e.jsx("div",{className:"task-footer",children:e.jsx("span",{className:"status",children:"3-Step Workflow"})})]},J.id))]}),e.jsx("main",{className:"task-execution-area",children:o?e.jsx("div",{className:"execution-card",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"workflow-progress",children:Jt.map((J,se)=>e.jsxs("div",{className:`progress-step ${se+1<g?"completed":se+1===g?"active":"pending"}`,children:[e.jsx("div",{className:"step-circle",children:se+1}),e.jsx("div",{className:"step-label",children:J.title})]},se))}),e.jsxs("div",{className:"card-section research-context",children:[e.jsx("h2",{children:"LinkedIn Contact Details (Read-Only)"}),e.jsxs("div",{className:"context-grid",children:[e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("p",{children:o.contactName||"N/A"})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"LinkedIn Profile"}),e.jsx("a",{href:o.contactLinkedinUrl||o.targetId,target:"_blank",rel:"noreferrer",children:o.contactLinkedinUrl||o.targetId})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Country"}),e.jsx("p",{children:o.country||o.companyCountry||"N/A"})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Language"}),e.jsx("p",{children:o.language||"N/A"})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Category"}),e.jsx("p",{children:o.categoryName})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Research Task ID"}),e.jsx("code",{className:"task-id",children:o.id})]})]})]}),e.jsxs("div",{className:"card-section action-instructions",children:[e.jsx("h2",{children:ue.title}),e.jsx("div",{className:"instruction-box",children:e.jsx("p",{className:"instruction-text",children:ue.instruction})})]}),e.jsxs("div",{className:"card-section message-section",children:[e.jsx("h2",{children:"Message Template"}),e.jsxs("div",{className:"template-selector",children:[e.jsx("button",{className:"btn-template-nav",onClick:V,type:"button",children:""}),e.jsxs("span",{className:"template-indicator",children:["Template ",w+1," of ",ue.templates.length]}),e.jsx("button",{className:"btn-template-nav",onClick:te,type:"button",children:""})]}),e.jsxs("div",{className:"message-fields",children:[e.jsxs("div",{className:"message-field",children:[e.jsx("label",{children:"Title / Subject"}),e.jsx("input",{type:"text",className:"message-title-input",value:N,onChange:J=>u(J.target.value),placeholder:"Message title"})]}),e.jsxs("div",{className:"message-field",children:[e.jsx("label",{children:"Message Content"}),e.jsx("textarea",{className:"message-textarea",value:x,onChange:J=>y(J.target.value),placeholder:"Message content...",rows:8})]})]})]}),e.jsxs("div",{className:"card-section proof-section",children:[e.jsxs("h2",{children:["Upload Proof of Action (Step ",g,"/3)"]}),e.jsx("p",{className:"proof-requirements",children:"Maximum file size: 500 KB | Formats: PNG, JPG, JPEG"}),e.jsxs("div",{className:"upload-zone",children:[e.jsx("div",{className:"upload-icon",children:""}),e.jsxs("p",{className:"upload-text",children:["Screenshot must show LinkedIn profile URL and ",g===1?"connection message":g===2?"email request and reply (if any)":"catalogue/price list sent","."]}),e.jsx("input",{type:"file",id:"proof-upload",accept:".png,.jpg,.jpeg",hidden:!0,onChange:xe}),e.jsx("label",{htmlFor:"proof-upload",className:"btn-upload",children:"Select Image"}),D&&e.jsx("p",{className:"file-error",children:D}),v&&e.jsxs("p",{className:"file-name",children:[" ",v.name]})]}),U&&e.jsx("div",{className:"preview-container",children:e.jsx("img",{src:U,alt:"Preview",className:"preview-image"})})]}),C&&e.jsx("div",{className:"submit-error",children:C}),A&&e.jsxs("div",{className:"submit-warning",style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"6px",padding:"12px 16px",marginBottom:"16px",color:"#92400e",fontSize:"14px"},children:[" ",A]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-cancel",onClick:()=>{c(null),p(null),j(1)},disabled:z,children:"Cancel"}),e.jsx("button",{className:"btn-submit",onClick:Ze,disabled:!Y,children:z?"Submitting...":g===3?"Complete Task":`Submit Step ${g} & Continue`})]})]}):e.jsx("div",{className:"claim-section",children:e.jsxs("div",{className:"claim-box",children:[e.jsx("h2",{children:"Ready to Start LinkedIn Outreach"}),e.jsxs("div",{className:"claim-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Contact:"})," ",o.contactName||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"LinkedIn URL:"})," ",o.contactLinkedinUrl||o.targetId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",o.categoryName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",o.country||o.companyCountry||"N/A"]})]}),C&&e.jsx("div",{className:"submit-error",children:C}),e.jsx("button",{className:"btn-claim",onClick:K,disabled:m,children:m?"Claiming...":"Claim This Task"})]})})}):e.jsxs("div",{className:"no-task-selected",children:[e.jsx("div",{className:"empty-illustration",children:""}),e.jsx("h3",{children:"Select a LinkedIn task to begin"}),e.jsx("p",{children:"Claim the task and complete 3 sequential actions with screenshot proof."})]})})]})]})]})}function oN({files:t=[],storageUsed:s="0 GB",storageTotal:n="0 GB",storagePercent:a=0}){return e.jsxs("div",{className:"li-uploads",children:[e.jsxs("header",{className:"page-header",children:[e.jsxs("div",{className:"title-area",children:[e.jsx("h1",{children:"LinkedIn Asset Vault"}),e.jsx("p",{children:"Secure management of evidence for multi-step outreach tasks."})]}),e.jsx("div",{className:"header-meta",children:e.jsxs("div",{className:"storage-info",children:[e.jsxs("span",{children:["Storage Used:"," ",e.jsxs("strong",{children:[s," / ",n]})]}),e.jsx("div",{className:"storage-bar",children:e.jsx("div",{className:"fill",style:{width:`${Math.min(a,100)}%`}})})]})})]}),e.jsxs("div",{className:"upload-main",children:[e.jsxs("section",{className:"dropzone-section",children:[e.jsxs("div",{className:"li-dropzone",children:[e.jsx("span",{className:"dz-icon",children:""}),e.jsx("h3",{children:"Upload New Proof"}),e.jsx("p",{children:"Drag and drop PNG, JPG or PDF. Maximum file size: 500 KB."}),e.jsx("button",{className:"btn-dz",children:"Browse Files"})]}),e.jsxs("div",{className:"upload-guidelines",children:[e.jsx("h4",{children:"LinkedIn Evidence Requirements"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Full Browser Capture: Must show LinkedIn navigation bar."}),e.jsx("li",{children:"Timestamp Visible: System clock must be visible."}),e.jsx("li",{children:"Clear Text: Messages must be readable."}),e.jsx("li",{children:"Unedited: No cropping, blurring or masking."})]})]})]}),e.jsxs("section",{className:"file-library",children:[e.jsxs("div",{className:"library-header",children:[e.jsx("h3",{children:"Recent Uploads"}),e.jsx("div",{className:"library-filters",children:e.jsxs("select",{children:[e.jsx("option",{children:"All Proofs"}),e.jsx("option",{children:"Conversations"}),e.jsx("option",{children:"Profile Proof"})]})})]}),t.length===0?e.jsx("div",{className:"empty-library",children:e.jsx("p",{children:"No evidence uploaded yet."})}):e.jsx("div",{className:"file-grid",children:t.map(r=>e.jsxs("div",{className:"file-card",children:[e.jsx("div",{className:"file-preview",children:e.jsx("div",{className:"file-type-icon",children:""})}),e.jsxs("div",{className:"file-details",children:[e.jsxs("div",{className:"file-top",children:[e.jsx("span",{className:"file-tag",children:r.type}),e.jsx("span",{className:`status-dot ${r.status}`})]}),e.jsx("p",{className:"file-name",title:r.name,children:r.name}),e.jsxs("div",{className:"file-footer",children:[e.jsx("span",{children:r.size}),e.jsxs("div",{className:"file-actions",children:[e.jsx("button",{className:"btn-icon",children:""}),e.jsx("button",{className:"btn-icon",children:""})]})]})]})]},r.id))})]})]})]})}const je={getPendingResearch:async()=>(await X.get("/audit/research/pending")).data,auditResearch:async(t,s)=>(await X.post(`/audit/research/${t}`,s)).data,getPendingInquiry:async()=>(await X.get("/audit/inquiry/pending")).data,auditInquiry:async(t,s)=>(await X.post(`/audit/inquiry/${t}`,s)).data,getPendingLinkedInInquiry:async()=>(await X.get("/audit/linkedin-inquiry/pending")).data,auditLinkedInInquiry:async(t,s,n)=>(await X.post(`/audit/linkedin-inquiry/${t}/actions/${s}`,n)).data,getDisapprovalReasons:async t=>(await X.get("/audit/disapproval-reasons",{params:t})).data};function cN(){const{user:t}=js(),[s,n]=d.useState([]),[a,r]=d.useState([]),[i,l]=d.useState(0),[o,c]=d.useState(!0),[h,p]=d.useState(null),[m,f]=d.useState([]),[g,j]=d.useState(""),[w,S]=d.useState(!0),[N,u]=d.useState([]),[x,y]=d.useState([]),[v,T]=d.useState(!1);d.useEffect(()=>{U()},[t==null?void 0:t.id]),d.useEffect(()=>{q()},[]),d.useEffect(()=>{if(!g){u([]),y([]);return}D(g)},[g]),d.useEffect(()=>{if(w)return;if(!g&&m.length===1){j(m[0].id);return}if(!g&&m.length>1){n([]);return}const E=g?a.filter(A=>A.categoryId===g):a;n(E),l(0)},[g,a,w,m]);const U=async()=>{if(t!=null&&t.id)try{S(!0);const E=await Ge.getMyCategories(),A=Array.isArray(E)?E:Array.isArray(E==null?void 0:E.data)?E.data:[];console.log("[Auditor] Raw categories:",E);const R=A.length>0?Array.from(new Map(A.map(P=>[P.id,P])).values()):[];f(R),R.length===1?j(R[0].id):R.length>1&&j("")}catch(E){console.error("Failed to load categories:",E),p("Failed to load your assigned categories")}finally{S(!1)}},q=async()=>{var E,A;try{c(!0);const R=await je.getPendingInquiry();r(R);const P=g?R.filter(O=>O.categoryId===g):R;n(P),l(0),p(null)}catch(R){p(((A=(E=R.response)==null?void 0:E.data)==null?void 0:A.message)||"Failed to load submissions")}finally{c(!1)}},D=async E=>{try{T(!0);const[A,R]=await Promise.all([je.getDisapprovalReasons({role:"website_inquirer_auditor",reasonType:"rejection",categoryId:E}),je.getDisapprovalReasons({role:"website_inquirer_auditor",reasonType:"flag",categoryId:E})]);u(Array.isArray(A)?A:[]),y(Array.isArray(R)?R:[])}catch(A){console.error("Failed to load disapproval reasons",A),p("Failed to load disapproval reasons")}finally{T(!1)}},M=async E=>{var A,R;try{await je.auditInquiry(E,{decision:"APPROVED"}),n(P=>{const O=P.filter(k=>k.id!==E);return l(k=>Math.min(k,Math.max(O.length-1,0))),O})}catch(P){alert(((R=(A=P.response)==null?void 0:A.data)==null?void 0:R.message)||"Failed to approve submission")}},z=async(E,A)=>{var R,P;try{await je.auditInquiry(E,{decision:"REJECTED",reasonId:A}),n(O=>{const k=O.filter(_=>_.id!==E);return l(_=>Math.min(_,Math.max(k.length-1,0))),k})}catch(O){alert(((P=(R=O.response)==null?void 0:R.data)==null?void 0:P.message)||"Failed to reject submission")}},L=async(E,A)=>{var R,P;try{await je.auditInquiry(E,{decision:"FLAGGED",reasonId:A}),n(O=>{const k=O.filter(_=>_.id!==E);return l(_=>Math.min(_,Math.max(k.length-1,0))),k})}catch(O){alert(((P=(R=O.response)==null?void 0:R.data)==null?void 0:P.message)||"Failed to flag submission")}},C=E=>{const A=new Date,R=new Date(E),P=A.getTime()-R.getTime(),O=Math.floor(P/6e4),k=Math.floor(O/60),_=Math.floor(k/24);return _>0?`${_} day${_>1?"s":""} ago`:k>0?`${k} hour${k>1?"s":""} ago`:O>0?`${O} minute${O>1?"s":""} ago`:"Just now"};return w?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"Loading categories"})}):m.length===0?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"wb-inquiry-pending-container",children:[m.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:g,onChange:E=>j(E.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),m.map(E=>e.jsx("option",{value:E.id,children:E.name},E.id))]})]}),!g&&m.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view pending submissions."})}),h&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:h}),g&&m.length>0&&e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"Loading submissions"})}),!o&&s.length===0&&e.jsx("div",{style:{background:"#f3f4f6",padding:"20px",borderRadius:"8px",textAlign:"center"},children:e.jsx("p",{style:{margin:0,color:"#666"},children:"No pending submissions to review in this category."})}),!o&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"wb-pending-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Website Inquiry Audits"}),e.jsxs("p",{children:[s.length," pending submission",s.length!==1?"s":""]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("button",{onClick:()=>l(E=>E>0?E-1:E),disabled:i===0,className:"btn-nav",children:" Previous"}),e.jsxs("span",{style:{fontWeight:600},children:[i+1," / ",s.length]}),e.jsx("button",{onClick:()=>l(E=>E<s.length-1?E+1:E),disabled:i>=s.length-1,className:"btn-nav",children:"Next "})]})]}),e.jsx("div",{className:"submissions-grid",style:{gridTemplateColumns:"1fr"},children:e.jsx(dN,{submission:s[i],onApprove:M,onReject:z,onFlag:L,rejectionReasons:N,flagReasons:x,loadingReasons:v,formatTimeAgo:C},s[i].id)})]})]})]})}function dN({submission:t,onApprove:s,onReject:n,onFlag:a,rejectionReasons:r,flagReasons:i,loadingReasons:l,formatTimeAgo:o}){const[c,h]=d.useState({actionMatches:!1,screenshotValid:!1,targetCorrect:!1,noManipulation:!1,messageValid:!1}),[p,m]=d.useState(""),[f,g]=d.useState(""),[j,w]=d.useState(!1);if(!t)return null;const S=t.companyName||"",N=t.companyDomain||"",u=t.companyCountry||"",x=t.language||"",y=(t==null?void 0:t.isDuplicate)===!0,v=t.screenshotUrl;console.log("[WebsiteAuditor] Current submission:",{id:t.id,screenshotUrl:v,isDuplicate:y,companyName:t.companyName});const U=Object.values(c).every(E=>E)&&!y,q=!!p,D=!!f&&!y,M=async()=>{if(U){w(!0);try{await s(t.id)}finally{w(!1)}}},z=async()=>{if(!(!q||!p)){w(!0);try{await n(t.id,p)}finally{w(!1)}}},L=async()=>{if(!(!D||!f)){w(!0);try{await a(t.id,f)}finally{w(!1)}}},C=E=>{h(A=>({...A,[E]:!A[E]}))};return e.jsxs("div",{className:"submission-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("span",{className:"type-badge",children:"Website Inquiry"}),e.jsx("span",{className:"time-badge",children:o(t.createdAt)})]}),e.jsxs("div",{className:"card-content-wrapper",children:[e.jsxs("div",{className:"card-body",children:[e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Context"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Company Name:"}),e.jsx("span",{className:"info-value",children:S})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Company Link:"}),N!==""?e.jsx("a",{href:`https://${N}`,target:"_blank",rel:"noopener noreferrer",className:"company-link",children:N}):e.jsx("span",{className:"info-value",children:""})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Country:"}),e.jsx("span",{className:"info-value",children:u})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Language:"}),e.jsx("span",{className:"info-value",children:x})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Submission Details"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Task ID:"}),e.jsx("span",{className:"info-value task-id",title:t.id,children:t.id})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Worker"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.assignedToUserId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.workerName||"Unknown"})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Email:"}),e.jsx("span",{className:"nested-value",children:t.workerEmail||"N/A"})]})]})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Category"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.categoryId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.categoryName||"Unknown"})]})]})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Duplicate Detection (System)"}),y&&e.jsxs("div",{style:{background:"#fee2e2",padding:"12px",borderRadius:"6px",marginBottom:"10px",border:"2px solid #dc2626",color:"#991b1b",fontSize:"13px",fontWeight:"600"},children:[" ",e.jsx("strong",{children:"System Alert: Duplicate."})," Approval disabled. This screenshot matches a previously submitted image. You must reject this submission."]}),!y&&e.jsx("div",{style:{background:"#d1fae5",padding:"12px",borderRadius:"6px",border:"2px solid #10b981",color:"#059669",fontSize:"13px"},children:" Screenshot is NOT flagged as duplicate"})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Validation Checklist"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.actionMatches,onChange:()=>C("actionMatches")}),e.jsx("span",{children:"Action matches submission type"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.screenshotValid,onChange:()=>C("screenshotValid")}),e.jsx("span",{children:"Screenshot is valid proof of action"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.targetCorrect,onChange:()=>C("targetCorrect")}),e.jsx("span",{children:"Target website/LinkedIn is correct"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.noManipulation,onChange:()=>C("noManipulation")}),e.jsx("span",{children:"No signs of manipulation or forgery"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.messageValid,onChange:()=>C("messageValid")}),e.jsx("span",{children:"Outreach message matches template"})]})]})]}),e.jsxs("section",{className:"controls-section",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Rejection Reason"}),e.jsxs("select",{value:p,onChange:E=>{m(E.target.value),g("")},className:"rejection-select",disabled:l,children:[e.jsx("option",{value:"",children:"Select reason..."}),r.map(E=>e.jsx("option",{value:E.id,children:E.reason},E.id))]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Flag Reason"}),e.jsxs("select",{value:f,onChange:E=>{g(E.target.value),m("")},className:"rejection-select",disabled:l||y,children:[e.jsx("option",{value:"",children:"Not flagging"}),i.map(E=>e.jsx("option",{value:E.id,children:E.reason},E.id))]}),y&&e.jsx("p",{className:"muted",children:"Duplicate detected  use a rejection reason."})]}),l&&e.jsx("p",{className:"muted",children:"Loading reasons"})]})]}),e.jsxs("div",{className:"screenshot-panel",children:[e.jsx("h3",{children:"Screenshot"}),e.jsx("div",{className:"screenshot-container",children:v?e.jsx("img",{src:v,alt:"Inquiry submission screenshot",className:"screenshot-image",onClick:()=>window.open(v,"_blank"),style:{cursor:"pointer"},title:"Click to open in new tab"}):e.jsx("div",{className:"no-screenshot",children:"No screenshot available"})})]})]}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{onClick:z,disabled:!q||j,className:"btn-reject",title:q?"":"Select a rejection reason",children:j?"Processing...":"Reject"}),e.jsx("button",{onClick:L,disabled:!D||j,className:"btn-secondary",title:D?"":y?"Duplicate must be rejected, not flagged":"Select a flag reason",children:j?"Processing...":"Flag"}),e.jsx("button",{onClick:M,disabled:!U||j,className:"btn-approve",title:U?"":y?"Cannot approve: Duplicate screenshot detected":"Complete all validations",children:j?"Processing...":"Approve"})]})]})}function uN(){const{user:t}=js(),[s,n]=d.useState([]),[a,r]=d.useState([]),[i,l]=d.useState(0),[o,c]=d.useState(!0),[h,p]=d.useState(null),[m,f]=d.useState([]),[g,j]=d.useState(""),[w,S]=d.useState(!0),[N,u]=d.useState([]),[x,y]=d.useState([]),[v,T]=d.useState(!1);d.useEffect(()=>{U()},[t==null?void 0:t.id]),d.useEffect(()=>{q()},[]),d.useEffect(()=>{if(!g){u([]),y([]);return}D(g)},[g]),d.useEffect(()=>{if(w)return;if(!g&&m.length===1){j(m[0].id);return}if(!g&&m.length>1){n([]);return}const z=g?a.filter(L=>L.categoryId===g):a;n(z),l(0)},[g,a,w,m]);const U=async()=>{if(t!=null&&t.id)try{S(!0);const z=await Ge.getMyCategories(),L=Array.isArray(z)?z:Array.isArray(z==null?void 0:z.data)?z.data:[];console.log("[LinkedinAuditor] Raw categories:",z);const C=L.length>0?Array.from(new Map(L.map(E=>[E.id,E])).values()):[];f(C),C.length===1?j(C[0].id):C.length>1&&j("")}catch(z){console.error("Failed to load categories:",z),p("Failed to load your assigned categories")}finally{S(!1)}},q=async()=>{var z,L;try{c(!0);const C=await je.getPendingLinkedInInquiry();r(C);const E=g?C.filter(A=>A.categoryId===g):C;n(E),l(0),p(null)}catch(C){p(((L=(z=C.response)==null?void 0:z.data)==null?void 0:L.message)||"Failed to load submissions")}finally{c(!1)}},D=async z=>{try{T(!0);const[L,C]=await Promise.all([je.getDisapprovalReasons({role:"linkedin_inquirer_auditor",reasonType:"rejection",categoryId:z}),je.getDisapprovalReasons({role:"linkedin_inquirer_auditor",reasonType:"flag",categoryId:z})]);u(Array.isArray(L)?L:[]),y(Array.isArray(C)?C:[])}catch(L){console.error("Failed to load disapproval reasons",L),p("Failed to load disapproval reasons")}finally{T(!1)}},M=z=>{const L=new Date,C=new Date(z),E=L.getTime()-C.getTime(),A=Math.floor(E/6e4),R=Math.floor(A/60),P=Math.floor(R/24);return P>0?`${P} day${P>1?"s":""} ago`:R>0?`${R} hour${R>1?"s":""} ago`:A>0?`${A} minute${A>1?"s":""} ago`:"Just now"};return w?e.jsx("div",{className:"li-state-screen",children:e.jsx("p",{children:"Loading categories"})}):m.length===0?e.jsx("div",{className:"li-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"li-inquiry-pending-container",children:[m.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:g,onChange:z=>j(z.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),m.map(z=>e.jsx("option",{value:z.id,children:z.name},z.id))]})]}),!g&&m.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view pending submissions."})}),h&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:h}),g&&m.length>0&&e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"li-state-screen",children:e.jsx("p",{children:"Loading submissions"})}),!o&&s.length===0&&e.jsx("div",{style:{background:"#f3f4f6",padding:"20px",borderRadius:"8px",textAlign:"center"},children:e.jsx("p",{style:{margin:0,color:"#666"},children:"No pending submissions to review in this category."})}),!o&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"li-pending-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h1",{children:"LinkedIn Inquiry Audits"}),e.jsxs("p",{children:[s.length," pending submission",s.length!==1?"s":""]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("button",{onClick:()=>l(z=>z>0?z-1:z),disabled:i===0,className:"btn-nav",children:" Previous"}),e.jsxs("span",{style:{fontWeight:600},children:[i+1," / ",s.length]}),e.jsx("button",{onClick:()=>l(z=>z<s.length-1?z+1:z),disabled:i>=s.length-1,className:"btn-nav",children:"Next "})]})]}),e.jsx("div",{className:"submissions-grid",style:{gridTemplateColumns:"1fr"},children:e.jsx(hN,{submission:s[i],onRefresh:()=>{q()},rejectionReasons:N,flagReasons:x,loadingReasons:v,formatTimeAgo:M},s[i].id)})]})]})]})}function hN({submission:t,onRefresh:s,rejectionReasons:n,flagReasons:a,loadingReasons:r,formatTimeAgo:i}){const[l,o]=d.useState(t.actions&&t.actions.length>0?t.actions[0].id:null),[c,h]=d.useState({}),[p,m]=d.useState({}),[f,g]=d.useState(!1);if(!t)return null;const j={LINKEDIN_OUTREACH:"Step 1: LinkedIn Outreach",LINKEDIN_EMAIL_REQUEST:"Step 2: Email Request",LINKEDIN_CATALOGUE:"Step 3: Catalogue Request"},w=async u=>{var x,y;try{g(!0),await je.auditLinkedInInquiry(t.id,u,{decision:"APPROVED"}),alert("Action approved successfully!"),s()}catch(v){alert(((y=(x=v.response)==null?void 0:x.data)==null?void 0:y.message)||"Failed to approve action")}finally{g(!1)}},S=async u=>{var y,v;const x=c[u];if(!x){alert("Please select a rejection reason");return}try{g(!0),await je.auditLinkedInInquiry(t.id,u,{decision:"REJECTED",reasonId:x}),alert("Action rejected successfully!"),s()}catch(T){alert(((v=(y=T.response)==null?void 0:y.data)==null?void 0:v.message)||"Failed to reject action")}finally{g(!1)}},N=async u=>{var y,v;const x=p[u];if(!x){alert("Please select a flag reason");return}try{g(!0),await je.auditLinkedInInquiry(t.id,u,{decision:"FLAGGED",reasonId:x}),alert("Action flagged successfully!"),s()}catch(T){alert(((v=(y=T.response)==null?void 0:y.data)==null?void 0:v.message)||"Failed to flag action")}finally{g(!1)}};return e.jsxs("div",{className:"li-submission-card",children:[e.jsxs("div",{className:"li-card-header",children:[e.jsx("span",{className:"li-type-badge",children:"LinkedIn Inquiry (3-Step)"}),e.jsx("span",{className:"li-time-badge",children:i(t.createdAt)})]}),e.jsx("div",{className:"li-card-content-wrapper",children:e.jsxs("div",{className:"li-card-body",children:[e.jsxs("section",{className:"li-info-section",children:[e.jsx("h3",{children:"Worker Information"}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"Name:"}),e.jsx("span",{className:"li-info-value",children:t.workerName||""})]}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"Email:"}),e.jsx("span",{className:"li-info-value",children:t.workerEmail||""})]}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"User ID:"}),e.jsx("span",{className:"li-info-value task-id",title:t.assignedToUserId,children:t.assignedToUserId})]})]}),e.jsxs("section",{className:"li-info-section",children:[e.jsx("h3",{children:"Task Information"}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"Task ID:"}),e.jsx("span",{className:"li-info-value task-id",title:t.id,children:t.id})]}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"Category:"}),e.jsx("span",{className:"li-info-value",children:t.categoryName||""})]}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:"li-info-value",style:{fontWeight:"600",color:"#0ea5e9"},children:t.status})]})]}),e.jsxs("section",{className:"li-info-section",children:[e.jsx("h3",{children:"Multi-Action Progress"}),e.jsx("div",{className:"li-timeline",children:t.actions&&t.actions.map((u,x)=>e.jsxs("div",{className:"li-timeline-item",style:{marginBottom:x<t.actions.length-1?"16px":"0"},children:[e.jsx("div",{className:"li-timeline-dot",style:{background:u.status==="APPROVED"?"#10b981":u.status==="REJECTED"?"#ef4444":"#f59e0b"}}),e.jsxs("div",{className:"li-timeline-content",children:[e.jsx("h4",{children:j[u.actionType]||u.actionType}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginTop:"8px"},children:[e.jsx("span",{className:"li-status-badge",style:{background:u.status==="APPROVED"?"#d1fae5":u.status==="REJECTED"?"#fee2e2":"#fef3c7",color:u.status==="APPROVED"?"#065f46":u.status==="REJECTED"?"#7c2d12":"#92400e",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:u.status}),u.isDuplicate&&e.jsx("span",{className:"li-duplicate-badge",style:{background:"#fee2e2",color:"#991b1b",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:" Duplicate Screenshot"})]})]}),e.jsx("button",{onClick:()=>o(l===u.id?null:u.id),className:"li-expand-btn",children:l===u.id?"":"+"})]},u.id))})]}),l&&t.actions&&(()=>{const u=t.actions.find(x=>x.id===l);return u?e.jsxs("section",{className:"li-info-section li-action-details",children:[e.jsxs("h3",{children:["Review: ",j[u.actionType]||u.actionType]}),u.isDuplicate&&e.jsxs("div",{style:{background:"#fee2e2",padding:"12px",borderRadius:"6px",marginBottom:"15px",border:"2px solid #dc2626",color:"#991b1b",fontSize:"13px",fontWeight:"600"},children:[" ",e.jsx("strong",{children:"System Alert: Duplicate."})," This screenshot matches a previously submitted image."]}),e.jsxs("div",{className:"li-action-screenshot",style:{marginBottom:"20px"},children:[e.jsx("h4",{style:{marginBottom:"10px"},children:"Screenshot Evidence"}),u.screenshotUrl?e.jsx("img",{src:u.screenshotUrl,alt:`${u.actionType} screenshot`,className:"li-screenshot-image",onClick:()=>window.open(u.screenshotUrl,"_blank"),style:{cursor:"pointer"},title:"Click to open in new tab"}):e.jsx("div",{className:"li-no-screenshot",children:"No screenshot available"})]}),u.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"li-reason-selectors",style:{display:"flex",gap:"15px",marginBottom:"15px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600",fontSize:"13px"},children:"Rejection Reason:"}),e.jsxs("select",{value:c[u.id]||"",onChange:x=>{h({...c,[u.id]:x.target.value}),m({...p,[u.id]:""})},disabled:r,style:{width:"100%",padding:"8px",fontSize:"13px",borderRadius:"4px"},children:[e.jsx("option",{value:"",children:"Select reason..."}),n.map(x=>e.jsx("option",{value:x.id,children:x.reason},x.id))]})]}),e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600",fontSize:"13px"},children:"Flag Reason:"}),e.jsxs("select",{value:p[u.id]||"",onChange:x=>{m({...p,[u.id]:x.target.value}),h({...c,[u.id]:""})},disabled:r||u.isDuplicate,style:{width:"100%",padding:"8px",fontSize:"13px",borderRadius:"4px"},children:[e.jsx("option",{value:"",children:"Not flagging"}),a.map(x=>e.jsx("option",{value:x.id,children:x.reason},x.id))]}),u.isDuplicate&&e.jsx("p",{style:{fontSize:"11px",color:"#666",marginTop:"3px"},children:"Duplicate  use rejection."})]})]}),r&&e.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"10px"},children:"Loading reasons"})]}),e.jsxs("div",{className:"li-action-controls",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>S(u.id),disabled:f||u.status!=="PENDING"||!c[u.id],className:"li-btn-reject",title:c[u.id]?"":"Select a rejection reason",children:f?"Processing...":"Reject"}),e.jsx("button",{onClick:()=>N(u.id),disabled:f||u.status!=="PENDING"||!p[u.id]||u.isDuplicate,className:"li-btn-secondary",title:u.isDuplicate?"Duplicate must be rejected":p[u.id]?"":"Select a flag reason",children:f?"Processing...":"Flag"}),e.jsx("button",{onClick:()=>w(u.id),disabled:f||u.status!=="PENDING"||u.isDuplicate,className:"li-btn-approve",title:u.isDuplicate?"Cannot approve duplicate":"",children:f?"Processing...":"Approve"})]})]}):null})()]})})]})}function mN(){return e.jsxs("div",{className:"wb-audit-dash",children:[e.jsx("header",{className:"dash-header",children:e.jsxs("div",{className:"welcome-text",children:[e.jsx("h1",{children:"Website Research Quality Assurance"}),e.jsx("p",{children:"Review and validate researcher submissions for website targets."})]})}),e.jsxs("section",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Pending Reviews"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Approved Submissions"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Rejected Submissions"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Avg. Review Time"}),e.jsx("h2",{className:"metric-value",children:""})]})]}),e.jsxs("div",{className:"dash-content-layout",children:[e.jsxs("section",{className:"queue-status-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Research Submissions Queue"}),e.jsx("span",{className:"badge-live",children:"LIVE"})]}),e.jsxs("div",{className:"queue-empty",children:[e.jsx("p",{children:"No submissions currently queued for review."}),e.jsx("span",{children:"Waiting for backend data"})]})]}),e.jsxs("section",{className:"accuracy-chart-card",children:[e.jsx("h3",{children:"Submissions by Category"}),e.jsx("div",{className:"chart-placeholder empty",children:e.jsx("p",{children:"Submission data unavailable"})}),e.jsx("div",{className:"chart-legend",children:e.jsx("p",{children:"Charts will render automatically once data is received."})})]})]}),e.jsx("footer",{className:"dash-footer",children:e.jsxs("div",{className:"system-status",children:[e.jsx("span",{className:"status-dot green"}),"Waiting for system status update"]})})]})}function pN(){const{user:t}=js(),[s,n]=d.useState([]),[a,r]=d.useState([]),[i,l]=d.useState(!0),[o,c]=d.useState(null),[h,p]=d.useState([]),[m,f]=d.useState(""),[g,j]=d.useState(!0),[w,S]=d.useState([]),[N,u]=d.useState([]),[x,y]=d.useState(!1);d.useEffect(()=>{v()},[t==null?void 0:t.id]),d.useEffect(()=>{T()},[]),d.useEffect(()=>{if(!m){S([]),u([]);return}U(m)},[m]),d.useEffect(()=>{if(g)return;if(!m&&h.length===1){f(h[0].id);return}if(!m&&h.length>1){n([]);return}const L=m?a.filter(C=>C.categoryId===m):a;n(L)},[m,a,g,h]);const v=async()=>{if(t!=null&&t.id)try{j(!0);const L=await Ge.getMyCategories(),C=Array.isArray(L)?L:Array.isArray(L==null?void 0:L.data)?L.data:[];console.log("[Auditor] Raw categories:",L);const E=C.length>0?Array.from(new Map(C.map(A=>[A.id,A])).values()):[];p(E),E.length===1?f(E[0].id):E.length>1&&f("")}catch(L){console.error("Failed to load categories:",L),c("Failed to load your assigned categories")}finally{j(!1)}},T=async()=>{var L,C;try{l(!0);const A=(await je.getPendingResearch()).filter(P=>P.targetType==="COMPANY");r(A);const R=m?A.filter(P=>P.categoryId===m):A;n(R),c(null)}catch(E){c(((C=(L=E.response)==null?void 0:L.data)==null?void 0:C.message)||"Failed to load submissions")}finally{l(!1)}},U=async L=>{try{y(!0);const[C,E]=await Promise.all([je.getDisapprovalReasons({role:"website_research_auditor",reasonType:"rejection",categoryId:L}),je.getDisapprovalReasons({role:"website_research_auditor",reasonType:"flag",categoryId:L})]);S(Array.isArray(C)?C:[]),u(Array.isArray(E)?E:[])}catch(C){console.error("Failed to load disapproval reasons",C)}finally{y(!1)}},q=async L=>{var C,E;try{await je.auditResearch(L,{decision:"APPROVED"}),n(A=>A.filter(R=>R.id!==L))}catch(A){alert(((E=(C=A.response)==null?void 0:C.data)==null?void 0:E.message)||"Failed to approve submission")}},D=async(L,C)=>{var E,A;try{await je.auditResearch(L,{decision:"REJECTED",reasonId:C}),n(R=>R.filter(P=>P.id!==L))}catch(R){alert(((A=(E=R.response)==null?void 0:E.data)==null?void 0:A.message)||"Failed to reject submission")}},M=async(L,C)=>{var E,A;try{await je.auditResearch(L,{decision:"FLAGGED",reasonId:C}),n(R=>R.filter(P=>P.id!==L))}catch(R){alert(((A=(E=R.response)==null?void 0:E.data)==null?void 0:A.message)||"Failed to flag submission")}},z=L=>{const C=new Date,E=new Date(L),A=C.getTime()-E.getTime(),R=Math.floor(A/6e4),P=Math.floor(R/60),O=Math.floor(P/24);return O>0?`${O} day${O>1?"s":""} ago`:P>0?`${P} hour${P>1?"s":""} ago`:R>0?`${R} minute${R>1?"s":""} ago`:"Just now"};return g?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"Loading categories"})}):h.length===0?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"wb-research-pending-container",children:[h.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:m,onChange:L=>f(L.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),h.map(L=>e.jsx("option",{value:L.id,children:L.name},L.id))]})]}),!m&&h.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view pending submissions."})}),o&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:o}),m&&h.length>0&&e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"Loading submissions"})}),!i&&s.length===0&&e.jsx("div",{style:{background:"#f3f4f6",padding:"20px",borderRadius:"8px",textAlign:"center"},children:e.jsx("p",{style:{margin:0,color:"#666"},children:"No pending submissions to review in this category."})}),!i&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"wb-pending-header",children:e.jsxs("div",{children:[e.jsx("h1",{children:"Website Research Audits"}),e.jsxs("p",{children:[s.length," pending submission",s.length!==1?"s":""]})]})}),e.jsx("div",{className:"submissions-grid",children:s.map(L=>e.jsx(fN,{submission:L,onApprove:q,onReject:D,onFlag:M,rejectionReasons:w,flagReasons:N,loadingReasons:x,formatTimeAgo:z},L.id))})]})]})]})}function fN({submission:t,onApprove:s,onReject:n,onFlag:a,rejectionReasons:r,flagReasons:i,loadingReasons:l,formatTimeAgo:o}){const[c,h]=d.useState({noRecentContact:!1,companyName:!1,companyLink:!1,country:!1,language:!1}),[p,m]=d.useState(""),[f,g]=d.useState(""),[j,w]=d.useState(!1),S=t.submission;if(!S)return null;const u=Object.values(c).every(D=>D),x=!!p,y=!!f,v=async()=>{if(u){w(!0);try{await s(t.id)}finally{w(!1)}}},T=async()=>{if(!(!x||!p)){w(!0);try{await n(t.id,p)}finally{w(!1)}}},U=async()=>{if(!(!y||!f)){w(!0);try{await a(t.id,f)}finally{w(!1)}}},q=D=>{h(M=>({...M,[D]:!M[D]}))};return e.jsxs("div",{className:"submission-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("span",{className:"type-badge",children:"Website Research"}),e.jsx("span",{className:"time-badge",children:o(S.createdAt)})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Context"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Company Name:"}),e.jsx("span",{className:"info-value",children:t.companyName||"Unknown"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Company Link:"}),e.jsx("a",{href:`https://${t.companyDomain}`,target:"_blank",rel:"noopener noreferrer",className:"company-link",children:t.companyDomain||"N/A"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Country:"}),e.jsx("span",{className:"info-value",children:t.companyCountry||"N/A"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Language:"}),e.jsx("span",{className:"info-value",children:S.language||"N/A"})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Submission Details"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Task ID:"}),e.jsx("span",{className:"info-value task-id",title:t.id,children:t.id})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Worker"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.assignedToUserId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.workerName||"Unknown"})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Email:"}),e.jsx("span",{className:"nested-value",children:t.workerEmail||"N/A"})]})]})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Category"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.categoryId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.categoryName||"Unknown"})]})]})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Validation Checklist"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.noRecentContact,onChange:()=>q("noRecentContact")}),e.jsx("span",{children:"No recent contact (30 days)"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.companyName,onChange:()=>q("companyName")}),e.jsxs("span",{children:["Company Name: ",t.companyName||"Unknown"]})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.companyLink,onChange:()=>q("companyLink")}),e.jsxs("span",{children:["Company Link: ",t.companyDomain||"N/A"]})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.country,onChange:()=>q("country")}),e.jsxs("span",{children:["Country: ",t.companyCountry||"N/A"]})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.language,onChange:()=>q("language")}),e.jsxs("span",{children:["Language: ",S.language||"N/A"]})]})]})]}),S.email&&e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Additional Data"}),S.email&&e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Email:"}),e.jsx("span",{children:S.email})]}),S.phone&&e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Phone:"}),e.jsx("span",{children:S.phone})]}),S.techStack&&e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Tech Stack:"}),e.jsx("span",{children:S.techStack})]})]}),e.jsxs("section",{className:"controls-section",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Rejection Reason:"}),e.jsxs("select",{value:p,onChange:D=>{m(D.target.value),D.target.value&&g("")},className:"rejection-select",disabled:l||!!f,children:[e.jsx("option",{value:"",children:"Select reason..."}),r.map(D=>e.jsx("option",{value:D.id,children:D.description},D.id))]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Flag Reason:"}),e.jsxs("select",{value:f,onChange:D=>{g(D.target.value),D.target.value&&m("")},className:`suspicious-select ${f?"active":""}`,disabled:l||!!p,children:[e.jsx("option",{value:"",children:"Not flagged"}),i.map(D=>e.jsx("option",{value:D.id,children:D.description},D.id))]})]})]})]}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{onClick:T,disabled:!x||j,className:"btn-reject",title:x?"":"Select a rejection reason",children:j?"Processing...":"Reject"}),e.jsx("button",{onClick:U,disabled:!y||j,className:"btn-flag",title:y?"":"Select a flag reason",children:j?"Processing...":"Flag"}),e.jsx("button",{onClick:v,disabled:!u||j,className:"btn-approve",title:u?"":f?"Clear flag reason first":"Complete all validations",children:j?"Processing...":"Approve"})]})]})}function xN(){return e.jsxs("div",{className:"wb-audit-dash",children:[e.jsx("header",{className:"dash-header",children:e.jsxs("div",{className:"welcome-text",children:[e.jsx("h1",{children:"LinkedIn Research Quality Assurance"}),e.jsx("p",{children:"Review and validate researcher submissions for LinkedIn profiles."})]})}),e.jsxs("section",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Pending Reviews"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Approved Submissions"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Rejected Submissions"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Avg. Review Time"}),e.jsx("h2",{className:"metric-value",children:""})]})]}),e.jsxs("div",{className:"dash-content-layout",children:[e.jsxs("section",{className:"queue-status-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Research Submissions Queue"}),e.jsx("span",{className:"badge-live",children:"LIVE"})]}),e.jsxs("div",{className:"queue-empty",children:[e.jsx("p",{children:"No submissions currently queued for review."}),e.jsx("span",{children:"Waiting for backend data"})]})]}),e.jsxs("section",{className:"accuracy-chart-card",children:[e.jsx("h3",{children:"Submissions by Category"}),e.jsx("div",{className:"chart-placeholder empty",children:e.jsx("p",{children:"Submission data unavailable"})}),e.jsx("div",{className:"chart-legend",children:e.jsx("p",{children:"Charts will render automatically once data is received."})})]})]}),e.jsx("footer",{className:"dash-footer",children:e.jsxs("div",{className:"system-status",children:[e.jsx("span",{className:"status-dot green"}),"Waiting for system status update"]})})]})}function gN(){const{user:t}=js(),[s,n]=d.useState([]),[a,r]=d.useState([]),[i,l]=d.useState([]),[o,c]=d.useState(""),[h,p]=d.useState(!0),[m,f]=d.useState(!0),[g,j]=d.useState(null),[w,S]=d.useState([]),[N,u]=d.useState([]),[x,y]=d.useState(!0);d.useEffect(()=>{v()},[t==null?void 0:t.id]),d.useEffect(()=>{T()},[]),d.useEffect(()=>{o&&U()},[o]),d.useEffect(()=>{if(m)return;if(!o&&i.length===1){c(i[0].id);return}if(!o&&i.length>1){n([]);return}const L=o?a.filter(C=>C.categoryId===o):a;n(L)},[o,a,m,i]);const v=async()=>{if(t!=null&&t.id)try{f(!0);const L=await Ge.getMyCategories(),C=Array.isArray(L)?L:Array.isArray(L==null?void 0:L.data)?L.data:[],E=C.length>0?Array.from(new Map(C.map(A=>[A.id,A])).values()):[];l(E),E.length===1&&c(E[0].id)}catch(L){console.error("Failed to load categories:",L),j("Failed to load your assigned categories")}finally{f(!1)}},T=async()=>{var L,C;try{p(!0);const A=(await je.getPendingResearch()).filter(P=>P.targetType!=="COMPANY");r(A);const R=o?A.filter(P=>P.categoryId===o):A;n(R),j(null)}catch(E){j(((C=(L=E.response)==null?void 0:L.data)==null?void 0:C.message)||"Failed to load submissions")}finally{p(!1)}},U=async()=>{if(o)try{y(!0);const[L,C]=await Promise.all([je.getDisapprovalReasons({role:"linkedin_research_auditor",categoryId:o,reasonType:"rejection"}),je.getDisapprovalReasons({role:"linkedin_research_auditor",categoryId:o,reasonType:"flag"})]);S(L),u(C)}catch(L){console.error("Failed to load disapproval reasons:",L)}finally{y(!1)}},q=async L=>{var C,E;try{await je.auditResearch(L,{decision:"APPROVED"}),n(A=>A.filter(R=>R.id!==L))}catch(A){alert(((E=(C=A.response)==null?void 0:C.data)==null?void 0:E.message)||"Failed to approve submission")}},D=async(L,C)=>{var E,A;try{await je.auditResearch(L,{decision:"REJECTED",reasonId:C}),n(R=>R.filter(P=>P.id!==L))}catch(R){alert(((A=(E=R.response)==null?void 0:E.data)==null?void 0:A.message)||"Failed to reject submission")}},M=async(L,C)=>{var E,A;try{await je.auditResearch(L,{decision:"FLAGGED",reasonId:C}),n(R=>R.filter(P=>P.id!==L))}catch(R){alert(((A=(E=R.response)==null?void 0:E.data)==null?void 0:A.message)||"Failed to flag submission")}},z=L=>{const C=new Date,E=new Date(L),A=C.getTime()-E.getTime(),R=Math.floor(A/6e4),P=Math.floor(R/60),O=Math.floor(P/24);return O>0?`${O} day${O>1?"s":""} ago`:P>0?`${P} hour${P>1?"s":""} ago`:R>0?`${R} minute${R>1?"s":""} ago`:"Just now"};return m?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"Loading categories"})}):i.length===0?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"wb-research-pending-container",children:[i.length>1&&e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Select Category:"}),e.jsxs("select",{value:o,onChange:L=>c(L.target.value),style:{width:"100%",maxWidth:300,padding:10,border:"1px solid #cbd5e1",borderRadius:6,fontSize:14,fontWeight:500},children:[e.jsx("option",{value:"",children:"Choose a category..."}),i.map(L=>e.jsx("option",{value:L.id,children:L.name},L.id))]})]}),!o&&i.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:20,borderRadius:8,marginBottom:20,border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view pending submissions."})}),g&&e.jsx("div",{style:{background:"#fee",padding:15,borderRadius:8,marginBottom:20,color:"#c00"},children:g}),o&&!h&&s.length===0&&e.jsx("div",{style:{background:"#f3f4f6",padding:20,borderRadius:8,textAlign:"center"},children:e.jsx("p",{style:{margin:0,color:"#666"},children:"No pending LinkedIn research submissions for this category."})}),o&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"wb-pending-header",children:[e.jsx("h1",{children:"LinkedIn Research Audits"}),e.jsxs("p",{children:[s.length," pending submission",s.length!==1?"s":""]})]}),e.jsx("div",{className:"submissions-grid",children:s.map(L=>e.jsx(jN,{submission:L,onApprove:q,onReject:D,onFlag:M,rejectionReasons:w,flagReasons:N,loadingReasons:x,formatTimeAgo:z},L.id))})]})]})}function jN({submission:t,onApprove:s,onReject:n,onFlag:a,rejectionReasons:r,flagReasons:i,loadingReasons:l,formatTimeAgo:o}){const[c,h]=d.useState({profileUrl:!1,contactName:!1,contactLink:!1,country:!1,language:!1}),[p,m]=d.useState(""),[f,g]=d.useState(""),[j,w]=d.useState(!1),S=(()=>{var z;const M=((z=t.submission)==null?void 0:z.contactLinkedinUrl)||t.linkedInUrl||t.targetId;return M?M.startsWith("http")?M:`https://${M}`:""})(),u=Object.values(c).every(Boolean)&&!f,x=!!p,y=!!f,v=M=>h(z=>({...z,[M]:!z[M]})),T=async()=>{if(u){w(!0);try{await s(t.id)}finally{w(!1)}}},U=async()=>{if(!(!x||!p)){w(!0);try{await n(t.id,p)}finally{w(!1)}}},q=async()=>{if(!(!y||!f)){w(!0);try{await a(t.id,f)}finally{w(!1)}}},D=t.submission;return e.jsxs("div",{className:"submission-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("span",{className:"type-badge",children:"LinkedIn Research"}),e.jsx("span",{className:"time-badge",children:D?o(D.createdAt):"Pending"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Target"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"LinkedIn Profile/Search:"}),e.jsx("a",{className:"company-link",href:S,target:"_blank",rel:"noopener noreferrer",children:S})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Contact Details"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Contact Name:"}),e.jsx("span",{className:"info-value",children:(D==null?void 0:D.contactName)||t.linkedInContactName||"Unknown"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"LinkedIn URL:"}),e.jsx("span",{className:"info-value",children:(D==null?void 0:D.contactLinkedinUrl)||t.linkedInUrl||"N/A"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Country:"}),e.jsx("span",{className:"info-value",children:(D==null?void 0:D.country)||t.linkedInCountry||"N/A"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Language:"}),e.jsx("span",{className:"info-value",children:(D==null?void 0:D.language)||t.linkedInLanguage||"N/A"})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Submission Details"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Task ID:"}),e.jsx("span",{className:"info-value task-id",title:t.id,children:t.id})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Worker"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.assignedToUserId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.workerName||"Unknown"})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Email:"}),e.jsx("span",{className:"nested-value",children:t.workerEmail||"N/A"})]})]})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Category"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.categoryId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.categoryName||"Unknown"})]})]})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Validation Checklist"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.profileUrl,onChange:()=>v("profileUrl")}),e.jsx("span",{children:"Open the LinkedIn link and verify target matches"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.contactName,onChange:()=>v("contactName")}),e.jsx("span",{children:"Contact Name present and correct"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.contactLink,onChange:()=>v("contactLink")}),e.jsx("span",{children:"LinkedIn URL present and valid"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.country,onChange:()=>v("country")}),e.jsx("span",{children:"Country present"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.language,onChange:()=>v("language")}),e.jsx("span",{children:"Language present"})]})]})]}),e.jsxs("section",{className:"controls-section",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Rejection Reason:"}),e.jsxs("select",{value:p,onChange:M=>{m(M.target.value),M.target.value&&g("")},className:"rejection-select",disabled:l||!!f,children:[e.jsx("option",{value:"",children:"Select reason..."}),r.map(M=>e.jsx("option",{value:M.id,children:M.description},M.id))]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Flag Reason:"}),e.jsxs("select",{value:f,onChange:M=>{g(M.target.value),M.target.value&&m("")},className:`suspicious-select ${f?"active":""}`,disabled:l||!!p,children:[e.jsx("option",{value:"",children:"Not flagged"}),i.map(M=>e.jsx("option",{value:M.id,children:M.description},M.id))]})]})]})]}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{className:"btn-reject",onClick:U,disabled:!x||j,children:j?"Processing...":"Reject"}),e.jsx("button",{className:"btn-flag",onClick:q,disabled:!y||j,children:j?"Processing...":"Flag"}),e.jsx("button",{className:"btn-approve",onClick:T,disabled:!u||j,children:j?"Processing...":"Approve"})]})]})}function yN(){return e.jsxs(Gx,{children:[e.jsx(H,{path:"/login",element:e.jsx(zj,{})}),e.jsx(H,{path:"/forbidden",element:e.jsx($j,{})}),e.jsx(H,{element:e.jsx(kt,{allowedRoles:["super_admin"]}),children:e.jsxs(H,{path:"/super-admin",element:e.jsx(Vj,{}),children:[e.jsx(H,{index:!0,element:e.jsx(We,{to:"dashboard",replace:!0})}),e.jsx(H,{path:"dashboard",element:e.jsx(Ry,{})}),e.jsx(H,{path:"users",element:e.jsx(kv,{})}),e.jsx(H,{path:"users/create",element:e.jsx(wv,{})}),e.jsx(H,{path:"categories",element:e.jsx(Sv,{})}),e.jsx(H,{path:"user-categories",element:e.jsx(Xv,{})}),e.jsx(H,{path:"category-rules",element:e.jsx(Cv,{})}),e.jsx(H,{path:"action-config",element:e.jsx(Fv,{})}),e.jsx(H,{path:"company-blacklist",element:e.jsx(_v,{})}),e.jsx(H,{path:"disapproval-reasons",element:e.jsx(Uv,{})}),e.jsx(H,{path:"company-types",element:e.jsx(Ov,{})}),e.jsx(H,{path:"job-types",element:e.jsx(qv,{})}),e.jsx(H,{path:"pricing",element:e.jsx(Hv,{})}),e.jsx(H,{path:"role-performance",element:e.jsx(Jv,{})}),e.jsx(H,{path:"logs",element:e.jsx(Yv,{})}),e.jsx(H,{path:"notices",element:e.jsx(kd,{})}),e.jsx(H,{path:"messages",element:e.jsx(wt,{})})]})}),e.jsx(H,{element:e.jsx(kt,{allowedRoles:["sub_admin"]}),children:e.jsxs(H,{path:"/sub-admin",element:e.jsx(Gj,{}),children:[e.jsx(H,{index:!0,element:e.jsx(We,{to:"dashboard",replace:!0})}),e.jsx(H,{path:"dashboard",element:e.jsx(Ay,{})}),e.jsx(H,{path:"users",element:e.jsx(pv,{})}),e.jsx(H,{path:"company-types",element:e.jsx(uv,{})}),e.jsx(H,{path:"job-types",element:e.jsx(hv,{})}),e.jsx(H,{path:"disapproval-reasons",element:e.jsx(mv,{})}),e.jsx(H,{path:"daily-limits",element:e.jsx(fv,{})}),e.jsx(H,{path:"create-tasks",element:e.jsx(xv,{})}),e.jsx(H,{path:"research/website",element:e.jsx(Zy,{})}),e.jsx(H,{path:"research/linkedin",element:e.jsx(ev,{})}),e.jsx(H,{path:"research/create",element:e.jsx(tv,{})}),e.jsx(H,{path:"inquiry/website",element:e.jsx(sv,{})}),e.jsx(H,{path:"inquiry/linkedin",element:e.jsx(nv,{})}),e.jsx(H,{path:"inquiry/create",element:e.jsx(av,{})}),e.jsx(H,{path:"audit/website-research",element:e.jsx(Nd,{})}),e.jsx(H,{path:"audit/linkedin-research",element:e.jsx(Nd,{})}),e.jsx(H,{path:"audit/website-inquiry",element:e.jsx(bd,{})}),e.jsx(H,{path:"audit/linkedin-inquiry",element:e.jsx(bd,{})}),e.jsx(H,{path:"review/research/website/:taskId",element:e.jsx(rv,{})}),e.jsx(H,{path:"review/research/linkedin/:taskId",element:e.jsx(iv,{})}),e.jsx(H,{path:"review/inquiry/website/:taskId",element:e.jsx(lv,{})}),e.jsx(H,{path:"review/inquiry/linkedin/:taskId",element:e.jsx(ov,{})}),e.jsx(H,{path:"performance",element:e.jsx(cv,{})}),e.jsx(H,{path:"top-workers",element:e.jsx(dv,{})}),e.jsx(H,{path:"notices",element:e.jsx(kd,{})}),e.jsx(H,{path:"messages",element:e.jsx(wt,{})})]})}),e.jsx(H,{element:e.jsx(kt,{allowedRoles:["website_researcher"]}),children:e.jsxs(H,{path:"/researcher/website",element:e.jsx(Jj,{}),children:[e.jsx(H,{index:!0,element:e.jsx(We,{to:"dashboard",replace:!0})}),e.jsx(H,{path:"dashboard",element:e.jsx(gv,{})}),e.jsx(H,{path:"tasks",element:e.jsx(Zv,{})}),e.jsx(H,{path:"messages",element:e.jsx(wt,{})})]})}),e.jsx(H,{element:e.jsx(kt,{allowedRoles:["linkedin_researcher"]}),children:e.jsxs(H,{path:"/researcher/linkedin",element:e.jsx(Yj,{}),children:[e.jsx(H,{index:!0,element:e.jsx(We,{to:"dashboard",replace:!0})}),e.jsx(H,{path:"dashboard",element:e.jsx(jv,{})}),e.jsx(H,{path:"tasks",element:e.jsx(eN,{})}),e.jsx(H,{path:"messages",element:e.jsx(wt,{})})]})}),e.jsx(H,{element:e.jsx(kt,{allowedRoles:["website_inquirer"]}),children:e.jsxs(H,{path:"/inquirer/website",element:e.jsx(Zj,{}),children:[e.jsx(H,{index:!0,element:e.jsx(We,{to:"dashboard",replace:!0})}),e.jsx(H,{path:"dashboard",element:e.jsx(yv,{})}),e.jsx(H,{path:"tasks",element:e.jsx(nN,{})}),e.jsx(H,{path:"uploads",element:e.jsx(aN,{})}),e.jsx(H,{path:"messages",element:e.jsx(wt,{})})]})}),e.jsx(H,{element:e.jsx(kt,{allowedRoles:["linkedin_inquirer"]}),children:e.jsxs(H,{path:"/inquirer/linkedin",element:e.jsx(ty,{}),children:[e.jsx(H,{index:!0,element:e.jsx(We,{to:"dashboard",replace:!0})}),e.jsx(H,{path:"dashboard",element:e.jsx(vv,{})}),e.jsx(H,{path:"tasks",element:e.jsx(lN,{})}),e.jsx(H,{path:"uploads",element:e.jsx(oN,{})}),e.jsx(H,{path:"messages",element:e.jsx(wt,{})})]})}),e.jsx(H,{element:e.jsx(kt,{allowedRoles:["website_inquirer_auditor"]}),children:e.jsxs(H,{path:"/auditor/website",element:e.jsx(ny,{}),children:[e.jsx(H,{index:!0,element:e.jsx(We,{to:"dashboard",replace:!0})}),e.jsx(H,{path:"dashboard",element:e.jsx(Nv,{})}),e.jsx(H,{path:"pending",element:e.jsx(cN,{})}),e.jsx(H,{path:"messages",element:e.jsx(wt,{})})]})}),e.jsx(H,{element:e.jsx(kt,{allowedRoles:["linkedin_inquirer_auditor"]}),children:e.jsxs(H,{path:"/auditor/linkedin",element:e.jsx(ry,{}),children:[e.jsx(H,{index:!0,element:e.jsx(We,{to:"dashboard",replace:!0})}),e.jsx(H,{path:"dashboard",element:e.jsx(bv,{})}),e.jsx(H,{path:"pending",element:e.jsx(uN,{})}),e.jsx(H,{path:"messages",element:e.jsx(wt,{})})]})}),e.jsx(H,{element:e.jsx(kt,{allowedRoles:["website_research_auditor"]}),children:e.jsxs(H,{path:"/auditor-researcher/website",element:e.jsx(ly,{}),children:[e.jsx(H,{index:!0,element:e.jsx(We,{to:"dashboard",replace:!0})}),e.jsx(H,{path:"dashboard",element:e.jsx(mN,{})}),e.jsx(H,{path:"pending",element:e.jsx(pN,{})}),e.jsx(H,{path:"messages",element:e.jsx(wt,{})})]})}),e.jsx(H,{element:e.jsx(kt,{allowedRoles:["linkedin_research_auditor"]}),children:e.jsxs(H,{path:"/auditor-researcher/linkedin",element:e.jsx(cy,{}),children:[e.jsx(H,{index:!0,element:e.jsx(We,{to:"dashboard",replace:!0})}),e.jsx(H,{path:"dashboard",element:e.jsx(xN,{})}),e.jsx(H,{path:"pending",element:e.jsx(gN,{})}),e.jsx(H,{path:"messages",element:e.jsx(wt,{})})]})}),e.jsx(H,{path:"/",element:e.jsx(We,{to:"/login",replace:!0})}),e.jsx(H,{path:"*",element:e.jsx(We,{to:"/login",replace:!0})})]})}function vN(){const{showSessionExpiredMessage:t,setShowSessionExpiredMessage:s}=gs(),[n,a]=d.useState(!1);return d.useEffect(()=>{if(t){a(!0);const r=setTimeout(()=>{a(!1),s(!1)},5e3);return()=>clearTimeout(r)}},[t,s]),n?e.jsx("div",{className:"session-timeout-notification",children:e.jsxs("div",{className:"session-timeout-content",children:[e.jsx("div",{className:"session-timeout-icon",children:""}),e.jsxs("div",{className:"session-timeout-text",children:[e.jsx("strong",{children:"Session Expired"}),e.jsx("p",{children:"Your session has ended. Please login again to continue working."})]})]})}):null}function NN(){return e.jsxs(Mj,{children:[e.jsx(vN,{}),e.jsx(yN,{})]})}Ii.createRoot(document.getElementById("root")).render(e.jsx(_d.StrictMode,{children:e.jsx(tg,{children:e.jsx(NN,{})})}));
