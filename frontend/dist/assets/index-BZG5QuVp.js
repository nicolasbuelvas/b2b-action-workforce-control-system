function vm(t,s){for(var n=0;n<s.length;n++){const r=s[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Nm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nd={exports:{}},ka={},bd={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var or=Symbol.for("react.element"),bm=Symbol.for("react.portal"),wm=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),Sm=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),Rm=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Em=Symbol.for("react.suspense"),Tm=Symbol.for("react.memo"),Lm=Symbol.for("react.lazy"),Fo=Symbol.iterator;function Im(t){return t===null||typeof t!="object"?null:(t=Fo&&t[Fo]||t["@@iterator"],typeof t=="function"?t:null)}var wd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kd=Object.assign,Sd={};function dn(t,s,n){this.props=t,this.context=s,this.refs=Sd,this.updater=n||wd}dn.prototype.isReactComponent={};dn.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};dn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cd(){}Cd.prototype=dn.prototype;function Ll(t,s,n){this.props=t,this.context=s,this.refs=Sd,this.updater=n||wd}var Il=Ll.prototype=new Cd;Il.constructor=Ll;kd(Il,dn.prototype);Il.isPureReactComponent=!0;var _o=Array.isArray,Rd=Object.prototype.hasOwnProperty,Pl={current:null},Ad={key:!0,ref:!0,__self:!0,__source:!0};function Ed(t,s,n){var r,a={},i=null,l=null;if(s!=null)for(r in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)Rd.call(s,r)&&!Ad.hasOwnProperty(r)&&(a[r]=s[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var c=Array(o),h=0;h<o;h++)c[h]=arguments[h+2];a.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:or,type:t,key:i,ref:l,props:a,_owner:Pl.current}}function Pm(t,s){return{$$typeof:or,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Dl(t){return typeof t=="object"&&t!==null&&t.$$typeof===or}function Dm(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return s[n]})}var Oo=/\/+/g;function Ja(t,s){return typeof t=="object"&&t!==null&&t.key!=null?Dm(""+t.key):s.toString(36)}function _r(t,s,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case or:case bm:l=!0}}if(l)return l=t,a=a(l),t=r===""?"."+Ja(l,0):r,_o(a)?(n="",t!=null&&(n=t.replace(Oo,"$&/")+"/"),_r(a,s,n,"",function(h){return h})):a!=null&&(Dl(a)&&(a=Pm(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Oo,"$&/")+"/")+t)),s.push(a)),1;if(l=0,r=r===""?".":r+":",_o(t))for(var o=0;o<t.length;o++){i=t[o];var c=r+Ja(i,o);l+=_r(i,s,n,c,a)}else if(c=Im(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=r+Ja(i,o++),l+=_r(i,s,n,c,a);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function jr(t,s,n){if(t==null)return t;var r=[],a=0;return _r(t,r,"","",function(i){return s.call(n,i,a++)}),r}function Fm(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Ve={current:null},Or={transition:null},_m={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Or,ReactCurrentOwner:Pl};function Td(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:jr,forEach:function(t,s,n){jr(t,function(){s.apply(this,arguments)},n)},count:function(t){var s=0;return jr(t,function(){s++}),s},toArray:function(t){return jr(t,function(s){return s})||[]},only:function(t){if(!Dl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=dn;oe.Fragment=wm;oe.Profiler=Sm;oe.PureComponent=Ll;oe.StrictMode=km;oe.Suspense=Em;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_m;oe.act=Td;oe.cloneElement=function(t,s,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kd({},t.props),a=t.key,i=t.ref,l=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=Pl.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)Rd.call(s,c)&&!Ad.hasOwnProperty(c)&&(r[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var h=0;h<c;h++)o[h]=arguments[h+2];r.children=o}return{$$typeof:or,type:t.type,key:a,ref:i,props:r,_owner:l}};oe.createContext=function(t){return t={$$typeof:Rm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cm,_context:t},t.Consumer=t};oe.createElement=Ed;oe.createFactory=function(t){var s=Ed.bind(null,t);return s.type=t,s};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:Am,render:t}};oe.isValidElement=Dl;oe.lazy=function(t){return{$$typeof:Lm,_payload:{_status:-1,_result:t},_init:Fm}};oe.memo=function(t,s){return{$$typeof:Tm,type:t,compare:s===void 0?null:s}};oe.startTransition=function(t){var s=Or.transition;Or.transition={};try{t()}finally{Or.transition=s}};oe.unstable_act=Td;oe.useCallback=function(t,s){return Ve.current.useCallback(t,s)};oe.useContext=function(t){return Ve.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Ve.current.useDeferredValue(t)};oe.useEffect=function(t,s){return Ve.current.useEffect(t,s)};oe.useId=function(){return Ve.current.useId()};oe.useImperativeHandle=function(t,s,n){return Ve.current.useImperativeHandle(t,s,n)};oe.useInsertionEffect=function(t,s){return Ve.current.useInsertionEffect(t,s)};oe.useLayoutEffect=function(t,s){return Ve.current.useLayoutEffect(t,s)};oe.useMemo=function(t,s){return Ve.current.useMemo(t,s)};oe.useReducer=function(t,s,n){return Ve.current.useReducer(t,s,n)};oe.useRef=function(t){return Ve.current.useRef(t)};oe.useState=function(t){return Ve.current.useState(t)};oe.useSyncExternalStore=function(t,s,n){return Ve.current.useSyncExternalStore(t,s,n)};oe.useTransition=function(){return Ve.current.useTransition()};oe.version="18.3.1";bd.exports=oe;var d=bd.exports;const Ld=Nm(d),Om=vm({__proto__:null,default:Ld},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=d,qm=Symbol.for("react.element"),Mm=Symbol.for("react.fragment"),zm=Object.prototype.hasOwnProperty,Bm=Um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wm={key:!0,ref:!0,__self:!0,__source:!0};function Id(t,s,n){var r,a={},i=null,l=null;n!==void 0&&(i=""+n),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(r in s)zm.call(s,r)&&!Wm.hasOwnProperty(r)&&(a[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:qm,type:t,key:i,ref:l,props:a,_owner:Bm.current}}ka.Fragment=Mm;ka.jsx=Id;ka.jsxs=Id;Nd.exports=ka;var e=Nd.exports,Ti={},Pd={exports:{}},it={},Dd={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(D,y){var F=D.length;D.push(y);e:for(;0<F;){var P=F-1>>>1,A=D[P];if(0<a(A,y))D[P]=y,D[F]=A,F=P;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var y=D[0],F=D.pop();if(F!==y){D[0]=F;e:for(var P=0,A=D.length,J=A>>>1;P<J;){var se=2*(P+1)-1,L=D[se],$=se+1,ee=D[$];if(0>a(L,F))$<A&&0>a(ee,L)?(D[P]=ee,D[$]=F,P=$):(D[P]=L,D[se]=F,P=se);else if($<A&&0>a(ee,F))D[P]=ee,D[$]=F,P=$;else break e}}return y}function a(D,y){var F=D.sortIndex-y.sortIndex;return F!==0?F:D.id-y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],h=[],m=1,p=null,x=3,j=!1,g=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(D){for(var y=n(h);y!==null;){if(y.callback===null)r(h);else if(y.startTime<=D)r(h),y.sortIndex=y.expirationTime,s(c,y);else break;y=n(h)}}function v(D){if(b=!1,f(D),!g)if(n(c)!==null)g=!0,k(N);else{var y=n(h);y!==null&&O(v,y.startTime-D)}}function N(D,y){g=!1,b&&(b=!1,w(I),I=-1),j=!0;var F=x;try{for(f(y),p=n(c);p!==null&&(!(p.expirationTime>y)||D&&!B());){var P=p.callback;if(typeof P=="function"){p.callback=null,x=p.priorityLevel;var A=P(p.expirationTime<=y);y=t.unstable_now(),typeof A=="function"?p.callback=A:p===n(c)&&r(c),f(y)}else r(c);p=n(c)}if(p!==null)var J=!0;else{var se=n(h);se!==null&&O(v,se.startTime-y),J=!1}return J}finally{p=null,x=F,j=!1}}var C=!1,_=null,I=-1,q=5,z=-1;function B(){return!(t.unstable_now()-z<q)}function R(){if(_!==null){var D=t.unstable_now();z=D;var y=!0;try{y=_(!0,D)}finally{y?T():(C=!1,_=null)}}else C=!1}var T;if(typeof u=="function")T=function(){u(R)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,M=E.port2;E.port1.onmessage=R,T=function(){M.postMessage(null)}}else T=function(){S(R,0)};function k(D){_=D,C||(C=!0,T())}function O(D,y){I=S(function(){D(t.unstable_now())},y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||j||(g=!0,k(N))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(x){case 1:case 2:case 3:var y=3;break;default:y=x}var F=x;x=y;try{return D()}finally{x=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=x;x=D;try{return y()}finally{x=F}},t.unstable_scheduleCallback=function(D,y,F){var P=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?P+F:P):F=P,D){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=F+A,D={id:m++,callback:y,priorityLevel:D,startTime:F,expirationTime:A,sortIndex:-1},F>P?(D.sortIndex=F,s(h,D),n(c)===null&&D===n(h)&&(b?(w(I),I=-1):b=!0,O(v,F-P))):(D.sortIndex=A,s(c,D),g||j||(g=!0,k(N))),D},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(D){var y=x;return function(){var F=x;x=y;try{return D.apply(this,arguments)}finally{x=F}}}})(Fd);Dd.exports=Fd;var $m=Dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=d,at=$m;function G(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _d=new Set,Wn={};function Es(t,s){en(t,s),en(t+"Capture",s)}function en(t,s){for(Wn[t]=s,t=0;t<s.length;t++)_d.add(s[t])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Li=Object.prototype.hasOwnProperty,Hm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uo={},qo={};function Gm(t){return Li.call(qo,t)?!0:Li.call(Uo,t)?!1:Hm.test(t)?qo[t]=!0:(Uo[t]=!0,!1)}function Qm(t,s,n,r){if(n!==null&&n.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jm(t,s,n,r){if(s===null||typeof s>"u"||Qm(t,s,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function He(t,s,n,r,a,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Oe[t]=new He(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Oe[s]=new He(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Oe[t]=new He(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Oe[t]=new He(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Oe[t]=new He(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Oe[t]=new He(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Oe[t]=new He(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Oe[t]=new He(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Oe[t]=new He(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fl=/[\-:]([a-z])/g;function _l(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(Fl,_l);Oe[s]=new He(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(Fl,_l);Oe[s]=new He(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(Fl,_l);Oe[s]=new He(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Oe[t]=new He(t,1,!1,t.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Oe[t]=new He(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ol(t,s,n,r){var a=Oe.hasOwnProperty(s)?Oe[s]:null;(a!==null?a.type!==0:r||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Jm(s,n,a,r)&&(n=null),r||a===null?Gm(s)&&(n===null?t.removeAttribute(s):t.setAttribute(s,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(s=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(s):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,s,n):t.setAttribute(s,n))))}var Mt=Vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yr=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),Ul=Symbol.for("react.strict_mode"),Ii=Symbol.for("react.profiler"),Od=Symbol.for("react.provider"),Ud=Symbol.for("react.context"),ql=Symbol.for("react.forward_ref"),Pi=Symbol.for("react.suspense"),Di=Symbol.for("react.suspense_list"),Ml=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),qd=Symbol.for("react.offscreen"),Mo=Symbol.iterator;function vn(t){return t===null||typeof t!="object"?null:(t=Mo&&t[Mo]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,Ka;function Tn(t){if(Ka===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);Ka=s&&s[1]||""}return`
`+Ka+t}var Ya=!1;function Xa(t,s){if(!t||Ya)return"";Ya=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(h){var r=h}Reflect.construct(t,[],s)}else{try{s.call()}catch(h){r=h}t.call(s.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var a=h.stack.split(`
`),i=r.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Ya=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Tn(t):""}function Km(t){switch(t.tag){case 5:return Tn(t.type);case 16:return Tn("Lazy");case 13:return Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 2:case 15:return t=Xa(t.type,!1),t;case 11:return t=Xa(t.type.render,!1),t;case 1:return t=Xa(t.type,!0),t;default:return""}}function Fi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _s:return"Fragment";case Fs:return"Portal";case Ii:return"Profiler";case Ul:return"StrictMode";case Pi:return"Suspense";case Di:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ud:return(t.displayName||"Context")+".Consumer";case Od:return(t._context.displayName||"Context")+".Provider";case ql:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ml:return s=t.displayName||null,s!==null?s:Fi(t.type)||"Memo";case Ht:s=t._payload,t=t._init;try{return Fi(t(s))}catch{}}return null}function Ym(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fi(s);case 8:return s===Ul?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Md(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xm(t){var s=Md(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,s,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function vr(t){t._valueTracker||(t._valueTracker=Xm(t))}function zd(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var n=s.getValue(),r="";return t&&(r=Md(t)?t.checked?"true":"false":t.value),t=r,t!==n?(s.setValue(t),!0):!1}function Yr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _i(t,s){var n=s.checked;return ke({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zo(t,s){var n=s.defaultValue==null?"":s.defaultValue,r=s.checked!=null?s.checked:s.defaultChecked;n=os(s.value!=null?s.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Bd(t,s){s=s.checked,s!=null&&Ol(t,"checked",s,!1)}function Oi(t,s){Bd(t,s);var n=os(s.value),r=s.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Ui(t,s.type,n):s.hasOwnProperty("defaultValue")&&Ui(t,s.type,os(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Bo(t,s,n){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var r=s.type;if(!(r!=="submit"&&r!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,n||s===t.value||(t.value=s),t.defaultValue=s}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ui(t,s,n){(s!=="number"||Yr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ln=Array.isArray;function Gs(t,s,n,r){if(t=t.options,s){s={};for(var a=0;a<n.length;a++)s["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=s.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+os(n),s=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function qi(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(G(91));return ke({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wo(t,s){var n=s.value;if(n==null){if(n=s.children,s=s.defaultValue,n!=null){if(s!=null)throw Error(G(92));if(Ln(n)){if(1<n.length)throw Error(G(93));n=n[0]}s=n}s==null&&(s=""),n=s}t._wrapperState={initialValue:os(n)}}function Wd(t,s){var n=os(s.value),r=os(s.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),s.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $o(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function $d(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mi(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?$d(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nr,Vd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(s,n,r,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Nr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function $n(t,s){if(s){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=s;return}}t.textContent=s}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zm=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(t){Zm.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Dn[s]=Dn[t]})});function Hd(t,s,n){return s==null||typeof s=="boolean"||s===""?"":n||typeof s!="number"||s===0||Dn.hasOwnProperty(t)&&Dn[t]?(""+s).trim():s+"px"}function Gd(t,s){t=t.style;for(var n in s)if(s.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Hd(n,s[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var ep=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zi(t,s){if(s){if(ep[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(G(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(G(61))}if(s.style!=null&&typeof s.style!="object")throw Error(G(62))}}function Bi(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wi=null;function zl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $i=null,Qs=null,Js=null;function Vo(t){if(t=ur(t)){if(typeof $i!="function")throw Error(G(280));var s=t.stateNode;s&&(s=Ea(s),$i(t.stateNode,t.type,s))}}function Qd(t){Qs?Js?Js.push(t):Js=[t]:Qs=t}function Jd(){if(Qs){var t=Qs,s=Js;if(Js=Qs=null,Vo(t),s)for(t=0;t<s.length;t++)Vo(s[t])}}function Kd(t,s){return t(s)}function Yd(){}var Za=!1;function Xd(t,s,n){if(Za)return t(s,n);Za=!0;try{return Kd(t,s,n)}finally{Za=!1,(Qs!==null||Js!==null)&&(Yd(),Jd())}}function Vn(t,s){var n=t.stateNode;if(n===null)return null;var r=Ea(n);if(r===null)return null;n=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,s,typeof n));return n}var Vi=!1;if(_t)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Vi=!1}function tp(t,s,n,r,a,i,l,o,c){var h=Array.prototype.slice.call(arguments,3);try{s.apply(n,h)}catch(m){this.onError(m)}}var Fn=!1,Xr=null,Zr=!1,Hi=null,sp={onError:function(t){Fn=!0,Xr=t}};function np(t,s,n,r,a,i,l,o,c){Fn=!1,Xr=null,tp.apply(sp,arguments)}function rp(t,s,n,r,a,i,l,o,c){if(np.apply(this,arguments),Fn){if(Fn){var h=Xr;Fn=!1,Xr=null}else throw Error(G(198));Zr||(Zr=!0,Hi=h)}}function Ts(t){var s=t,n=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(n=s.return),t=s.return;while(t)}return s.tag===3?n:null}function Zd(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Ho(t){if(Ts(t)!==t)throw Error(G(188))}function ap(t){var s=t.alternate;if(!s){if(s=Ts(t),s===null)throw Error(G(188));return s!==t?null:t}for(var n=t,r=s;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ho(a),t;if(i===r)return Ho(a),s;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,o=a.child;o;){if(o===n){l=!0,n=a,r=i;break}if(o===r){l=!0,r=a,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=a;break}if(o===r){l=!0,r=i,n=a;break}o=o.sibling}if(!l)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:s}function eu(t){return t=ap(t),t!==null?tu(t):null}function tu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=tu(t);if(s!==null)return s;t=t.sibling}return null}var su=at.unstable_scheduleCallback,Go=at.unstable_cancelCallback,ip=at.unstable_shouldYield,lp=at.unstable_requestPaint,Ae=at.unstable_now,op=at.unstable_getCurrentPriorityLevel,Bl=at.unstable_ImmediatePriority,nu=at.unstable_UserBlockingPriority,ea=at.unstable_NormalPriority,cp=at.unstable_LowPriority,ru=at.unstable_IdlePriority,Sa=null,Rt=null;function dp(t){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Sa,t,void 0,(t.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:mp,up=Math.log,hp=Math.LN2;function mp(t){return t>>>=0,t===0?32:31-(up(t)/hp|0)|0}var br=64,wr=4194304;function In(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ta(t,s){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var o=l&~a;o!==0?r=In(o):(i&=l,i!==0&&(r=In(i)))}else l=n&~a,l!==0?r=In(l):i!==0&&(r=In(i));if(r===0)return 0;if(s!==0&&s!==r&&!(s&a)&&(a=r&-r,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(r&4&&(r|=n&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=r;0<s;)n=31-jt(s),a=1<<n,r|=t[n],s&=~a;return r}function pp(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fp(t,s){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-jt(i),o=1<<l,c=a[l];c===-1?(!(o&n)||o&r)&&(a[l]=pp(o,s)):c<=s&&(t.expiredLanes|=o),i&=~o}}function Gi(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function au(){var t=br;return br<<=1,!(br&4194240)&&(br=64),t}function ei(t){for(var s=[],n=0;31>n;n++)s.push(t);return s}function cr(t,s,n){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-jt(s),t[s]=n}function xp(t,s){var n=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-jt(n),i=1<<a;s[a]=0,r[a]=-1,t[a]=-1,n&=~i}}function Wl(t,s){var n=t.entangledLanes|=s;for(t=t.entanglements;n;){var r=31-jt(n),a=1<<r;a&s|t[r]&s&&(t[r]|=s),n&=~a}}var me=0;function iu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lu,$l,ou,cu,du,Qi=!1,kr=[],Zt=null,es=null,ts=null,Hn=new Map,Gn=new Map,Qt=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qo(t,s){switch(t){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Hn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(s.pointerId)}}function bn(t,s,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},s!==null&&(s=ur(s),s!==null&&$l(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function jp(t,s,n,r,a){switch(s){case"focusin":return Zt=bn(Zt,t,s,n,r,a),!0;case"dragenter":return es=bn(es,t,s,n,r,a),!0;case"mouseover":return ts=bn(ts,t,s,n,r,a),!0;case"pointerover":var i=a.pointerId;return Hn.set(i,bn(Hn.get(i)||null,t,s,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Gn.set(i,bn(Gn.get(i)||null,t,s,n,r,a)),!0}return!1}function uu(t){var s=xs(t.target);if(s!==null){var n=Ts(s);if(n!==null){if(s=n.tag,s===13){if(s=Zd(n),s!==null){t.blockedOn=s,du(t.priority,function(){ou(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ur(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var n=Ji(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wi=r,n.target.dispatchEvent(r),Wi=null}else return s=ur(n),s!==null&&$l(s),t.blockedOn=n,!1;s.shift()}return!0}function Jo(t,s,n){Ur(t)&&n.delete(s)}function yp(){Qi=!1,Zt!==null&&Ur(Zt)&&(Zt=null),es!==null&&Ur(es)&&(es=null),ts!==null&&Ur(ts)&&(ts=null),Hn.forEach(Jo),Gn.forEach(Jo)}function wn(t,s){t.blockedOn===s&&(t.blockedOn=null,Qi||(Qi=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,yp)))}function Qn(t){function s(a){return wn(a,t)}if(0<kr.length){wn(kr[0],t);for(var n=1;n<kr.length;n++){var r=kr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zt!==null&&wn(Zt,t),es!==null&&wn(es,t),ts!==null&&wn(ts,t),Hn.forEach(s),Gn.forEach(s),n=0;n<Qt.length;n++)r=Qt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qt.length&&(n=Qt[0],n.blockedOn===null);)uu(n),n.blockedOn===null&&Qt.shift()}var Ks=Mt.ReactCurrentBatchConfig,sa=!0;function vp(t,s,n,r){var a=me,i=Ks.transition;Ks.transition=null;try{me=1,Vl(t,s,n,r)}finally{me=a,Ks.transition=i}}function Np(t,s,n,r){var a=me,i=Ks.transition;Ks.transition=null;try{me=4,Vl(t,s,n,r)}finally{me=a,Ks.transition=i}}function Vl(t,s,n,r){if(sa){var a=Ji(t,s,n,r);if(a===null)di(t,s,r,na,n),Qo(t,r);else if(jp(a,t,s,n,r))r.stopPropagation();else if(Qo(t,r),s&4&&-1<gp.indexOf(t)){for(;a!==null;){var i=ur(a);if(i!==null&&lu(i),i=Ji(t,s,n,r),i===null&&di(t,s,r,na,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else di(t,s,r,null,n)}}var na=null;function Ji(t,s,n,r){if(na=null,t=zl(r),t=xs(t),t!==null)if(s=Ts(t),s===null)t=null;else if(n=s.tag,n===13){if(t=Zd(s),t!==null)return t;t=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return na=t,null}function hu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(op()){case Bl:return 1;case nu:return 4;case ea:case cp:return 16;case ru:return 536870912;default:return 16}default:return 16}}var Kt=null,Hl=null,qr=null;function mu(){if(qr)return qr;var t,s=Hl,n=s.length,r,a="value"in Kt?Kt.value:Kt.textContent,i=a.length;for(t=0;t<n&&s[t]===a[t];t++);var l=n-t;for(r=1;r<=l&&s[n-r]===a[i-r];r++);return qr=a.slice(t,1<r?1-r:void 0)}function Mr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Sr(){return!0}function Ko(){return!1}function lt(t){function s(n,r,a,i,l){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Sr:Ko,this.isPropagationStopped=Ko,this}return ke(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),s}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=lt(un),dr=ke({},un,{view:0,detail:0}),bp=lt(dr),ti,si,kn,Ca=ke({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kn&&(kn&&t.type==="mousemove"?(ti=t.screenX-kn.screenX,si=t.screenY-kn.screenY):si=ti=0,kn=t),ti)},movementY:function(t){return"movementY"in t?t.movementY:si}}),Yo=lt(Ca),wp=ke({},Ca,{dataTransfer:0}),kp=lt(wp),Sp=ke({},dr,{relatedTarget:0}),ni=lt(Sp),Cp=ke({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),Rp=lt(Cp),Ap=ke({},un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ep=lt(Ap),Tp=ke({},un,{data:0}),Xo=lt(Tp),Lp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dp(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Pp[t])?!!s[t]:!1}function Ql(){return Dp}var Fp=ke({},dr,{key:function(t){if(t.key){var s=Lp[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ip[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(t){return t.type==="keypress"?Mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_p=lt(Fp),Op=ke({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=lt(Op),Up=ke({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),qp=lt(Up),Mp=ke({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),zp=lt(Mp),Bp=ke({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wp=lt(Bp),$p=[9,13,27,32],Jl=_t&&"CompositionEvent"in window,_n=null;_t&&"documentMode"in document&&(_n=document.documentMode);var Vp=_t&&"TextEvent"in window&&!_n,pu=_t&&(!Jl||_n&&8<_n&&11>=_n),ec=" ",tc=!1;function fu(t,s){switch(t){case"keyup":return $p.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function Hp(t,s){switch(t){case"compositionend":return xu(s);case"keypress":return s.which!==32?null:(tc=!0,ec);case"textInput":return t=s.data,t===ec&&tc?null:t;default:return null}}function Gp(t,s){if(Os)return t==="compositionend"||!Jl&&fu(t,s)?(t=mu(),qr=Hl=Kt=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return pu&&s.locale!=="ko"?null:s.data;default:return null}}var Qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Qp[t.type]:s==="textarea"}function gu(t,s,n,r){Qd(r),s=ra(s,"onChange"),0<s.length&&(n=new Gl("onChange","change",null,n,r),t.push({event:n,listeners:s}))}var On=null,Jn=null;function Jp(t){Au(t,0)}function Ra(t){var s=Ms(t);if(zd(s))return t}function Kp(t,s){if(t==="change")return s}var ju=!1;if(_t){var ri;if(_t){var ai="oninput"in document;if(!ai){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),ai=typeof nc.oninput=="function"}ri=ai}else ri=!1;ju=ri&&(!document.documentMode||9<document.documentMode)}function rc(){On&&(On.detachEvent("onpropertychange",yu),Jn=On=null)}function yu(t){if(t.propertyName==="value"&&Ra(Jn)){var s=[];gu(s,Jn,t,zl(t)),Xd(Jp,s)}}function Yp(t,s,n){t==="focusin"?(rc(),On=s,Jn=n,On.attachEvent("onpropertychange",yu)):t==="focusout"&&rc()}function Xp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ra(Jn)}function Zp(t,s){if(t==="click")return Ra(s)}function ef(t,s){if(t==="input"||t==="change")return Ra(s)}function tf(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var vt=typeof Object.is=="function"?Object.is:tf;function Kn(t,s){if(vt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var n=Object.keys(t),r=Object.keys(s);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Li.call(s,a)||!vt(t[a],s[a]))return!1}return!0}function ac(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ic(t,s){var n=ac(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=s&&r>=s)return{node:n,offset:s-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ac(n)}}function vu(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?vu(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Nu(){for(var t=window,s=Yr();s instanceof t.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)t=s.contentWindow;else break;s=Yr(t.document)}return s}function Kl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function sf(t){var s=Nu(),n=t.focusedElem,r=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&vu(n.ownerDocument.documentElement,n)){if(r!==null&&Kl(n)){if(s=r.start,t=r.end,t===void 0&&(t=s),"selectionStart"in n)n.selectionStart=s,n.selectionEnd=Math.min(t,n.value.length);else if(t=(s=n.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=ic(n,i);var l=ic(n,r);a&&l&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange(s),t.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),t.addRange(s)))}}for(s=[],t=n;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<s.length;n++)t=s[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nf=_t&&"documentMode"in document&&11>=document.documentMode,Us=null,Ki=null,Un=null,Yi=!1;function lc(t,s,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yi||Us==null||Us!==Yr(r)||(r=Us,"selectionStart"in r&&Kl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Un&&Kn(Un,r)||(Un=r,r=ra(Ki,"onSelect"),0<r.length&&(s=new Gl("onSelect","select",null,s,n),t.push({event:s,listeners:r}),s.target=Us)))}function Cr(t,s){var n={};return n[t.toLowerCase()]=s.toLowerCase(),n["Webkit"+t]="webkit"+s,n["Moz"+t]="moz"+s,n}var qs={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},ii={},bu={};_t&&(bu=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Aa(t){if(ii[t])return ii[t];if(!qs[t])return t;var s=qs[t],n;for(n in s)if(s.hasOwnProperty(n)&&n in bu)return ii[t]=s[n];return t}var wu=Aa("animationend"),ku=Aa("animationiteration"),Su=Aa("animationstart"),Cu=Aa("transitionend"),Ru=new Map,oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(t,s){Ru.set(t,s),Es(s,[t])}for(var li=0;li<oc.length;li++){var oi=oc[li],rf=oi.toLowerCase(),af=oi[0].toUpperCase()+oi.slice(1);ds(rf,"on"+af)}ds(wu,"onAnimationEnd");ds(ku,"onAnimationIteration");ds(Su,"onAnimationStart");ds("dblclick","onDoubleClick");ds("focusin","onFocus");ds("focusout","onBlur");ds(Cu,"onTransitionEnd");en("onMouseEnter",["mouseout","mouseover"]);en("onMouseLeave",["mouseout","mouseover"]);en("onPointerEnter",["pointerout","pointerover"]);en("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function cc(t,s,n){var r=t.type||"unknown-event";t.currentTarget=n,rp(r,s,void 0,t),t.currentTarget=null}function Au(t,s){s=(s&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(s)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,h=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;cc(a,o,h),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,h=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;cc(a,o,h),i=c}}}if(Zr)throw t=Hi,Zr=!1,Hi=null,t}function ge(t,s){var n=s[sl];n===void 0&&(n=s[sl]=new Set);var r=t+"__bubble";n.has(r)||(Eu(s,t,2,!1),n.add(r))}function ci(t,s,n){var r=0;s&&(r|=4),Eu(n,t,r,s)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Yn(t){if(!t[Rr]){t[Rr]=!0,_d.forEach(function(n){n!=="selectionchange"&&(lf.has(n)||ci(n,!1,t),ci(n,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Rr]||(s[Rr]=!0,ci("selectionchange",!1,s))}}function Eu(t,s,n,r){switch(hu(s)){case 1:var a=vp;break;case 4:a=Np;break;default:a=Vl}n=a.bind(null,s,n,t),a=void 0,!Vi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(s,n,{capture:!0,passive:a}):t.addEventListener(s,n,!0):a!==void 0?t.addEventListener(s,n,{passive:a}):t.addEventListener(s,n,!1)}function di(t,s,n,r,a){var i=r;if(!(s&1)&&!(s&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=xs(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}Xd(function(){var h=i,m=zl(n),p=[];e:{var x=Ru.get(t);if(x!==void 0){var j=Gl,g=t;switch(t){case"keypress":if(Mr(n)===0)break e;case"keydown":case"keyup":j=_p;break;case"focusin":g="focus",j=ni;break;case"focusout":g="blur",j=ni;break;case"beforeblur":case"afterblur":j=ni;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=qp;break;case wu:case ku:case Su:j=Rp;break;case Cu:j=zp;break;case"scroll":j=bp;break;case"wheel":j=Wp;break;case"copy":case"cut":case"paste":j=Ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Zo}var b=(s&4)!==0,S=!b&&t==="scroll",w=b?x!==null?x+"Capture":null:x;b=[];for(var u=h,f;u!==null;){f=u;var v=f.stateNode;if(f.tag===5&&v!==null&&(f=v,w!==null&&(v=Vn(u,w),v!=null&&b.push(Xn(u,v,f)))),S)break;u=u.return}0<b.length&&(x=new j(x,g,null,n,m),p.push({event:x,listeners:b}))}}if(!(s&7)){e:{if(x=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",x&&n!==Wi&&(g=n.relatedTarget||n.fromElement)&&(xs(g)||g[Ot]))break e;if((j||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,j?(g=n.relatedTarget||n.toElement,j=h,g=g?xs(g):null,g!==null&&(S=Ts(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(j=null,g=h),j!==g)){if(b=Yo,v="onMouseLeave",w="onMouseEnter",u="mouse",(t==="pointerout"||t==="pointerover")&&(b=Zo,v="onPointerLeave",w="onPointerEnter",u="pointer"),S=j==null?x:Ms(j),f=g==null?x:Ms(g),x=new b(v,u+"leave",j,n,m),x.target=S,x.relatedTarget=f,v=null,xs(m)===h&&(b=new b(w,u+"enter",g,n,m),b.target=f,b.relatedTarget=S,v=b),S=v,j&&g)t:{for(b=j,w=g,u=0,f=b;f;f=Is(f))u++;for(f=0,v=w;v;v=Is(v))f++;for(;0<u-f;)b=Is(b),u--;for(;0<f-u;)w=Is(w),f--;for(;u--;){if(b===w||w!==null&&b===w.alternate)break t;b=Is(b),w=Is(w)}b=null}else b=null;j!==null&&dc(p,x,j,b,!1),g!==null&&S!==null&&dc(p,S,g,b,!0)}}e:{if(x=h?Ms(h):window,j=x.nodeName&&x.nodeName.toLowerCase(),j==="select"||j==="input"&&x.type==="file")var N=Kp;else if(sc(x))if(ju)N=ef;else{N=Xp;var C=Yp}else(j=x.nodeName)&&j.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(N=Zp);if(N&&(N=N(t,h))){gu(p,N,n,m);break e}C&&C(t,x,h),t==="focusout"&&(C=x._wrapperState)&&C.controlled&&x.type==="number"&&Ui(x,"number",x.value)}switch(C=h?Ms(h):window,t){case"focusin":(sc(C)||C.contentEditable==="true")&&(Us=C,Ki=h,Un=null);break;case"focusout":Un=Ki=Us=null;break;case"mousedown":Yi=!0;break;case"contextmenu":case"mouseup":case"dragend":Yi=!1,lc(p,n,m);break;case"selectionchange":if(nf)break;case"keydown":case"keyup":lc(p,n,m)}var _;if(Jl)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Os?fu(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(pu&&n.locale!=="ko"&&(Os||I!=="onCompositionStart"?I==="onCompositionEnd"&&Os&&(_=mu()):(Kt=m,Hl="value"in Kt?Kt.value:Kt.textContent,Os=!0)),C=ra(h,I),0<C.length&&(I=new Xo(I,t,null,n,m),p.push({event:I,listeners:C}),_?I.data=_:(_=xu(n),_!==null&&(I.data=_)))),(_=Vp?Hp(t,n):Gp(t,n))&&(h=ra(h,"onBeforeInput"),0<h.length&&(m=new Xo("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:h}),m.data=_))}Au(p,s)})}function Xn(t,s,n){return{instance:t,listener:s,currentTarget:n}}function ra(t,s){for(var n=s+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Vn(t,n),i!=null&&r.unshift(Xn(t,i,a)),i=Vn(t,s),i!=null&&r.push(Xn(t,i,a))),t=t.return}return r}function Is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dc(t,s,n,r,a){for(var i=s._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,h=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&h!==null&&(o=h,a?(c=Vn(n,i),c!=null&&l.unshift(Xn(n,c,o))):a||(c=Vn(n,i),c!=null&&l.push(Xn(n,c,o)))),n=n.return}l.length!==0&&t.push({event:s,listeners:l})}var of=/\r\n?/g,cf=/\u0000|\uFFFD/g;function uc(t){return(typeof t=="string"?t:""+t).replace(of,`
`).replace(cf,"")}function Ar(t,s,n){if(s=uc(s),uc(t)!==s&&n)throw Error(G(425))}function aa(){}var Xi=null,Zi=null;function el(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,df=typeof clearTimeout=="function"?clearTimeout:void 0,hc=typeof Promise=="function"?Promise:void 0,uf=typeof queueMicrotask=="function"?queueMicrotask:typeof hc<"u"?function(t){return hc.resolve(null).then(t).catch(hf)}:tl;function hf(t){setTimeout(function(){throw t})}function ui(t,s){var n=s,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),Qn(s);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Qn(s)}function ss(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function mc(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return t;s--}else n==="/$"&&s++}t=t.previousSibling}return null}var hn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+hn,Zn="__reactProps$"+hn,Ot="__reactContainer$"+hn,sl="__reactEvents$"+hn,mf="__reactListeners$"+hn,pf="__reactHandles$"+hn;function xs(t){var s=t[Ct];if(s)return s;for(var n=t.parentNode;n;){if(s=n[Ot]||n[Ct]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(t=mc(t);t!==null;){if(n=t[Ct])return n;t=mc(t)}return s}t=n,n=t.parentNode}return null}function ur(t){return t=t[Ct]||t[Ot],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function Ea(t){return t[Zn]||null}var nl=[],zs=-1;function us(t){return{current:t}}function je(t){0>zs||(t.current=nl[zs],nl[zs]=null,zs--)}function fe(t,s){zs++,nl[zs]=t.current,t.current=s}var cs={},Be=us(cs),Ye=us(!1),ws=cs;function tn(t,s){var n=t.type.contextTypes;if(!n)return cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===s)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=s[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function Xe(t){return t=t.childContextTypes,t!=null}function ia(){je(Ye),je(Be)}function pc(t,s,n){if(Be.current!==cs)throw Error(G(168));fe(Be,s),fe(Ye,n)}function Tu(t,s,n){var r=t.stateNode;if(s=s.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in s))throw Error(G(108,Ym(t)||"Unknown",a));return ke({},n,r)}function la(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cs,ws=Be.current,fe(Be,t),fe(Ye,Ye.current),!0}function fc(t,s,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=Tu(t,s,ws),r.__reactInternalMemoizedMergedChildContext=t,je(Ye),je(Be),fe(Be,t)):je(Ye),fe(Ye,n)}var It=null,Ta=!1,hi=!1;function Lu(t){It===null?It=[t]:It.push(t)}function ff(t){Ta=!0,Lu(t)}function hs(){if(!hi&&It!==null){hi=!0;var t=0,s=me;try{var n=It;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}It=null,Ta=!1}catch(a){throw It!==null&&(It=It.slice(t+1)),su(Bl,hs),a}finally{me=s,hi=!1}}return null}var Bs=[],Ws=0,oa=null,ca=0,ot=[],ct=0,ks=null,Pt=1,Dt="";function ps(t,s){Bs[Ws++]=ca,Bs[Ws++]=oa,oa=t,ca=s}function Iu(t,s,n){ot[ct++]=Pt,ot[ct++]=Dt,ot[ct++]=ks,ks=t;var r=Pt;t=Dt;var a=32-jt(r)-1;r&=~(1<<a),n+=1;var i=32-jt(s)+a;if(30<i){var l=a-a%5;i=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Pt=1<<32-jt(s)+a|n<<a|r,Dt=i+t}else Pt=1<<i|n<<a|r,Dt=t}function Yl(t){t.return!==null&&(ps(t,1),Iu(t,1,0))}function Xl(t){for(;t===oa;)oa=Bs[--Ws],Bs[Ws]=null,ca=Bs[--Ws],Bs[Ws]=null;for(;t===ks;)ks=ot[--ct],ot[ct]=null,Dt=ot[--ct],ot[ct]=null,Pt=ot[--ct],ot[ct]=null}var rt=null,nt=null,ye=!1,gt=null;function Pu(t,s){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=s,n.return=t,s=t.deletions,s===null?(t.deletions=[n],t.flags|=16):s.push(n)}function xc(t,s){switch(t.tag){case 5:var n=t.type;return s=s.nodeType!==1||n.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,rt=t,nt=ss(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,rt=t,nt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(n=ks!==null?{id:Pt,overflow:Dt}:null,t.memoizedState={dehydrated:s,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=s,n.return=t,t.child=n,rt=t,nt=null,!0):!1;default:return!1}}function rl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function al(t){if(ye){var s=nt;if(s){var n=s;if(!xc(t,s)){if(rl(t))throw Error(G(418));s=ss(n.nextSibling);var r=rt;s&&xc(t,s)?Pu(r,n):(t.flags=t.flags&-4097|2,ye=!1,rt=t)}}else{if(rl(t))throw Error(G(418));t.flags=t.flags&-4097|2,ye=!1,rt=t}}}function gc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rt=t}function Er(t){if(t!==rt)return!1;if(!ye)return gc(t),ye=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!el(t.type,t.memoizedProps)),s&&(s=nt)){if(rl(t))throw Du(),Error(G(418));for(;s;)Pu(t,s),s=ss(s.nextSibling)}if(gc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(s===0){nt=ss(t.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++}t=t.nextSibling}nt=null}}else nt=rt?ss(t.stateNode.nextSibling):null;return!0}function Du(){for(var t=nt;t;)t=ss(t.nextSibling)}function sn(){nt=rt=null,ye=!1}function Zl(t){gt===null?gt=[t]:gt.push(t)}var xf=Mt.ReactCurrentBatchConfig;function Sn(t,s,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var a=r,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Tr(t,s){throw t=Object.prototype.toString.call(s),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function jc(t){var s=t._init;return s(t._payload)}function Fu(t){function s(w,u){if(t){var f=w.deletions;f===null?(w.deletions=[u],w.flags|=16):f.push(u)}}function n(w,u){if(!t)return null;for(;u!==null;)s(w,u),u=u.sibling;return null}function r(w,u){for(w=new Map;u!==null;)u.key!==null?w.set(u.key,u):w.set(u.index,u),u=u.sibling;return w}function a(w,u){return w=is(w,u),w.index=0,w.sibling=null,w}function i(w,u,f){return w.index=f,t?(f=w.alternate,f!==null?(f=f.index,f<u?(w.flags|=2,u):f):(w.flags|=2,u)):(w.flags|=1048576,u)}function l(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,u,f,v){return u===null||u.tag!==6?(u=yi(f,w.mode,v),u.return=w,u):(u=a(u,f),u.return=w,u)}function c(w,u,f,v){var N=f.type;return N===_s?m(w,u,f.props.children,v,f.key):u!==null&&(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ht&&jc(N)===u.type)?(v=a(u,f.props),v.ref=Sn(w,u,f),v.return=w,v):(v=Gr(f.type,f.key,f.props,null,w.mode,v),v.ref=Sn(w,u,f),v.return=w,v)}function h(w,u,f,v){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=vi(f,w.mode,v),u.return=w,u):(u=a(u,f.children||[]),u.return=w,u)}function m(w,u,f,v,N){return u===null||u.tag!==7?(u=Ns(f,w.mode,v,N),u.return=w,u):(u=a(u,f),u.return=w,u)}function p(w,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=yi(""+u,w.mode,f),u.return=w,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case yr:return f=Gr(u.type,u.key,u.props,null,w.mode,f),f.ref=Sn(w,null,u),f.return=w,f;case Fs:return u=vi(u,w.mode,f),u.return=w,u;case Ht:var v=u._init;return p(w,v(u._payload),f)}if(Ln(u)||vn(u))return u=Ns(u,w.mode,f,null),u.return=w,u;Tr(w,u)}return null}function x(w,u,f,v){var N=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return N!==null?null:o(w,u,""+f,v);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case yr:return f.key===N?c(w,u,f,v):null;case Fs:return f.key===N?h(w,u,f,v):null;case Ht:return N=f._init,x(w,u,N(f._payload),v)}if(Ln(f)||vn(f))return N!==null?null:m(w,u,f,v,null);Tr(w,f)}return null}function j(w,u,f,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return w=w.get(f)||null,o(u,w,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yr:return w=w.get(v.key===null?f:v.key)||null,c(u,w,v,N);case Fs:return w=w.get(v.key===null?f:v.key)||null,h(u,w,v,N);case Ht:var C=v._init;return j(w,u,f,C(v._payload),N)}if(Ln(v)||vn(v))return w=w.get(f)||null,m(u,w,v,N,null);Tr(u,v)}return null}function g(w,u,f,v){for(var N=null,C=null,_=u,I=u=0,q=null;_!==null&&I<f.length;I++){_.index>I?(q=_,_=null):q=_.sibling;var z=x(w,_,f[I],v);if(z===null){_===null&&(_=q);break}t&&_&&z.alternate===null&&s(w,_),u=i(z,u,I),C===null?N=z:C.sibling=z,C=z,_=q}if(I===f.length)return n(w,_),ye&&ps(w,I),N;if(_===null){for(;I<f.length;I++)_=p(w,f[I],v),_!==null&&(u=i(_,u,I),C===null?N=_:C.sibling=_,C=_);return ye&&ps(w,I),N}for(_=r(w,_);I<f.length;I++)q=j(_,w,I,f[I],v),q!==null&&(t&&q.alternate!==null&&_.delete(q.key===null?I:q.key),u=i(q,u,I),C===null?N=q:C.sibling=q,C=q);return t&&_.forEach(function(B){return s(w,B)}),ye&&ps(w,I),N}function b(w,u,f,v){var N=vn(f);if(typeof N!="function")throw Error(G(150));if(f=N.call(f),f==null)throw Error(G(151));for(var C=N=null,_=u,I=u=0,q=null,z=f.next();_!==null&&!z.done;I++,z=f.next()){_.index>I?(q=_,_=null):q=_.sibling;var B=x(w,_,z.value,v);if(B===null){_===null&&(_=q);break}t&&_&&B.alternate===null&&s(w,_),u=i(B,u,I),C===null?N=B:C.sibling=B,C=B,_=q}if(z.done)return n(w,_),ye&&ps(w,I),N;if(_===null){for(;!z.done;I++,z=f.next())z=p(w,z.value,v),z!==null&&(u=i(z,u,I),C===null?N=z:C.sibling=z,C=z);return ye&&ps(w,I),N}for(_=r(w,_);!z.done;I++,z=f.next())z=j(_,w,I,z.value,v),z!==null&&(t&&z.alternate!==null&&_.delete(z.key===null?I:z.key),u=i(z,u,I),C===null?N=z:C.sibling=z,C=z);return t&&_.forEach(function(R){return s(w,R)}),ye&&ps(w,I),N}function S(w,u,f,v){if(typeof f=="object"&&f!==null&&f.type===_s&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case yr:e:{for(var N=f.key,C=u;C!==null;){if(C.key===N){if(N=f.type,N===_s){if(C.tag===7){n(w,C.sibling),u=a(C,f.props.children),u.return=w,w=u;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ht&&jc(N)===C.type){n(w,C.sibling),u=a(C,f.props),u.ref=Sn(w,C,f),u.return=w,w=u;break e}n(w,C);break}else s(w,C);C=C.sibling}f.type===_s?(u=Ns(f.props.children,w.mode,v,f.key),u.return=w,w=u):(v=Gr(f.type,f.key,f.props,null,w.mode,v),v.ref=Sn(w,u,f),v.return=w,w=v)}return l(w);case Fs:e:{for(C=f.key;u!==null;){if(u.key===C)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(w,u.sibling),u=a(u,f.children||[]),u.return=w,w=u;break e}else{n(w,u);break}else s(w,u);u=u.sibling}u=vi(f,w.mode,v),u.return=w,w=u}return l(w);case Ht:return C=f._init,S(w,u,C(f._payload),v)}if(Ln(f))return g(w,u,f,v);if(vn(f))return b(w,u,f,v);Tr(w,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(w,u.sibling),u=a(u,f),u.return=w,w=u):(n(w,u),u=yi(f,w.mode,v),u.return=w,w=u),l(w)):n(w,u)}return S}var nn=Fu(!0),_u=Fu(!1),da=us(null),ua=null,$s=null,eo=null;function to(){eo=$s=ua=null}function so(t){var s=da.current;je(da),t._currentValue=s}function il(t,s,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===n)break;t=t.return}}function Ys(t,s){ua=t,eo=$s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Je=!0),t.firstContext=null)}function ht(t){var s=t._currentValue;if(eo!==t)if(t={context:t,memoizedValue:s,next:null},$s===null){if(ua===null)throw Error(G(308));$s=t,ua.dependencies={lanes:0,firstContext:t}}else $s=$s.next=t;return s}var gs=null;function no(t){gs===null?gs=[t]:gs.push(t)}function Ou(t,s,n,r){var a=s.interleaved;return a===null?(n.next=n,no(s)):(n.next=a.next,a.next=n),s.interleaved=n,Ut(t,r)}function Ut(t,s){t.lanes|=s;var n=t.alternate;for(n!==null&&(n.lanes|=s),n=t,t=t.return;t!==null;)t.childLanes|=s,n=t.alternate,n!==null&&(n.childLanes|=s),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gt=!1;function ro(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ft(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function ns(t,s,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var a=r.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s,Ut(t,n)}return a=r.interleaved,a===null?(s.next=s,no(r)):(s.next=a.next,a.next=s),r.interleaved=s,Ut(t,n)}function zr(t,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194240)!==0)){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,Wl(t,n)}}function yc(t,s){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?a=i=s:i=i.next=s}else a=i=s;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=s:t.next=s,n.lastBaseUpdate=s}function ha(t,s,n,r){var a=t.updateQueue;Gt=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,h=c.next;c.next=null,l===null?i=h:l.next=h,l=c;var m=t.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=h:o.next=h,m.lastBaseUpdate=c))}if(i!==null){var p=a.baseState;l=0,m=h=c=null,o=i;do{var x=o.lane,j=o.eventTime;if((r&x)===x){m!==null&&(m=m.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,b=o;switch(x=s,j=n,b.tag){case 1:if(g=b.payload,typeof g=="function"){p=g.call(j,p,x);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,x=typeof g=="function"?g.call(j,p,x):g,x==null)break e;p=ke({},p,x);break e;case 2:Gt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else j={eventTime:j,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(h=m=j,c=p):m=m.next=j,l|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(m===null&&(c=p),a.baseState=c,a.firstBaseUpdate=h,a.lastBaseUpdate=m,s=a.shared.interleaved,s!==null){a=s;do l|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);Cs|=l,t.lanes=l,t.memoizedState=p}}function vc(t,s,n){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var r=t[s],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(G(191,a));a.call(r)}}}var hr={},At=us(hr),er=us(hr),tr=us(hr);function js(t){if(t===hr)throw Error(G(174));return t}function ao(t,s){switch(fe(tr,s),fe(er,t),fe(At,hr),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Mi(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Mi(s,t)}je(At),fe(At,s)}function rn(){je(At),je(er),je(tr)}function qu(t){js(tr.current);var s=js(At.current),n=Mi(s,t.type);s!==n&&(fe(er,t),fe(At,n))}function io(t){er.current===t&&(je(At),je(er))}var Ne=us(0);function ma(t){for(var s=t;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mi=[];function lo(){for(var t=0;t<mi.length;t++)mi[t]._workInProgressVersionPrimary=null;mi.length=0}var Br=Mt.ReactCurrentDispatcher,pi=Mt.ReactCurrentBatchConfig,Ss=0,be=null,Te=null,Ie=null,pa=!1,qn=!1,sr=0,gf=0;function Ue(){throw Error(G(321))}function oo(t,s){if(s===null)return!1;for(var n=0;n<s.length&&n<t.length;n++)if(!vt(t[n],s[n]))return!1;return!0}function co(t,s,n,r,a,i){if(Ss=i,be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Br.current=t===null||t.memoizedState===null?Nf:bf,t=n(r,a),qn){i=0;do{if(qn=!1,sr=0,25<=i)throw Error(G(301));i+=1,Ie=Te=null,s.updateQueue=null,Br.current=wf,t=n(r,a)}while(qn)}if(Br.current=fa,s=Te!==null&&Te.next!==null,Ss=0,Ie=Te=be=null,pa=!1,s)throw Error(G(300));return t}function uo(){var t=sr!==0;return sr=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?be.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function mt(){if(Te===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var s=Ie===null?be.memoizedState:Ie.next;if(s!==null)Ie=s,Te=t;else{if(t===null)throw Error(G(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ie===null?be.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function nr(t,s){return typeof s=="function"?s(t):s}function fi(t){var s=mt(),n=s.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Te,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var o=l=null,c=null,h=i;do{var m=h.lane;if((Ss&m)===m)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(o=c=p,l=r):c=c.next=p,be.lanes|=m,Cs|=m}h=h.next}while(h!==null&&h!==i);c===null?l=r:c.next=o,vt(r,s.memoizedState)||(Je=!0),s.memoizedState=r,s.baseState=l,s.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do i=a.lane,be.lanes|=i,Cs|=i,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[s.memoizedState,n.dispatch]}function xi(t){var s=mt(),n=s.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=s.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do i=t(i,l.action),l=l.next;while(l!==a);vt(i,s.memoizedState)||(Je=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),n.lastRenderedState=i}return[i,r]}function Mu(){}function zu(t,s){var n=be,r=mt(),a=s(),i=!vt(r.memoizedState,a);if(i&&(r.memoizedState=a,Je=!0),r=r.queue,ho($u.bind(null,n,r,t),[t]),r.getSnapshot!==s||i||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,rr(9,Wu.bind(null,n,r,a,s),void 0,null),Pe===null)throw Error(G(349));Ss&30||Bu(n,s,a)}return a}function Bu(t,s,n){t.flags|=16384,t={getSnapshot:s,value:n},s=be.updateQueue,s===null?(s={lastEffect:null,stores:null},be.updateQueue=s,s.stores=[t]):(n=s.stores,n===null?s.stores=[t]:n.push(t))}function Wu(t,s,n,r){s.value=n,s.getSnapshot=r,Vu(s)&&Hu(t)}function $u(t,s,n){return n(function(){Vu(s)&&Hu(t)})}function Vu(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!vt(t,n)}catch{return!0}}function Hu(t){var s=Ut(t,1);s!==null&&yt(s,t,1,-1)}function Nc(t){var s=St();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},s.queue=t,t=t.dispatch=vf.bind(null,be,t),[s.memoizedState,t]}function rr(t,s,n,r){return t={tag:t,create:s,destroy:n,deps:r,next:null},s=be.updateQueue,s===null?(s={lastEffect:null,stores:null},be.updateQueue=s,s.lastEffect=t.next=t):(n=s.lastEffect,n===null?s.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,s.lastEffect=t)),t}function Gu(){return mt().memoizedState}function Wr(t,s,n,r){var a=St();be.flags|=t,a.memoizedState=rr(1|s,n,void 0,r===void 0?null:r)}function La(t,s,n,r){var a=mt();r=r===void 0?null:r;var i=void 0;if(Te!==null){var l=Te.memoizedState;if(i=l.destroy,r!==null&&oo(r,l.deps)){a.memoizedState=rr(s,n,i,r);return}}be.flags|=t,a.memoizedState=rr(1|s,n,i,r)}function bc(t,s){return Wr(8390656,8,t,s)}function ho(t,s){return La(2048,8,t,s)}function Qu(t,s){return La(4,2,t,s)}function Ju(t,s){return La(4,4,t,s)}function Ku(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Yu(t,s,n){return n=n!=null?n.concat([t]):null,La(4,4,Ku.bind(null,s,t),n)}function mo(){}function Xu(t,s){var n=mt();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&oo(s,r[1])?r[0]:(n.memoizedState=[t,s],t)}function Zu(t,s){var n=mt();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&oo(s,r[1])?r[0]:(t=t(),n.memoizedState=[t,s],t)}function eh(t,s,n){return Ss&21?(vt(n,s)||(n=au(),be.lanes|=n,Cs|=n,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Je=!0),t.memoizedState=n)}function jf(t,s){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=pi.transition;pi.transition={};try{t(!1),s()}finally{me=n,pi.transition=r}}function th(){return mt().memoizedState}function yf(t,s,n){var r=as(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sh(t))nh(s,n);else if(n=Ou(t,s,n,r),n!==null){var a=$e();yt(n,t,r,a),rh(n,s,r)}}function vf(t,s,n){var r=as(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sh(t))nh(s,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,n);if(a.hasEagerState=!0,a.eagerState=o,vt(o,l)){var c=s.interleaved;c===null?(a.next=a,no(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}n=Ou(t,s,a,r),n!==null&&(a=$e(),yt(n,t,r,a),rh(n,s,r))}}function sh(t){var s=t.alternate;return t===be||s!==null&&s===be}function nh(t,s){qn=pa=!0;var n=t.pending;n===null?s.next=s:(s.next=n.next,n.next=s),t.pending=s}function rh(t,s,n){if(n&4194240){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,Wl(t,n)}}var fa={readContext:ht,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},Nf={readContext:ht,useCallback:function(t,s){return St().memoizedState=[t,s===void 0?null:s],t},useContext:ht,useEffect:bc,useImperativeHandle:function(t,s,n){return n=n!=null?n.concat([t]):null,Wr(4194308,4,Ku.bind(null,s,t),n)},useLayoutEffect:function(t,s){return Wr(4194308,4,t,s)},useInsertionEffect:function(t,s){return Wr(4,2,t,s)},useMemo:function(t,s){var n=St();return s=s===void 0?null:s,t=t(),n.memoizedState=[t,s],t},useReducer:function(t,s,n){var r=St();return s=n!==void 0?n(s):s,r.memoizedState=r.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=yf.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var s=St();return t={current:t},s.memoizedState=t},useState:Nc,useDebugValue:mo,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=Nc(!1),s=t[0];return t=jf.bind(null,t[1]),St().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,n){var r=be,a=St();if(ye){if(n===void 0)throw Error(G(407));n=n()}else{if(n=s(),Pe===null)throw Error(G(349));Ss&30||Bu(r,s,n)}a.memoizedState=n;var i={value:n,getSnapshot:s};return a.queue=i,bc($u.bind(null,r,i,t),[t]),r.flags|=2048,rr(9,Wu.bind(null,r,i,n,s),void 0,null),n},useId:function(){var t=St(),s=Pe.identifierPrefix;if(ye){var n=Dt,r=Pt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,s=":"+s+"R"+n,n=sr++,0<n&&(s+="H"+n.toString(32)),s+=":"}else n=gf++,s=":"+s+"r"+n.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},bf={readContext:ht,useCallback:Xu,useContext:ht,useEffect:ho,useImperativeHandle:Yu,useInsertionEffect:Qu,useLayoutEffect:Ju,useMemo:Zu,useReducer:fi,useRef:Gu,useState:function(){return fi(nr)},useDebugValue:mo,useDeferredValue:function(t){var s=mt();return eh(s,Te.memoizedState,t)},useTransition:function(){var t=fi(nr)[0],s=mt().memoizedState;return[t,s]},useMutableSource:Mu,useSyncExternalStore:zu,useId:th,unstable_isNewReconciler:!1},wf={readContext:ht,useCallback:Xu,useContext:ht,useEffect:ho,useImperativeHandle:Yu,useInsertionEffect:Qu,useLayoutEffect:Ju,useMemo:Zu,useReducer:xi,useRef:Gu,useState:function(){return xi(nr)},useDebugValue:mo,useDeferredValue:function(t){var s=mt();return Te===null?s.memoizedState=t:eh(s,Te.memoizedState,t)},useTransition:function(){var t=xi(nr)[0],s=mt().memoizedState;return[t,s]},useMutableSource:Mu,useSyncExternalStore:zu,useId:th,unstable_isNewReconciler:!1};function ft(t,s){if(t&&t.defaultProps){s=ke({},s),t=t.defaultProps;for(var n in t)s[n]===void 0&&(s[n]=t[n]);return s}return s}function ll(t,s,n,r){s=t.memoizedState,n=n(r,s),n=n==null?s:ke({},s,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ia={isMounted:function(t){return(t=t._reactInternals)?Ts(t)===t:!1},enqueueSetState:function(t,s,n){t=t._reactInternals;var r=$e(),a=as(t),i=Ft(r,a);i.payload=s,n!=null&&(i.callback=n),s=ns(t,i,a),s!==null&&(yt(s,t,a,r),zr(s,t,a))},enqueueReplaceState:function(t,s,n){t=t._reactInternals;var r=$e(),a=as(t),i=Ft(r,a);i.tag=1,i.payload=s,n!=null&&(i.callback=n),s=ns(t,i,a),s!==null&&(yt(s,t,a,r),zr(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var n=$e(),r=as(t),a=Ft(n,r);a.tag=2,s!=null&&(a.callback=s),s=ns(t,a,r),s!==null&&(yt(s,t,r,n),zr(s,t,r))}};function wc(t,s,n,r,a,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):s.prototype&&s.prototype.isPureReactComponent?!Kn(n,r)||!Kn(a,i):!0}function ah(t,s,n){var r=!1,a=cs,i=s.contextType;return typeof i=="object"&&i!==null?i=ht(i):(a=Xe(s)?ws:Be.current,r=s.contextTypes,i=(r=r!=null)?tn(t,a):cs),s=new s(n,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ia,t.stateNode=s,s._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),s}function kc(t,s,n,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,r),s.state!==t&&Ia.enqueueReplaceState(s,s.state,null)}function ol(t,s,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},ro(t);var i=s.contextType;typeof i=="object"&&i!==null?a.context=ht(i):(i=Xe(s)?ws:Be.current,a.context=tn(t,i)),a.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(ll(t,s,i,n),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Ia.enqueueReplaceState(a,a.state,null),ha(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function an(t,s){try{var n="",r=s;do n+=Km(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:a,digest:null}}function gi(t,s,n){return{value:t,source:null,stack:n??null,digest:s??null}}function cl(t,s){try{console.error(s.value)}catch(n){setTimeout(function(){throw n})}}var kf=typeof WeakMap=="function"?WeakMap:Map;function ih(t,s,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var r=s.value;return n.callback=function(){ga||(ga=!0,yl=r),cl(t,s)},n}function lh(t,s,n){n=Ft(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=s.value;n.payload=function(){return r(a)},n.callback=function(){cl(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cl(t,s),typeof r!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),n}function Sc(t,s,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kf;var a=new Set;r.set(s,a)}else a=r.get(s),a===void 0&&(a=new Set,r.set(s,a));a.has(n)||(a.add(n),t=Uf.bind(null,t,s,n),s.then(t,t))}function Cc(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Rc(t,s,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(s=Ft(-1,1),s.tag=2,ns(n,s,1))),n.lanes|=1),t)}var Sf=Mt.ReactCurrentOwner,Je=!1;function We(t,s,n,r){s.child=t===null?_u(s,null,n,r):nn(s,t.child,n,r)}function Ac(t,s,n,r,a){n=n.render;var i=s.ref;return Ys(s,a),r=co(t,s,n,r,i,a),n=uo(),t!==null&&!Je?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,qt(t,s,a)):(ye&&n&&Yl(s),s.flags|=1,We(t,s,r,a),s.child)}function Ec(t,s,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!No(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(s.tag=15,s.type=i,oh(t,s,i,r,a)):(t=Gr(n.type,null,r,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&a)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kn,n(l,r)&&t.ref===s.ref)return qt(t,s,a)}return s.flags|=1,t=is(i,r),t.ref=s.ref,t.return=s,s.child=t}function oh(t,s,n,r,a){if(t!==null){var i=t.memoizedProps;if(Kn(i,r)&&t.ref===s.ref)if(Je=!1,s.pendingProps=r=i,(t.lanes&a)!==0)t.flags&131072&&(Je=!0);else return s.lanes=t.lanes,qt(t,s,a)}return dl(t,s,n,r,a)}function ch(t,s,n){var r=s.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Hs,st),st|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,fe(Hs,st),st|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fe(Hs,st),st|=r}else i!==null?(r=i.baseLanes|n,s.memoizedState=null):r=n,fe(Hs,st),st|=r;return We(t,s,a,n),s.child}function dh(t,s){var n=s.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(s.flags|=512,s.flags|=2097152)}function dl(t,s,n,r,a){var i=Xe(n)?ws:Be.current;return i=tn(s,i),Ys(s,a),n=co(t,s,n,r,i,a),r=uo(),t!==null&&!Je?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,qt(t,s,a)):(ye&&r&&Yl(s),s.flags|=1,We(t,s,n,a),s.child)}function Tc(t,s,n,r,a){if(Xe(n)){var i=!0;la(s)}else i=!1;if(Ys(s,a),s.stateNode===null)$r(t,s),ah(s,n,r),ol(s,n,r,a),r=!0;else if(t===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=ht(h):(h=Xe(n)?ws:Be.current,h=tn(s,h));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==h)&&kc(s,l,r,h),Gt=!1;var x=s.memoizedState;l.state=x,ha(s,r,l,a),c=s.memoizedState,o!==r||x!==c||Ye.current||Gt?(typeof m=="function"&&(ll(s,n,m,r),c=s.memoizedState),(o=Gt||wc(s,n,o,r,x,c,h))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=c),l.props=r,l.state=c,l.context=h,r=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{l=s.stateNode,Uu(t,s),o=s.memoizedProps,h=s.type===s.elementType?o:ft(s.type,o),l.props=h,p=s.pendingProps,x=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=ht(c):(c=Xe(n)?ws:Be.current,c=tn(s,c));var j=n.getDerivedStateFromProps;(m=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==p||x!==c)&&kc(s,l,r,c),Gt=!1,x=s.memoizedState,l.state=x,ha(s,r,l,a);var g=s.memoizedState;o!==p||x!==g||Ye.current||Gt?(typeof j=="function"&&(ll(s,n,j,r),g=s.memoizedState),(h=Gt||wc(s,n,h,r,x,g,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,g,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=g),l.props=r,l.state=g,l.context=c,r=h):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),r=!1)}return ul(t,s,n,r,i,a)}function ul(t,s,n,r,a,i){dh(t,s);var l=(s.flags&128)!==0;if(!r&&!l)return a&&fc(s,n,!1),qt(t,s,i);r=s.stateNode,Sf.current=s;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return s.flags|=1,t!==null&&l?(s.child=nn(s,t.child,null,i),s.child=nn(s,null,o,i)):We(t,s,o,i),s.memoizedState=r.state,a&&fc(s,n,!0),s.child}function uh(t){var s=t.stateNode;s.pendingContext?pc(t,s.pendingContext,s.pendingContext!==s.context):s.context&&pc(t,s.context,!1),ao(t,s.containerInfo)}function Lc(t,s,n,r,a){return sn(),Zl(a),s.flags|=256,We(t,s,n,r),s.child}var hl={dehydrated:null,treeContext:null,retryLane:0};function ml(t){return{baseLanes:t,cachePool:null,transitions:null}}function hh(t,s,n){var r=s.pendingProps,a=Ne.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),fe(Ne,a&1),t===null)return al(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=r.children,t=r.fallback,i?(r=s.mode,i=s.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Fa(l,r,0,null),t=Ns(t,r,n,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=ml(n),s.memoizedState=hl,t):po(s,l));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Cf(t,s,l,r,o,a,n);if(i){i=r.fallback,l=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&s.child!==a?(r=s.child,r.childLanes=0,r.pendingProps=c,s.deletions=null):(r=is(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=is(o,i):(i=Ns(i,l,n,null),i.flags|=2),i.return=s,r.return=s,r.sibling=i,s.child=r,r=i,i=s.child,l=t.child.memoizedState,l=l===null?ml(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,s.memoizedState=hl,r}return i=t.child,t=i.sibling,r=is(i,{mode:"visible",children:r.children}),!(s.mode&1)&&(r.lanes=n),r.return=s,r.sibling=null,t!==null&&(n=s.deletions,n===null?(s.deletions=[t],s.flags|=16):n.push(t)),s.child=r,s.memoizedState=null,r}function po(t,s){return s=Fa({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Lr(t,s,n,r){return r!==null&&Zl(r),nn(s,t.child,null,n),t=po(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Cf(t,s,n,r,a,i,l){if(n)return s.flags&256?(s.flags&=-257,r=gi(Error(G(422))),Lr(t,s,l,r)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=r.fallback,a=s.mode,r=Fa({mode:"visible",children:r.children},a,0,null),i=Ns(i,a,l,null),i.flags|=2,r.return=s,i.return=s,r.sibling=i,s.child=r,s.mode&1&&nn(s,t.child,null,l),s.child.memoizedState=ml(l),s.memoizedState=hl,i);if(!(s.mode&1))return Lr(t,s,l,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(G(419)),r=gi(i,r,void 0),Lr(t,s,l,r)}if(o=(l&t.childLanes)!==0,Je||o){if(r=Pe,r!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ut(t,a),yt(r,t,a,-1))}return vo(),r=gi(Error(G(421))),Lr(t,s,l,r)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=qf.bind(null,t),a._reactRetry=s,null):(t=i.treeContext,nt=ss(a.nextSibling),rt=s,ye=!0,gt=null,t!==null&&(ot[ct++]=Pt,ot[ct++]=Dt,ot[ct++]=ks,Pt=t.id,Dt=t.overflow,ks=s),s=po(s,r.children),s.flags|=4096,s)}function Ic(t,s,n){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),il(t.return,s,n)}function ji(t,s,n,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function mh(t,s,n){var r=s.pendingProps,a=r.revealOrder,i=r.tail;if(We(t,s,r.children,n),r=Ne.current,r&2)r=r&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ic(t,n,s);else if(t.tag===19)Ic(t,n,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(Ne,r),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(n=s.child,a=null;n!==null;)t=n.alternate,t!==null&&ma(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=s.child,s.child=null):(a=n.sibling,n.sibling=null),ji(s,!1,a,n,i);break;case"backwards":for(n=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&ma(t)===null){s.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}ji(s,!0,n,null,i);break;case"together":ji(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $r(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function qt(t,s,n){if(t!==null&&(s.dependencies=t.dependencies),Cs|=s.lanes,!(n&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(G(153));if(s.child!==null){for(t=s.child,n=is(t,t.pendingProps),s.child=n,n.return=s;t.sibling!==null;)t=t.sibling,n=n.sibling=is(t,t.pendingProps),n.return=s;n.sibling=null}return s.child}function Rf(t,s,n){switch(s.tag){case 3:uh(s),sn();break;case 5:qu(s);break;case 1:Xe(s.type)&&la(s);break;case 4:ao(s,s.stateNode.containerInfo);break;case 10:var r=s.type._context,a=s.memoizedProps.value;fe(da,r._currentValue),r._currentValue=a;break;case 13:if(r=s.memoizedState,r!==null)return r.dehydrated!==null?(fe(Ne,Ne.current&1),s.flags|=128,null):n&s.child.childLanes?hh(t,s,n):(fe(Ne,Ne.current&1),t=qt(t,s,n),t!==null?t.sibling:null);fe(Ne,Ne.current&1);break;case 19:if(r=(n&s.childLanes)!==0,t.flags&128){if(r)return mh(t,s,n);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fe(Ne,Ne.current),r)break;return null;case 22:case 23:return s.lanes=0,ch(t,s,n)}return qt(t,s,n)}var ph,pl,fh,xh;ph=function(t,s){for(var n=s.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pl=function(){};fh=function(t,s,n,r){var a=t.memoizedProps;if(a!==r){t=s.stateNode,js(At.current);var i=null;switch(n){case"input":a=_i(t,a),r=_i(t,r),i=[];break;case"select":a=ke({},a,{value:void 0}),r=ke({},r,{value:void 0}),i=[];break;case"textarea":a=qi(t,a),r=qi(t,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=aa)}zi(n,r);var l;n=null;for(h in a)if(!r.hasOwnProperty(h)&&a.hasOwnProperty(h)&&a[h]!=null)if(h==="style"){var o=a[h];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Wn.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(o=a!=null?a[h]:void 0,r.hasOwnProperty(h)&&c!==o&&(c!=null||o!=null))if(h==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Wn.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&ge("scroll",t),i||o===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(s.updateQueue=h)&&(s.flags|=4)}};xh=function(t,s,n,r){n!==r&&(s.flags|=4)};function Cn(t,s){if(!ye)switch(t.tailMode){case"hidden":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qe(t){var s=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(s)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,s}function Af(t,s,n){var r=s.pendingProps;switch(Xl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(s),null;case 1:return Xe(s.type)&&ia(),qe(s),null;case 3:return r=s.stateNode,rn(),je(Ye),je(Be),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Er(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,gt!==null&&(bl(gt),gt=null))),pl(t,s),qe(s),null;case 5:io(s);var a=js(tr.current);if(n=s.type,t!==null&&s.stateNode!=null)fh(t,s,n,r,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!r){if(s.stateNode===null)throw Error(G(166));return qe(s),null}if(t=js(At.current),Er(s)){r=s.stateNode,n=s.type;var i=s.memoizedProps;switch(r[Ct]=s,r[Zn]=i,t=(s.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(a=0;a<Pn.length;a++)ge(Pn[a],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":zo(r,i),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ge("invalid",r);break;case"textarea":Wo(r,i),ge("invalid",r)}zi(n,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ar(r.textContent,o,t),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ar(r.textContent,o,t),a=["children",""+o]):Wn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ge("scroll",r)}switch(n){case"input":vr(r),Bo(r,i,!0);break;case"textarea":vr(r),$o(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=aa)}r=a,s.updateQueue=r,r!==null&&(s.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$d(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Ct]=s,t[Zn]=r,ph(t,s,!1,!1),s.stateNode=t;e:{switch(l=Bi(n,r),n){case"dialog":ge("cancel",t),ge("close",t),a=r;break;case"iframe":case"object":case"embed":ge("load",t),a=r;break;case"video":case"audio":for(a=0;a<Pn.length;a++)ge(Pn[a],t);a=r;break;case"source":ge("error",t),a=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),a=r;break;case"details":ge("toggle",t),a=r;break;case"input":zo(t,r),a=_i(t,r),ge("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=ke({},r,{value:void 0}),ge("invalid",t);break;case"textarea":Wo(t,r),a=qi(t,r),ge("invalid",t);break;default:a=r}zi(n,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Gd(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vd(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$n(t,c):typeof c=="number"&&$n(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ge("scroll",t):c!=null&&Ol(t,i,c,l))}switch(n){case"input":vr(t),Bo(t,r,!1);break;case"textarea":vr(t),$o(t);break;case"option":r.value!=null&&t.setAttribute("value",""+os(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Gs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=aa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return qe(s),null;case 6:if(t&&s.stateNode!=null)xh(t,s,t.memoizedProps,r);else{if(typeof r!="string"&&s.stateNode===null)throw Error(G(166));if(n=js(tr.current),js(At.current),Er(s)){if(r=s.stateNode,n=s.memoizedProps,r[Ct]=s,(i=r.nodeValue!==n)&&(t=rt,t!==null))switch(t.tag){case 3:Ar(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ar(r.nodeValue,n,(t.mode&1)!==0)}i&&(s.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=s,s.stateNode=r}return qe(s),null;case 13:if(je(Ne),r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ye&&nt!==null&&s.mode&1&&!(s.flags&128))Du(),sn(),s.flags|=98560,i=!1;else if(i=Er(s),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ct]=s}else sn(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;qe(s),i=!1}else gt!==null&&(bl(gt),gt=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=n,s):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(s.child.flags|=8192,s.mode&1&&(t===null||Ne.current&1?Le===0&&(Le=3):vo())),s.updateQueue!==null&&(s.flags|=4),qe(s),null);case 4:return rn(),pl(t,s),t===null&&Yn(s.stateNode.containerInfo),qe(s),null;case 10:return so(s.type._context),qe(s),null;case 17:return Xe(s.type)&&ia(),qe(s),null;case 19:if(je(Ne),i=s.memoizedState,i===null)return qe(s),null;if(r=(s.flags&128)!==0,l=i.rendering,l===null)if(r)Cn(i,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(l=ma(t),l!==null){for(s.flags|=128,Cn(i,!1),r=l.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=n,n=s.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(Ne,Ne.current&1|2),s.child}t=t.sibling}i.tail!==null&&Ae()>ln&&(s.flags|=128,r=!0,Cn(i,!1),s.lanes=4194304)}else{if(!r)if(t=ma(l),t!==null){if(s.flags|=128,r=!0,n=t.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),Cn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ye)return qe(s),null}else 2*Ae()-i.renderingStartTime>ln&&n!==1073741824&&(s.flags|=128,r=!0,Cn(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(n=i.last,n!==null?n.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Ae(),s.sibling=null,n=Ne.current,fe(Ne,r?n&1|2:n&1),s):(qe(s),null);case 22:case 23:return yo(),r=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(s.flags|=8192),r&&s.mode&1?st&1073741824&&(qe(s),s.subtreeFlags&6&&(s.flags|=8192)):qe(s),null;case 24:return null;case 25:return null}throw Error(G(156,s.tag))}function Ef(t,s){switch(Xl(s),s.tag){case 1:return Xe(s.type)&&ia(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return rn(),je(Ye),je(Be),lo(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return io(s),null;case 13:if(je(Ne),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(G(340));sn()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return je(Ne),null;case 4:return rn(),null;case 10:return so(s.type._context),null;case 22:case 23:return yo(),null;case 24:return null;default:return null}}var Ir=!1,Me=!1,Tf=typeof WeakSet=="function"?WeakSet:Set,X=null;function Vs(t,s){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,s,r)}else n.current=null}function fl(t,s,n){try{n()}catch(r){Ce(t,s,r)}}var Pc=!1;function Lf(t,s){if(Xi=sa,t=Nu(),Kl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,h=0,m=0,p=t,x=null;t:for(;;){for(var j;p!==n||a!==0&&p.nodeType!==3||(o=l+a),p!==i||r!==0&&p.nodeType!==3||(c=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(j=p.firstChild)!==null;)x=p,p=j;for(;;){if(p===t)break t;if(x===n&&++h===a&&(o=l),x===i&&++m===r&&(c=l),(j=p.nextSibling)!==null)break;p=x,x=p.parentNode}p=j}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zi={focusedElem:t,selectionRange:n},sa=!1,X=s;X!==null;)if(s=X,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,X=t;else for(;X!==null;){s=X;try{var g=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,S=g.memoizedState,w=s.stateNode,u=w.getSnapshotBeforeUpdate(s.elementType===s.type?b:ft(s.type,b),S);w.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=s.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(v){Ce(s,s.return,v)}if(t=s.sibling,t!==null){t.return=s.return,X=t;break}X=s.return}return g=Pc,Pc=!1,g}function Mn(t,s,n){var r=s.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&fl(s,n,i)}a=a.next}while(a!==r)}}function Pa(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==s)}}function xl(t){var s=t.ref;if(s!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof s=="function"?s(t):s.current=t}}function gh(t){var s=t.alternate;s!==null&&(t.alternate=null,gh(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Ct],delete s[Zn],delete s[sl],delete s[mf],delete s[pf])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jh(t){return t.tag===5||t.tag===3||t.tag===4}function Dc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gl(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.nodeType===8?n.parentNode.insertBefore(t,s):n.insertBefore(t,s):(n.nodeType===8?(s=n.parentNode,s.insertBefore(t,n)):(s=n,s.appendChild(t)),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=aa));else if(r!==4&&(t=t.child,t!==null))for(gl(t,s,n),t=t.sibling;t!==null;)gl(t,s,n),t=t.sibling}function jl(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.insertBefore(t,s):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jl(t,s,n),t=t.sibling;t!==null;)jl(t,s,n),t=t.sibling}var Fe=null,xt=!1;function $t(t,s,n){for(n=n.child;n!==null;)yh(t,s,n),n=n.sibling}function yh(t,s,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Sa,n)}catch{}switch(n.tag){case 5:Me||Vs(n,s);case 6:var r=Fe,a=xt;Fe=null,$t(t,s,n),Fe=r,xt=a,Fe!==null&&(xt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(xt?(t=Fe,n=n.stateNode,t.nodeType===8?ui(t.parentNode,n):t.nodeType===1&&ui(t,n),Qn(t)):ui(Fe,n.stateNode));break;case 4:r=Fe,a=xt,Fe=n.stateNode.containerInfo,xt=!0,$t(t,s,n),Fe=r,xt=a;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&fl(n,s,l),a=a.next}while(a!==r)}$t(t,s,n);break;case 1:if(!Me&&(Vs(n,s),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ce(n,s,o)}$t(t,s,n);break;case 21:$t(t,s,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,$t(t,s,n),Me=r):$t(t,s,n);break;default:$t(t,s,n)}}function Fc(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Tf),s.forEach(function(r){var a=Mf.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function pt(t,s){var n=s.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=t,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:Fe=o.stateNode,xt=!1;break e;case 3:Fe=o.stateNode.containerInfo,xt=!0;break e;case 4:Fe=o.stateNode.containerInfo,xt=!0;break e}o=o.return}if(Fe===null)throw Error(G(160));yh(i,l,a),Fe=null,xt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(h){Ce(a,s,h)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)vh(s,t),s=s.sibling}function vh(t,s){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pt(s,t),bt(t),r&4){try{Mn(3,t,t.return),Pa(3,t)}catch(b){Ce(t,t.return,b)}try{Mn(5,t,t.return)}catch(b){Ce(t,t.return,b)}}break;case 1:pt(s,t),bt(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(pt(s,t),bt(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var a=t.stateNode;try{$n(a,"")}catch(b){Ce(t,t.return,b)}}if(r&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Bd(a,i),Bi(o,l);var h=Bi(o,i);for(l=0;l<c.length;l+=2){var m=c[l],p=c[l+1];m==="style"?Gd(a,p):m==="dangerouslySetInnerHTML"?Vd(a,p):m==="children"?$n(a,p):Ol(a,m,p,h)}switch(o){case"input":Oi(a,i);break;case"textarea":Wd(a,i);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var j=i.value;j!=null?Gs(a,!!i.multiple,j,!1):x!==!!i.multiple&&(i.defaultValue!=null?Gs(a,!!i.multiple,i.defaultValue,!0):Gs(a,!!i.multiple,i.multiple?[]:"",!1))}a[Zn]=i}catch(b){Ce(t,t.return,b)}}break;case 6:if(pt(s,t),bt(t),r&4){if(t.stateNode===null)throw Error(G(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(b){Ce(t,t.return,b)}}break;case 3:if(pt(s,t),bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qn(s.containerInfo)}catch(b){Ce(t,t.return,b)}break;case 4:pt(s,t),bt(t);break;case 13:pt(s,t),bt(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(go=Ae())),r&4&&Fc(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Me=(h=Me)||m,pt(s,t),Me=h):pt(s,t),bt(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!m&&t.mode&1)for(X=t,m=t.child;m!==null;){for(p=X=m;X!==null;){switch(x=X,j=x.child,x.tag){case 0:case 11:case 14:case 15:Mn(4,x,x.return);break;case 1:Vs(x,x.return);var g=x.stateNode;if(typeof g.componentWillUnmount=="function"){r=x,n=x.return;try{s=r,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(b){Ce(r,n,b)}}break;case 5:Vs(x,x.return);break;case 22:if(x.memoizedState!==null){Oc(p);continue}}j!==null?(j.return=x,X=j):Oc(p)}m=m.sibling}e:for(m=null,p=t;;){if(p.tag===5){if(m===null){m=p;try{a=p.stateNode,h?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,c=p.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Hd("display",l))}catch(b){Ce(t,t.return,b)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(b){Ce(t,t.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:pt(s,t),bt(t),r&4&&Fc(t);break;case 21:break;default:pt(s,t),bt(t)}}function bt(t){var s=t.flags;if(s&2){try{e:{for(var n=t.return;n!==null;){if(jh(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&($n(a,""),r.flags&=-33);var i=Dc(t);jl(t,i,a);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Dc(t);gl(t,o,l);break;default:throw Error(G(161))}}catch(c){Ce(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function If(t,s,n){X=t,Nh(t)}function Nh(t,s,n){for(var r=(t.mode&1)!==0;X!==null;){var a=X,i=a.child;if(a.tag===22&&r){var l=a.memoizedState!==null||Ir;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Me;o=Ir;var h=Me;if(Ir=l,(Me=c)&&!h)for(X=a;X!==null;)l=X,c=l.child,l.tag===22&&l.memoizedState!==null?Uc(a):c!==null?(c.return=l,X=c):Uc(a);for(;i!==null;)X=i,Nh(i),i=i.sibling;X=a,Ir=o,Me=h}_c(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,X=i):_c(t)}}function _c(t){for(;X!==null;){var s=X;if(s.flags&8772){var n=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Me||Pa(5,s);break;case 1:var r=s.stateNode;if(s.flags&4&&!Me)if(n===null)r.componentDidMount();else{var a=s.elementType===s.type?n.memoizedProps:ft(s.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&vc(s,i,r);break;case 3:var l=s.updateQueue;if(l!==null){if(n=null,s.child!==null)switch(s.child.tag){case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}vc(s,l,n)}break;case 5:var o=s.stateNode;if(n===null&&s.flags&4){n=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var h=s.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&Qn(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Me||s.flags&512&&xl(s)}catch(x){Ce(s,s.return,x)}}if(s===t){X=null;break}if(n=s.sibling,n!==null){n.return=s.return,X=n;break}X=s.return}}function Oc(t){for(;X!==null;){var s=X;if(s===t){X=null;break}var n=s.sibling;if(n!==null){n.return=s.return,X=n;break}X=s.return}}function Uc(t){for(;X!==null;){var s=X;try{switch(s.tag){case 0:case 11:case 15:var n=s.return;try{Pa(4,s)}catch(c){Ce(s,n,c)}break;case 1:var r=s.stateNode;if(typeof r.componentDidMount=="function"){var a=s.return;try{r.componentDidMount()}catch(c){Ce(s,a,c)}}var i=s.return;try{xl(s)}catch(c){Ce(s,i,c)}break;case 5:var l=s.return;try{xl(s)}catch(c){Ce(s,l,c)}}}catch(c){Ce(s,s.return,c)}if(s===t){X=null;break}var o=s.sibling;if(o!==null){o.return=s.return,X=o;break}X=s.return}}var Pf=Math.ceil,xa=Mt.ReactCurrentDispatcher,fo=Mt.ReactCurrentOwner,ut=Mt.ReactCurrentBatchConfig,de=0,Pe=null,Ee=null,_e=0,st=0,Hs=us(0),Le=0,ar=null,Cs=0,Da=0,xo=0,zn=null,Qe=null,go=0,ln=1/0,Lt=null,ga=!1,yl=null,rs=null,Pr=!1,Yt=null,ja=0,Bn=0,vl=null,Vr=-1,Hr=0;function $e(){return de&6?Ae():Vr!==-1?Vr:Vr=Ae()}function as(t){return t.mode&1?de&2&&_e!==0?_e&-_e:xf.transition!==null?(Hr===0&&(Hr=au()),Hr):(t=me,t!==0||(t=window.event,t=t===void 0?16:hu(t.type)),t):1}function yt(t,s,n,r){if(50<Bn)throw Bn=0,vl=null,Error(G(185));cr(t,n,r),(!(de&2)||t!==Pe)&&(t===Pe&&(!(de&2)&&(Da|=n),Le===4&&Jt(t,_e)),Ze(t,r),n===1&&de===0&&!(s.mode&1)&&(ln=Ae()+500,Ta&&hs()))}function Ze(t,s){var n=t.callbackNode;fp(t,s);var r=ta(t,t===Pe?_e:0);if(r===0)n!==null&&Go(n),t.callbackNode=null,t.callbackPriority=0;else if(s=r&-r,t.callbackPriority!==s){if(n!=null&&Go(n),s===1)t.tag===0?ff(qc.bind(null,t)):Lu(qc.bind(null,t)),uf(function(){!(de&6)&&hs()}),n=null;else{switch(iu(r)){case 1:n=Bl;break;case 4:n=nu;break;case 16:n=ea;break;case 536870912:n=ru;break;default:n=ea}n=Eh(n,bh.bind(null,t))}t.callbackPriority=s,t.callbackNode=n}}function bh(t,s){if(Vr=-1,Hr=0,de&6)throw Error(G(327));var n=t.callbackNode;if(Xs()&&t.callbackNode!==n)return null;var r=ta(t,t===Pe?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||s)s=ya(t,r);else{s=r;var a=de;de|=2;var i=kh();(Pe!==t||_e!==s)&&(Lt=null,ln=Ae()+500,vs(t,s));do try{_f();break}catch(o){wh(t,o)}while(!0);to(),xa.current=i,de=a,Ee!==null?s=0:(Pe=null,_e=0,s=Le)}if(s!==0){if(s===2&&(a=Gi(t),a!==0&&(r=a,s=Nl(t,a))),s===1)throw n=ar,vs(t,0),Jt(t,r),Ze(t,Ae()),n;if(s===6)Jt(t,r);else{if(a=t.current.alternate,!(r&30)&&!Df(a)&&(s=ya(t,r),s===2&&(i=Gi(t),i!==0&&(r=i,s=Nl(t,i))),s===1))throw n=ar,vs(t,0),Jt(t,r),Ze(t,Ae()),n;switch(t.finishedWork=a,t.finishedLanes=r,s){case 0:case 1:throw Error(G(345));case 2:fs(t,Qe,Lt);break;case 3:if(Jt(t,r),(r&130023424)===r&&(s=go+500-Ae(),10<s)){if(ta(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){$e(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=tl(fs.bind(null,t,Qe,Lt),s);break}fs(t,Qe,Lt);break;case 4:if(Jt(t,r),(r&4194240)===r)break;for(s=t.eventTimes,a=-1;0<r;){var l=31-jt(r);i=1<<l,l=s[l],l>a&&(a=l),r&=~i}if(r=a,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pf(r/1960))-r,10<r){t.timeoutHandle=tl(fs.bind(null,t,Qe,Lt),r);break}fs(t,Qe,Lt);break;case 5:fs(t,Qe,Lt);break;default:throw Error(G(329))}}}return Ze(t,Ae()),t.callbackNode===n?bh.bind(null,t):null}function Nl(t,s){var n=zn;return t.current.memoizedState.isDehydrated&&(vs(t,s).flags|=256),t=ya(t,s),t!==2&&(s=Qe,Qe=n,s!==null&&bl(s)),t}function bl(t){Qe===null?Qe=t:Qe.push.apply(Qe,t)}function Df(t){for(var s=t;;){if(s.flags&16384){var n=s.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!vt(i(),a))return!1}catch{return!1}}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Jt(t,s){for(s&=~xo,s&=~Da,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var n=31-jt(s),r=1<<n;t[n]=-1,s&=~r}}function qc(t){if(de&6)throw Error(G(327));Xs();var s=ta(t,0);if(!(s&1))return Ze(t,Ae()),null;var n=ya(t,s);if(t.tag!==0&&n===2){var r=Gi(t);r!==0&&(s=r,n=Nl(t,r))}if(n===1)throw n=ar,vs(t,0),Jt(t,s),Ze(t,Ae()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,fs(t,Qe,Lt),Ze(t,Ae()),null}function jo(t,s){var n=de;de|=1;try{return t(s)}finally{de=n,de===0&&(ln=Ae()+500,Ta&&hs())}}function Rs(t){Yt!==null&&Yt.tag===0&&!(de&6)&&Xs();var s=de;de|=1;var n=ut.transition,r=me;try{if(ut.transition=null,me=1,t)return t()}finally{me=r,ut.transition=n,de=s,!(de&6)&&hs()}}function yo(){st=Hs.current,je(Hs)}function vs(t,s){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,df(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Xl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ia();break;case 3:rn(),je(Ye),je(Be),lo();break;case 5:io(r);break;case 4:rn();break;case 13:je(Ne);break;case 19:je(Ne);break;case 10:so(r.type._context);break;case 22:case 23:yo()}n=n.return}if(Pe=t,Ee=t=is(t.current,null),_e=st=s,Le=0,ar=null,xo=Da=Cs=0,Qe=zn=null,gs!==null){for(s=0;s<gs.length;s++)if(n=gs[s],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=a,r.next=l}n.pending=r}gs=null}return t}function wh(t,s){do{var n=Ee;try{if(to(),Br.current=fa,pa){for(var r=be.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}pa=!1}if(Ss=0,Ie=Te=be=null,qn=!1,sr=0,fo.current=null,n===null||n.return===null){Le=1,ar=s,Ee=null;break}e:{var i=t,l=n.return,o=n,c=s;if(s=_e,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,m=o,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var j=Cc(l);if(j!==null){j.flags&=-257,Rc(j,l,o,i,s),j.mode&1&&Sc(i,h,s),s=j,c=h;var g=s.updateQueue;if(g===null){var b=new Set;b.add(c),s.updateQueue=b}else g.add(c);break e}else{if(!(s&1)){Sc(i,h,s),vo();break e}c=Error(G(426))}}else if(ye&&o.mode&1){var S=Cc(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Rc(S,l,o,i,s),Zl(an(c,o));break e}}i=c=an(c,o),Le!==4&&(Le=2),zn===null?zn=[i]:zn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var w=ih(i,c,s);yc(i,w);break e;case 1:o=c;var u=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rs===null||!rs.has(f)))){i.flags|=65536,s&=-s,i.lanes|=s;var v=lh(i,o,s);yc(i,v);break e}}i=i.return}while(i!==null)}Ch(n)}catch(N){s=N,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function kh(){var t=xa.current;return xa.current=fa,t===null?fa:t}function vo(){(Le===0||Le===3||Le===2)&&(Le=4),Pe===null||!(Cs&268435455)&&!(Da&268435455)||Jt(Pe,_e)}function ya(t,s){var n=de;de|=2;var r=kh();(Pe!==t||_e!==s)&&(Lt=null,vs(t,s));do try{Ff();break}catch(a){wh(t,a)}while(!0);if(to(),de=n,xa.current=r,Ee!==null)throw Error(G(261));return Pe=null,_e=0,Le}function Ff(){for(;Ee!==null;)Sh(Ee)}function _f(){for(;Ee!==null&&!ip();)Sh(Ee)}function Sh(t){var s=Ah(t.alternate,t,st);t.memoizedProps=t.pendingProps,s===null?Ch(t):Ee=s,fo.current=null}function Ch(t){var s=t;do{var n=s.alternate;if(t=s.return,s.flags&32768){if(n=Ef(n,s),n!==null){n.flags&=32767,Ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Ee=null;return}}else if(n=Af(n,s,st),n!==null){Ee=n;return}if(s=s.sibling,s!==null){Ee=s;return}Ee=s=t}while(s!==null);Le===0&&(Le=5)}function fs(t,s,n){var r=me,a=ut.transition;try{ut.transition=null,me=1,Of(t,s,n,r)}finally{ut.transition=a,me=r}return null}function Of(t,s,n,r){do Xs();while(Yt!==null);if(de&6)throw Error(G(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(xp(t,i),t===Pe&&(Ee=Pe=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pr||(Pr=!0,Eh(ea,function(){return Xs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ut.transition,ut.transition=null;var l=me;me=1;var o=de;de|=4,fo.current=null,Lf(t,n),vh(n,t),sf(Zi),sa=!!Xi,Zi=Xi=null,t.current=n,If(n),lp(),de=o,me=l,ut.transition=i}else t.current=n;if(Pr&&(Pr=!1,Yt=t,ja=a),i=t.pendingLanes,i===0&&(rs=null),dp(n.stateNode),Ze(t,Ae()),s!==null)for(r=t.onRecoverableError,n=0;n<s.length;n++)a=s[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ga)throw ga=!1,t=yl,yl=null,t;return ja&1&&t.tag!==0&&Xs(),i=t.pendingLanes,i&1?t===vl?Bn++:(Bn=0,vl=t):Bn=0,hs(),null}function Xs(){if(Yt!==null){var t=iu(ja),s=ut.transition,n=me;try{if(ut.transition=null,me=16>t?16:t,Yt===null)var r=!1;else{if(t=Yt,Yt=null,ja=0,de&6)throw Error(G(331));var a=de;for(de|=4,X=t.current;X!==null;){var i=X,l=i.child;if(X.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var h=o[c];for(X=h;X!==null;){var m=X;switch(m.tag){case 0:case 11:case 15:Mn(8,m,i)}var p=m.child;if(p!==null)p.return=m,X=p;else for(;X!==null;){m=X;var x=m.sibling,j=m.return;if(gh(m),m===h){X=null;break}if(x!==null){x.return=j,X=x;break}X=j}}}var g=i.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}X=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,X=l;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mn(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,X=w;break e}X=i.return}}var u=t.current;for(X=u;X!==null;){l=X;var f=l.child;if(l.subtreeFlags&2064&&f!==null)f.return=l,X=f;else e:for(l=u;X!==null;){if(o=X,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pa(9,o)}}catch(N){Ce(o,o.return,N)}if(o===l){X=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,X=v;break e}X=o.return}}if(de=a,hs(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Sa,t)}catch{}r=!0}return r}finally{me=n,ut.transition=s}}return!1}function Mc(t,s,n){s=an(n,s),s=ih(t,s,1),t=ns(t,s,1),s=$e(),t!==null&&(cr(t,1,s),Ze(t,s))}function Ce(t,s,n){if(t.tag===3)Mc(t,t,n);else for(;s!==null;){if(s.tag===3){Mc(s,t,n);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){t=an(n,t),t=lh(s,t,1),s=ns(s,t,1),t=$e(),s!==null&&(cr(s,1,t),Ze(s,t));break}}s=s.return}}function Uf(t,s,n){var r=t.pingCache;r!==null&&r.delete(s),s=$e(),t.pingedLanes|=t.suspendedLanes&n,Pe===t&&(_e&n)===n&&(Le===4||Le===3&&(_e&130023424)===_e&&500>Ae()-go?vs(t,0):xo|=n),Ze(t,s)}function Rh(t,s){s===0&&(t.mode&1?(s=wr,wr<<=1,!(wr&130023424)&&(wr=4194304)):s=1);var n=$e();t=Ut(t,s),t!==null&&(cr(t,s,n),Ze(t,n))}function qf(t){var s=t.memoizedState,n=0;s!==null&&(n=s.retryLane),Rh(t,n)}function Mf(t,s){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(s),Rh(t,n)}var Ah;Ah=function(t,s,n){if(t!==null)if(t.memoizedProps!==s.pendingProps||Ye.current)Je=!0;else{if(!(t.lanes&n)&&!(s.flags&128))return Je=!1,Rf(t,s,n);Je=!!(t.flags&131072)}else Je=!1,ye&&s.flags&1048576&&Iu(s,ca,s.index);switch(s.lanes=0,s.tag){case 2:var r=s.type;$r(t,s),t=s.pendingProps;var a=tn(s,Be.current);Ys(s,n),a=co(null,s,r,t,a,n);var i=uo();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xe(r)?(i=!0,la(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ro(s),a.updater=Ia,s.stateNode=a,a._reactInternals=s,ol(s,r,t,n),s=ul(null,s,r,!0,i,n)):(s.tag=0,ye&&i&&Yl(s),We(null,s,a,n),s=s.child),s;case 16:r=s.elementType;e:{switch($r(t,s),t=s.pendingProps,a=r._init,r=a(r._payload),s.type=r,a=s.tag=Bf(r),t=ft(r,t),a){case 0:s=dl(null,s,r,t,n);break e;case 1:s=Tc(null,s,r,t,n);break e;case 11:s=Ac(null,s,r,t,n);break e;case 14:s=Ec(null,s,r,ft(r.type,t),n);break e}throw Error(G(306,r,""))}return s;case 0:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:ft(r,a),dl(t,s,r,a,n);case 1:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:ft(r,a),Tc(t,s,r,a,n);case 3:e:{if(uh(s),t===null)throw Error(G(387));r=s.pendingProps,i=s.memoizedState,a=i.element,Uu(t,s),ha(s,r,null,n);var l=s.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=an(Error(G(423)),s),s=Lc(t,s,r,n,a);break e}else if(r!==a){a=an(Error(G(424)),s),s=Lc(t,s,r,n,a);break e}else for(nt=ss(s.stateNode.containerInfo.firstChild),rt=s,ye=!0,gt=null,n=_u(s,null,r,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sn(),r===a){s=qt(t,s,n);break e}We(t,s,r,n)}s=s.child}return s;case 5:return qu(s),t===null&&al(s),r=s.type,a=s.pendingProps,i=t!==null?t.memoizedProps:null,l=a.children,el(r,a)?l=null:i!==null&&el(r,i)&&(s.flags|=32),dh(t,s),We(t,s,l,n),s.child;case 6:return t===null&&al(s),null;case 13:return hh(t,s,n);case 4:return ao(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=nn(s,null,r,n):We(t,s,r,n),s.child;case 11:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:ft(r,a),Ac(t,s,r,a,n);case 7:return We(t,s,s.pendingProps,n),s.child;case 8:return We(t,s,s.pendingProps.children,n),s.child;case 12:return We(t,s,s.pendingProps.children,n),s.child;case 10:e:{if(r=s.type._context,a=s.pendingProps,i=s.memoizedProps,l=a.value,fe(da,r._currentValue),r._currentValue=l,i!==null)if(vt(i.value,l)){if(i.children===a.children&&!Ye.current){s=qt(t,s,n);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ft(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?c.next=c:(c.next=m.next,m.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),il(i.return,n,s),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(G(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),il(l,n,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}We(t,s,a.children,n),s=s.child}return s;case 9:return a=s.type,r=s.pendingProps.children,Ys(s,n),a=ht(a),r=r(a),s.flags|=1,We(t,s,r,n),s.child;case 14:return r=s.type,a=ft(r,s.pendingProps),a=ft(r.type,a),Ec(t,s,r,a,n);case 15:return oh(t,s,s.type,s.pendingProps,n);case 17:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:ft(r,a),$r(t,s),s.tag=1,Xe(r)?(t=!0,la(s)):t=!1,Ys(s,n),ah(s,r,a),ol(s,r,a,n),ul(null,s,r,!0,t,n);case 19:return mh(t,s,n);case 22:return ch(t,s,n)}throw Error(G(156,s.tag))};function Eh(t,s){return su(t,s)}function zf(t,s,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(t,s,n,r){return new zf(t,s,n,r)}function No(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bf(t){if(typeof t=="function")return No(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ql)return 11;if(t===Ml)return 14}return 2}function is(t,s){var n=t.alternate;return n===null?(n=dt(t.tag,s,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=s,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,s=t.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gr(t,s,n,r,a,i){var l=2;if(r=t,typeof t=="function")No(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case _s:return Ns(n.children,a,i,s);case Ul:l=8,a|=8;break;case Ii:return t=dt(12,n,s,a|2),t.elementType=Ii,t.lanes=i,t;case Pi:return t=dt(13,n,s,a),t.elementType=Pi,t.lanes=i,t;case Di:return t=dt(19,n,s,a),t.elementType=Di,t.lanes=i,t;case qd:return Fa(n,a,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Od:l=10;break e;case Ud:l=9;break e;case ql:l=11;break e;case Ml:l=14;break e;case Ht:l=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return s=dt(l,n,s,a),s.elementType=t,s.type=r,s.lanes=i,s}function Ns(t,s,n,r){return t=dt(7,t,r,s),t.lanes=n,t}function Fa(t,s,n,r){return t=dt(22,t,r,s),t.elementType=qd,t.lanes=n,t.stateNode={isHidden:!1},t}function yi(t,s,n){return t=dt(6,t,null,s),t.lanes=n,t}function vi(t,s,n){return s=dt(4,t.children!==null?t.children:[],t.key,s),s.lanes=n,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Wf(t,s,n,r,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ei(0),this.expirationTimes=ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bo(t,s,n,r,a,i,l,o,c){return t=new Wf(t,s,n,o,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=dt(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ro(i),t}function $f(t,s,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:s,implementation:n}}function Th(t){if(!t)return cs;t=t._reactInternals;e:{if(Ts(t)!==t||t.tag!==1)throw Error(G(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xe(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Xe(n))return Tu(t,n,s)}return s}function Lh(t,s,n,r,a,i,l,o,c){return t=bo(n,r,!0,t,a,i,l,o,c),t.context=Th(null),n=t.current,r=$e(),a=as(n),i=Ft(r,a),i.callback=s??null,ns(n,i,a),t.current.lanes=a,cr(t,a,r),Ze(t,r),t}function _a(t,s,n,r){var a=s.current,i=$e(),l=as(a);return n=Th(n),s.context===null?s.context=n:s.pendingContext=n,s=Ft(i,l),s.payload={element:t},r=r===void 0?null:r,r!==null&&(s.callback=r),t=ns(a,s,l),t!==null&&(yt(t,a,l,i),zr(t,a,l)),l}function va(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zc(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<s?n:s}}function wo(t,s){zc(t,s),(t=t.alternate)&&zc(t,s)}function Vf(){return null}var Ih=typeof reportError=="function"?reportError:function(t){console.error(t)};function ko(t){this._internalRoot=t}Oa.prototype.render=ko.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(G(409));_a(t,s,null,null)};Oa.prototype.unmount=ko.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Rs(function(){_a(null,t,null,null)}),s[Ot]=null}};function Oa(t){this._internalRoot=t}Oa.prototype.unstable_scheduleHydration=function(t){if(t){var s=cu();t={blockedOn:null,target:t,priority:s};for(var n=0;n<Qt.length&&s!==0&&s<Qt[n].priority;n++);Qt.splice(n,0,t),n===0&&uu(t)}};function So(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ua(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bc(){}function Hf(t,s,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var h=va(l);i.call(h)}}var l=Lh(s,r,t,0,null,!1,!1,"",Bc);return t._reactRootContainer=l,t[Ot]=l.current,Yn(t.nodeType===8?t.parentNode:t),Rs(),l}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var h=va(c);o.call(h)}}var c=bo(t,0,!1,null,null,!1,!1,"",Bc);return t._reactRootContainer=c,t[Ot]=c.current,Yn(t.nodeType===8?t.parentNode:t),Rs(function(){_a(s,c,n,r)}),c}function qa(t,s,n,r,a){var i=n._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=va(l);o.call(c)}}_a(s,l,t,a)}else l=Hf(n,s,t,a,r);return va(l)}lu=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var n=In(s.pendingLanes);n!==0&&(Wl(s,n|1),Ze(s,Ae()),!(de&6)&&(ln=Ae()+500,hs()))}break;case 13:Rs(function(){var r=Ut(t,1);if(r!==null){var a=$e();yt(r,t,1,a)}}),wo(t,1)}};$l=function(t){if(t.tag===13){var s=Ut(t,134217728);if(s!==null){var n=$e();yt(s,t,134217728,n)}wo(t,134217728)}};ou=function(t){if(t.tag===13){var s=as(t),n=Ut(t,s);if(n!==null){var r=$e();yt(n,t,s,r)}wo(t,s)}};cu=function(){return me};du=function(t,s){var n=me;try{return me=t,s()}finally{me=n}};$i=function(t,s,n){switch(s){case"input":if(Oi(t,n),s=n.name,n.type==="radio"&&s!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<n.length;s++){var r=n[s];if(r!==t&&r.form===t.form){var a=Ea(r);if(!a)throw Error(G(90));zd(r),Oi(r,a)}}}break;case"textarea":Wd(t,n);break;case"select":s=n.value,s!=null&&Gs(t,!!n.multiple,s,!1)}};Kd=jo;Yd=Rs;var Gf={usingClientEntryPoint:!1,Events:[ur,Ms,Ea,Qd,Jd,jo]},Rn={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qf={bundleType:Rn.bundleType,version:Rn.version,rendererPackageName:Rn.rendererPackageName,rendererConfig:Rn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eu(t),t===null?null:t.stateNode},findFiberByHostInstance:Rn.findFiberByHostInstance||Vf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dr.isDisabled&&Dr.supportsFiber)try{Sa=Dr.inject(Qf),Rt=Dr}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gf;it.createPortal=function(t,s){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!So(s))throw Error(G(200));return $f(t,s,null,n)};it.createRoot=function(t,s){if(!So(t))throw Error(G(299));var n=!1,r="",a=Ih;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=bo(t,1,!1,null,null,n,!1,r,a),t[Ot]=s.current,Yn(t.nodeType===8?t.parentNode:t),new ko(s)};it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=eu(s),t=t===null?null:t.stateNode,t};it.flushSync=function(t){return Rs(t)};it.hydrate=function(t,s,n){if(!Ua(s))throw Error(G(200));return qa(null,t,s,!0,n)};it.hydrateRoot=function(t,s,n){if(!So(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",l=Ih;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),s=Lh(s,null,t,1,n??null,a,!1,i,l),t[Ot]=s.current,Yn(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[n,a]:s.mutableSourceEagerHydrationData.push(n,a);return new Oa(s)};it.render=function(t,s,n){if(!Ua(s))throw Error(G(200));return qa(null,t,s,!1,n)};it.unmountComponentAtNode=function(t){if(!Ua(t))throw Error(G(40));return t._reactRootContainer?(Rs(function(){qa(null,null,t,!1,function(){t._reactRootContainer=null,t[Ot]=null})}),!0):!1};it.unstable_batchedUpdates=jo;it.unstable_renderSubtreeIntoContainer=function(t,s,n,r){if(!Ua(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return qa(t,s,n,!1,r)};it.version="18.3.1-next-f1338f8080-20240426";function Ph(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ph)}catch(t){console.error(t)}}Ph(),Pd.exports=it;var Jf=Pd.exports,Wc=Jf;Ti.createRoot=Wc.createRoot,Ti.hydrateRoot=Wc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ir(){return ir=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ir.apply(this,arguments)}var Xt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xt||(Xt={}));const $c="popstate";function Kf(t){t===void 0&&(t={});function s(r,a){let{pathname:i,search:l,hash:o}=r.location;return wl("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Na(a)}return Xf(s,n,null,t)}function we(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Co(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Yf(){return Math.random().toString(36).substr(2,8)}function Vc(t,s){return{usr:t.state,key:t.key,idx:s}}function wl(t,s,n,r){return n===void 0&&(n=null),ir({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?mn(s):s,{state:n,key:s&&s.key||r||Yf()})}function Na(t){let{pathname:s="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function mn(t){let s={};if(t){let n=t.indexOf("#");n>=0&&(s.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function Xf(t,s,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,l=a.history,o=Xt.Pop,c=null,h=m();h==null&&(h=0,l.replaceState(ir({},l.state,{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function p(){o=Xt.Pop;let S=m(),w=S==null?null:S-h;h=S,c&&c({action:o,location:b.location,delta:w})}function x(S,w){o=Xt.Push;let u=wl(b.location,S,w);h=m()+1;let f=Vc(u,h),v=b.createHref(u);try{l.pushState(f,"",v)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(v)}i&&c&&c({action:o,location:b.location,delta:1})}function j(S,w){o=Xt.Replace;let u=wl(b.location,S,w);h=m();let f=Vc(u,h),v=b.createHref(u);l.replaceState(f,"",v),i&&c&&c({action:o,location:b.location,delta:0})}function g(S){let w=a.location.origin!=="null"?a.location.origin:a.location.href,u=typeof S=="string"?S:Na(S);return u=u.replace(/ $/,"%20"),we(w,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,w)}let b={get action(){return o},get location(){return t(a,l)},listen(S){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener($c,p),c=S,()=>{a.removeEventListener($c,p),c=null}},createHref(S){return s(a,S)},createURL:g,encodeLocation(S){let w=g(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:x,replace:j,go(S){return l.go(S)}};return b}var Hc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hc||(Hc={}));function Zf(t,s,n){return n===void 0&&(n="/"),ex(t,s,n)}function ex(t,s,n,r){let a=typeof s=="string"?mn(s):s,i=on(a.pathname||"/",n);if(i==null)return null;let l=Dh(t);tx(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let h=hx(i);o=dx(l[c],h)}return o}function Dh(t,s,n,r){s===void 0&&(s=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(we(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=ls([r,c.relativePath]),m=n.concat(c);i.children&&i.children.length>0&&(we(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Dh(i.children,s,m,h)),!(i.path==null&&!i.index)&&s.push({path:h,score:ox(h,i.index),routesMeta:m})};return t.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Fh(i.path))a(i,l,c)}),s}function Fh(t){let s=t.split("/");if(s.length===0)return[];let[n,...r]=s,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let l=Fh(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function tx(t){t.sort((s,n)=>s.score!==n.score?n.score-s.score:cx(s.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sx=/^:[\w-]+$/,nx=3,rx=2,ax=1,ix=10,lx=-2,Gc=t=>t==="*";function ox(t,s){let n=t.split("/"),r=n.length;return n.some(Gc)&&(r+=lx),s&&(r+=rx),n.filter(a=>!Gc(a)).reduce((a,i)=>a+(sx.test(i)?nx:i===""?ax:ix),r)}function cx(t,s){return t.length===s.length&&t.slice(0,-1).every((r,a)=>r===s[a])?t[t.length-1]-s[s.length-1]:0}function dx(t,s,n){let{routesMeta:r}=t,a={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],h=o===r.length-1,m=i==="/"?s:s.slice(i.length)||"/",p=kl({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},m),x=c.route;if(!p)return null;Object.assign(a,p.params),l.push({params:a,pathname:ls([i,p.pathname]),pathnameBase:gx(ls([i,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(i=ls([i,p.pathnameBase]))}return l}function kl(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ux(t.path,t.caseSensitive,t.end),a=s.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((h,m,p)=>{let{paramName:x,isOptional:j}=m;if(x==="*"){let b=o[p]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[p];return j&&!g?h[x]=void 0:h[x]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function ux(t,s,n){s===void 0&&(s=!1),n===void 0&&(n=!0),Co(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),r]}function hx(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Co(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function on(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,px=t=>mx.test(t);function fx(t,s){s===void 0&&(s="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?mn(t):t,i;if(n)if(px(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Co(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=Qc(n.substring(1),"/"):i=Qc(n,s)}else i=s;return{pathname:i,search:jx(r),hash:yx(a)}}function Qc(t,s){let n=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ni(t,s,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xx(t){return t.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function Ro(t,s){let n=xx(t);return s?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ao(t,s,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=mn(t):(a=ir({},t),we(!a.pathname||!a.pathname.includes("?"),Ni("?","pathname","search",a)),we(!a.pathname||!a.pathname.includes("#"),Ni("#","pathname","hash",a)),we(!a.search||!a.search.includes("#"),Ni("#","search","hash",a)));let i=t===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=n;else{let p=s.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),p-=1;a.pathname=x.join("/")}o=p>=0?s[p]:"/"}let c=fx(a,o),h=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||m)&&(c.pathname+="/"),c}const ls=t=>t.join("/").replace(/\/\/+/g,"/"),gx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _h=["post","put","patch","delete"];new Set(_h);const Nx=["get",..._h];new Set(Nx);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lr(){return lr=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lr.apply(this,arguments)}const Ma=d.createContext(null),Oh=d.createContext(null),zt=d.createContext(null),za=d.createContext(null),Et=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Uh=d.createContext(null);function bx(t,s){let{relative:n}=s===void 0?{}:s;pn()||we(!1);let{basename:r,navigator:a}=d.useContext(zt),{hash:i,pathname:l,search:o}=Wa(t,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:ls([r,l])),a.createHref({pathname:c,search:o,hash:i})}function pn(){return d.useContext(za)!=null}function Ls(){return pn()||we(!1),d.useContext(za).location}function qh(t){d.useContext(zt).static||d.useLayoutEffect(t)}function De(){let{isDataRoute:t}=d.useContext(Et);return t?Ox():wx()}function wx(){pn()||we(!1);let t=d.useContext(Ma),{basename:s,future:n,navigator:r}=d.useContext(zt),{matches:a}=d.useContext(Et),{pathname:i}=Ls(),l=JSON.stringify(Ro(a,n.v7_relativeSplatPath)),o=d.useRef(!1);return qh(()=>{o.current=!0}),d.useCallback(function(h,m){if(m===void 0&&(m={}),!o.current)return;if(typeof h=="number"){r.go(h);return}let p=Ao(h,JSON.parse(l),i,m.relative==="path");t==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:ls([s,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[s,r,l,i,t])}const kx=d.createContext(null);function Sx(t){let s=d.useContext(Et).outlet;return s&&d.createElement(kx.Provider,{value:t},s)}function Ba(){let{matches:t}=d.useContext(Et),s=t[t.length-1];return s?s.params:{}}function Wa(t,s){let{relative:n}=s===void 0?{}:s,{future:r}=d.useContext(zt),{matches:a}=d.useContext(Et),{pathname:i}=Ls(),l=JSON.stringify(Ro(a,r.v7_relativeSplatPath));return d.useMemo(()=>Ao(t,JSON.parse(l),i,n==="path"),[t,l,i,n])}function Cx(t,s){return Rx(t,s)}function Rx(t,s,n,r){pn()||we(!1);let{navigator:a}=d.useContext(zt),{matches:i}=d.useContext(Et),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let h=Ls(),m;if(s){var p;let S=typeof s=="string"?mn(s):s;c==="/"||(p=S.pathname)!=null&&p.startsWith(c)||we(!1),m=S}else m=h;let x=m.pathname||"/",j=x;if(c!=="/"){let S=c.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let g=Zf(t,{pathname:j}),b=Ix(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:ls([c,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:ls([c,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return s&&b?d.createElement(za.Provider,{value:{location:lr({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Xt.Pop}},b):b}function Ax(){let t=_x(),s=vx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},s),n?d.createElement("pre",{style:a},n):null,null)}const Ex=d.createElement(Ax,null);class Tx extends d.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){console.error("React Router caught the following error during render",s,n)}render(){return this.state.error!==void 0?d.createElement(Et.Provider,{value:this.props.routeContext},d.createElement(Uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lx(t){let{routeContext:s,match:n,children:r}=t,a=d.useContext(Ma);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Et.Provider,{value:s},r)}function Ix(t,s,n,r){var a;if(s===void 0&&(s=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&s.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=(a=n)==null?void 0:a.errors;if(o!=null){let m=l.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);m>=0||we(!1),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:x,errors:j}=n,g=p.route.loader&&x[p.route.id]===void 0&&(!j||j[p.route.id]===void 0);if(p.route.lazy||g){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,x)=>{let j,g=!1,b=null,S=null;n&&(j=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||Ex,c&&(h<0&&x===0?(Ux("route-fallback"),g=!0,S=null):h===x&&(g=!0,S=p.route.hydrateFallbackElement||null)));let w=s.concat(l.slice(0,x+1)),u=()=>{let f;return j?f=b:g?f=S:p.route.Component?f=d.createElement(p.route.Component,null):p.route.element?f=p.route.element:f=m,d.createElement(Lx,{match:p,routeContext:{outlet:m,matches:w,isDataRoute:n!=null},children:f})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?d.createElement(Tx,{location:n.location,revalidation:n.revalidation,component:b,error:j,children:u(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):u()},null)}var Mh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Mh||{}),zh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zh||{});function Px(t){let s=d.useContext(Ma);return s||we(!1),s}function Dx(t){let s=d.useContext(Oh);return s||we(!1),s}function Fx(t){let s=d.useContext(Et);return s||we(!1),s}function Bh(t){let s=Fx(),n=s.matches[s.matches.length-1];return n.route.id||we(!1),n.route.id}function _x(){var t;let s=d.useContext(Uh),n=Dx(),r=Bh();return s!==void 0?s:(t=n.errors)==null?void 0:t[r]}function Ox(){let{router:t}=Px(Mh.UseNavigateStable),s=Bh(zh.UseNavigateStable),n=d.useRef(!1);return qh(()=>{n.current=!0}),d.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,lr({fromRouteId:s},i)))},[t,s])}const Jc={};function Ux(t,s,n){Jc[t]||(Jc[t]=!0)}function qx(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ge(t){let{to:s,replace:n,state:r,relative:a}=t;pn()||we(!1);let{future:i,static:l}=d.useContext(zt),{matches:o}=d.useContext(Et),{pathname:c}=Ls(),h=De(),m=Ao(s,Ro(o,i.v7_relativeSplatPath),c,a==="path"),p=JSON.stringify(m);return d.useEffect(()=>h(JSON.parse(p),{replace:n,state:r,relative:a}),[h,p,a,n,r]),null}function Eo(t){return Sx(t.context)}function Q(t){we(!1)}function Mx(t){let{basename:s="/",children:n=null,location:r,navigationType:a=Xt.Pop,navigator:i,static:l=!1,future:o}=t;pn()&&we(!1);let c=s.replace(/^\/*/,"/"),h=d.useMemo(()=>({basename:c,navigator:i,static:l,future:lr({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof r=="string"&&(r=mn(r));let{pathname:m="/",search:p="",hash:x="",state:j=null,key:g="default"}=r,b=d.useMemo(()=>{let S=on(m,c);return S==null?null:{location:{pathname:S,search:p,hash:x,state:j,key:g},navigationType:a}},[c,m,p,x,j,g,a]);return b==null?null:d.createElement(zt.Provider,{value:h},d.createElement(za.Provider,{children:n,value:b}))}function zx(t){let{children:s,location:n}=t;return Cx(Sl(s),n)}new Promise(()=>{});function Sl(t,s){s===void 0&&(s=[]);let n=[];return d.Children.forEach(t,(r,a)=>{if(!d.isValidElement(r))return;let i=[...s,a];if(r.type===d.Fragment){n.push.apply(n,Sl(r.props.children,i));return}r.type!==Q&&we(!1),!r.props.index||!r.props.children||we(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Sl(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ba.apply(this,arguments)}function Wh(t,s){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Bx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wx(t,s){return t.button===0&&(!s||s==="_self")&&!Bx(t)}const $x=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Vx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Hx="6";try{window.__reactRouterVersion=Hx}catch{}const Gx=d.createContext({isTransitioning:!1}),Qx="startTransition",Kc=Om[Qx];function Jx(t){let{basename:s,children:n,future:r,window:a}=t,i=d.useRef();i.current==null&&(i.current=Kf({window:a,v5Compat:!0}));let l=i.current,[o,c]=d.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},m=d.useCallback(p=>{h&&Kc?Kc(()=>c(p)):c(p)},[c,h]);return d.useLayoutEffect(()=>l.listen(m),[l,m]),d.useEffect(()=>qx(r),[r]),d.createElement(Mx,{basename:s,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const Kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xx=d.forwardRef(function(s,n){let{onClick:r,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:h,preventScrollReset:m,viewTransition:p}=s,x=Wh(s,$x),{basename:j}=d.useContext(zt),g,b=!1;if(typeof h=="string"&&Yx.test(h)&&(g=h,Kx))try{let f=new URL(window.location.href),v=h.startsWith("//")?new URL(f.protocol+h):new URL(h),N=on(v.pathname,j);v.origin===f.origin&&N!=null?h=N+v.search+v.hash:b=!0}catch{}let S=bx(h,{relative:a}),w=eg(h,{replace:l,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:p});function u(f){r&&r(f),f.defaultPrevented||w(f)}return d.createElement("a",ba({},x,{href:g||S,onClick:b||i?r:u,ref:n,target:c}))}),te=d.forwardRef(function(s,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:h,children:m}=s,p=Wh(s,Vx),x=Wa(c,{relative:p.relative}),j=Ls(),g=d.useContext(Oh),{navigator:b,basename:S}=d.useContext(zt),w=g!=null&&tg(x)&&h===!0,u=b.encodeLocation?b.encodeLocation(x).pathname:x.pathname,f=j.pathname,v=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(f=f.toLowerCase(),v=v?v.toLowerCase():null,u=u.toLowerCase()),v&&S&&(v=on(v,S)||v);const N=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let C=f===u||!l&&f.startsWith(u)&&f.charAt(N)==="/",_=v!=null&&(v===u||!l&&v.startsWith(u)&&v.charAt(u.length)==="/"),I={isActive:C,isPending:_,isTransitioning:w},q=C?r:void 0,z;typeof i=="function"?z=i(I):z=[i,C?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(I):o;return d.createElement(Xx,ba({},p,{"aria-current":q,className:z,ref:n,style:B,to:c,viewTransition:h}),typeof m=="function"?m(I):m)});var Cl;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cl||(Cl={}));var Yc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yc||(Yc={}));function Zx(t){let s=d.useContext(Ma);return s||we(!1),s}function eg(t,s){let{target:n,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:o}=s===void 0?{}:s,c=De(),h=Ls(),m=Wa(t,{relative:l});return d.useCallback(p=>{if(Wx(p,n)){p.preventDefault();let x=r!==void 0?r:Na(h)===Na(m);c(t,{replace:x,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[h,c,m,r,a,n,t,i,l,o])}function tg(t,s){s===void 0&&(s={});let n=d.useContext(Gx);n==null&&we(!1);let{basename:r}=Zx(Cl.useViewTransitionState),a=Wa(t,{relative:s.relative});if(!n.isTransitioning)return!1;let i=on(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=on(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kl(a.pathname,l)!=null||kl(a.pathname,i)!=null}function $h(t,s){return function(){return t.apply(s,arguments)}}const{toString:sg}=Object.prototype,{getPrototypeOf:To}=Object,{iterator:$a,toStringTag:Vh}=Symbol,Va=(t=>s=>{const n=sg.call(s);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nt=t=>(t=t.toLowerCase(),s=>Va(s)===t),Ha=t=>s=>typeof s===t,{isArray:fn}=Array,cn=Ha("undefined");function mr(t){return t!==null&&!cn(t)&&t.constructor!==null&&!cn(t.constructor)&&et(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Hh=Nt("ArrayBuffer");function ng(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Hh(t.buffer),s}const rg=Ha("string"),et=Ha("function"),Gh=Ha("number"),pr=t=>t!==null&&typeof t=="object",ag=t=>t===!0||t===!1,Qr=t=>{if(Va(t)!=="object")return!1;const s=To(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Vh in t)&&!($a in t)},ig=t=>{if(!pr(t)||mr(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},lg=Nt("Date"),og=Nt("File"),cg=Nt("Blob"),dg=Nt("FileList"),ug=t=>pr(t)&&et(t.pipe),hg=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||et(t.append)&&((s=Va(t))==="formdata"||s==="object"&&et(t.toString)&&t.toString()==="[object FormData]"))},mg=Nt("URLSearchParams"),[pg,fg,xg,gg]=["ReadableStream","Request","Response","Headers"].map(Nt),jg=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fr(t,s,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),fn(t))for(r=0,a=t.length;r<a;r++)s.call(null,t[r],r,t);else{if(mr(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(r=0;r<l;r++)o=i[r],s.call(null,t[o],o,t)}}function Qh(t,s){if(mr(t))return null;s=s.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],s===a.toLowerCase())return a;return null}const ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Jh=t=>!cn(t)&&t!==ys;function Rl(){const{caseless:t,skipUndefined:s}=Jh(this)&&this||{},n={},r=(a,i)=>{const l=t&&Qh(n,i)||i;Qr(n[l])&&Qr(a)?n[l]=Rl(n[l],a):Qr(a)?n[l]=Rl({},a):fn(a)?n[l]=a.slice():(!s||!cn(a))&&(n[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&fr(arguments[a],r);return n}const yg=(t,s,n,{allOwnKeys:r}={})=>(fr(s,(a,i)=>{n&&et(a)?t[i]=$h(a,n):t[i]=a},{allOwnKeys:r}),t),vg=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ng=(t,s,n,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),n&&Object.assign(t.prototype,n)},bg=(t,s,n,r)=>{let a,i,l;const o={};if(s=s||{},t==null)return s;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)l=a[i],(!r||r(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=n!==!1&&To(t)}while(t&&(!n||n(t,s))&&t!==Object.prototype);return s},wg=(t,s,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=s.length;const r=t.indexOf(s,n);return r!==-1&&r===n},kg=t=>{if(!t)return null;if(fn(t))return t;let s=t.length;if(!Gh(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=t[s];return n},Sg=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&To(Uint8Array)),Cg=(t,s)=>{const r=(t&&t[$a]).call(t);let a;for(;(a=r.next())&&!a.done;){const i=a.value;s.call(t,i[0],i[1])}},Rg=(t,s)=>{let n;const r=[];for(;(n=t.exec(s))!==null;)r.push(n);return r},Ag=Nt("HTMLFormElement"),Eg=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Xc=(({hasOwnProperty:t})=>(s,n)=>t.call(s,n))(Object.prototype),Tg=Nt("RegExp"),Kh=(t,s)=>{const n=Object.getOwnPropertyDescriptors(t),r={};fr(n,(a,i)=>{let l;(l=s(a,i,t))!==!1&&(r[i]=l||a)}),Object.defineProperties(t,r)},Lg=t=>{Kh(t,(s,n)=>{if(et(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(et(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ig=(t,s)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return fn(t)?r(t):r(String(t).split(s)),n},Pg=()=>{},Dg=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Fg(t){return!!(t&&et(t.append)&&t[Vh]==="FormData"&&t[$a])}const _g=t=>{const s=new Array(10),n=(r,a)=>{if(pr(r)){if(s.indexOf(r)>=0)return;if(mr(r))return r;if(!("toJSON"in r)){s[a]=r;const i=fn(r)?[]:{};return fr(r,(l,o)=>{const c=n(l,a+1);!cn(c)&&(i[o]=c)}),s[a]=void 0,i}}return r};return n(t,0)},Og=Nt("AsyncFunction"),Ug=t=>t&&(pr(t)||et(t))&&et(t.then)&&et(t.catch),Yh=((t,s)=>t?setImmediate:s?((n,r)=>(ys.addEventListener("message",({source:a,data:i})=>{a===ys&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),ys.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",et(ys.postMessage)),qg=typeof queueMicrotask<"u"?queueMicrotask.bind(ys):typeof process<"u"&&process.nextTick||Yh,Mg=t=>t!=null&&et(t[$a]),U={isArray:fn,isArrayBuffer:Hh,isBuffer:mr,isFormData:hg,isArrayBufferView:ng,isString:rg,isNumber:Gh,isBoolean:ag,isObject:pr,isPlainObject:Qr,isEmptyObject:ig,isReadableStream:pg,isRequest:fg,isResponse:xg,isHeaders:gg,isUndefined:cn,isDate:lg,isFile:og,isBlob:cg,isRegExp:Tg,isFunction:et,isStream:ug,isURLSearchParams:mg,isTypedArray:Sg,isFileList:dg,forEach:fr,merge:Rl,extend:yg,trim:jg,stripBOM:vg,inherits:Ng,toFlatObject:bg,kindOf:Va,kindOfTest:Nt,endsWith:wg,toArray:kg,forEachEntry:Cg,matchAll:Rg,isHTMLForm:Ag,hasOwnProperty:Xc,hasOwnProp:Xc,reduceDescriptors:Kh,freezeMethods:Lg,toObjectSet:Ig,toCamelCase:Eg,noop:Pg,toFiniteNumber:Dg,findKey:Qh,global:ys,isContextDefined:Jh,isSpecCompliantForm:Fg,toJSONObject:_g,isAsyncFn:Og,isThenable:Ug,setImmediate:Yh,asap:qg,isIterable:Mg};function ae(t,s,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}U.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const Xh=ae.prototype,Zh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Zh[t]={value:t}});Object.defineProperties(ae,Zh);Object.defineProperty(Xh,"isAxiosError",{value:!0});ae.from=(t,s,n,r,a,i)=>{const l=Object.create(Xh);U.toFlatObject(t,l,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return ae.call(l,o,c,n,r,a),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const zg=null;function Al(t){return U.isPlainObject(t)||U.isArray(t)}function em(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function Zc(t,s,n){return t?t.concat(s).map(function(a,i){return a=em(a),!n&&i?"["+a+"]":a}).join(n?".":""):s}function Bg(t){return U.isArray(t)&&!t.some(Al)}const Wg=U.toFlatObject(U,{},null,function(s){return/^is[A-Z]/.test(s)});function Ga(t,s,n){if(!U.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,S){return!U.isUndefined(S[b])});const r=n.metaTokens,a=n.visitor||m,i=n.dots,l=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(s);if(!U.isFunction(a))throw new TypeError("visitor must be a function");function h(g){if(g===null)return"";if(U.isDate(g))return g.toISOString();if(U.isBoolean(g))return g.toString();if(!c&&U.isBlob(g))throw new ae("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(g)||U.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function m(g,b,S){let w=g;if(g&&!S&&typeof g=="object"){if(U.endsWith(b,"{}"))b=r?b:b.slice(0,-2),g=JSON.stringify(g);else if(U.isArray(g)&&Bg(g)||(U.isFileList(g)||U.endsWith(b,"[]"))&&(w=U.toArray(g)))return b=em(b),w.forEach(function(f,v){!(U.isUndefined(f)||f===null)&&s.append(l===!0?Zc([b],v,i):l===null?b:b+"[]",h(f))}),!1}return Al(g)?!0:(s.append(Zc(S,b,i),h(g)),!1)}const p=[],x=Object.assign(Wg,{defaultVisitor:m,convertValue:h,isVisitable:Al});function j(g,b){if(!U.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(g),U.forEach(g,function(w,u){(!(U.isUndefined(w)||w===null)&&a.call(s,w,U.isString(u)?u.trim():u,b,x))===!0&&j(w,b?b.concat(u):[u])}),p.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return j(t),s}function ed(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function Lo(t,s){this._pairs=[],t&&Ga(t,this,s)}const tm=Lo.prototype;tm.append=function(s,n){this._pairs.push([s,n])};tm.toString=function(s){const n=s?function(r){return s.call(this,r,ed)}:ed;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function $g(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sm(t,s,n){if(!s)return t;const r=n&&n.encode||$g;U.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(s,n):i=U.isURLSearchParams(s)?s.toString():new Lo(s,n).toString(r),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class td{constructor(){this.handlers=[]}use(s,n,r){return this.handlers.push({fulfilled:s,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){U.forEach(this.handlers,function(r){r!==null&&s(r)})}}const nm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vg=typeof URLSearchParams<"u"?URLSearchParams:Lo,Hg=typeof FormData<"u"?FormData:null,Gg=typeof Blob<"u"?Blob:null,Qg={isBrowser:!0,classes:{URLSearchParams:Vg,FormData:Hg,Blob:Gg},protocols:["http","https","file","blob","url","data"]},Io=typeof window<"u"&&typeof document<"u",El=typeof navigator=="object"&&navigator||void 0,Jg=Io&&(!El||["ReactNative","NativeScript","NS"].indexOf(El.product)<0),Kg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yg=Io&&window.location.href||"http://localhost",Xg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Io,hasStandardBrowserEnv:Jg,hasStandardBrowserWebWorkerEnv:Kg,navigator:El,origin:Yg},Symbol.toStringTag,{value:"Module"})),ze={...Xg,...Qg};function Zg(t,s){return Ga(t,new ze.classes.URLSearchParams,{visitor:function(n,r,a,i){return ze.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function ej(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function tj(t){const s={},n=Object.keys(t);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],s[i]=t[i];return s}function rm(t){function s(n,r,a,i){let l=n[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=n.length;return l=!l&&U.isArray(a)?a.length:l,c?(U.hasOwnProp(a,l)?a[l]=[a[l],r]:a[l]=r,!o):((!a[l]||!U.isObject(a[l]))&&(a[l]=[]),s(n,r,a[l],i)&&U.isArray(a[l])&&(a[l]=tj(a[l])),!o)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,a)=>{s(ej(r),a,n,0)}),n}return null}function sj(t,s,n){if(U.isString(t))try{return(s||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const xr={transitional:nm,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=U.isObject(s);if(i&&U.isHTMLForm(s)&&(s=new FormData(s)),U.isFormData(s))return a?JSON.stringify(rm(s)):s;if(U.isArrayBuffer(s)||U.isBuffer(s)||U.isStream(s)||U.isFile(s)||U.isBlob(s)||U.isReadableStream(s))return s;if(U.isArrayBufferView(s))return s.buffer;if(U.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Zg(s,this.formSerializer).toString();if((o=U.isFileList(s))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ga(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),sj(s)):s}],transformResponse:[function(s){const n=this.transitional||xr.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(U.isResponse(s)||U.isReadableStream(s))return s;if(s&&U.isString(s)&&(r&&!this.responseType||a)){const l=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?ae.from(o,ae.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{xr.headers[t]={}});const nj=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rj=t=>{const s={};let n,r,a;return t&&t.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),r=l.substring(a+1).trim(),!(!n||s[n]&&nj[n])&&(n==="set-cookie"?s[n]?s[n].push(r):s[n]=[r]:s[n]=s[n]?s[n]+", "+r:r)}),s},sd=Symbol("internals");function An(t){return t&&String(t).trim().toLowerCase()}function Jr(t){return t===!1||t==null?t:U.isArray(t)?t.map(Jr):String(t)}function aj(t){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)s[r[1]]=r[2];return s}const ij=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function bi(t,s,n,r,a){if(U.isFunction(r))return r.call(this,s,n);if(a&&(s=n),!!U.isString(s)){if(U.isString(r))return s.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(s)}}function lj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,r)=>n.toUpperCase()+r)}function oj(t,s){const n=U.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,i,l){return this[r].call(this,s,a,i,l)},configurable:!0})})}let tt=class{constructor(s){s&&this.set(s)}set(s,n,r){const a=this;function i(o,c,h){const m=An(c);if(!m)throw new Error("header name must be a non-empty string");const p=U.findKey(a,m);(!p||a[p]===void 0||h===!0||h===void 0&&a[p]!==!1)&&(a[p||c]=Jr(o))}const l=(o,c)=>U.forEach(o,(h,m)=>i(h,m,c));if(U.isPlainObject(s)||s instanceof this.constructor)l(s,n);else if(U.isString(s)&&(s=s.trim())&&!ij(s))l(rj(s),n);else if(U.isObject(s)&&U.isIterable(s)){let o={},c,h;for(const m of s){if(!U.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[h=m[0]]=(c=o[h])?U.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}l(o,n)}else s!=null&&i(n,s,r);return this}get(s,n){if(s=An(s),s){const r=U.findKey(this,s);if(r){const a=this[r];if(!n)return a;if(n===!0)return aj(a);if(U.isFunction(n))return n.call(this,a,r);if(U.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=An(s),s){const r=U.findKey(this,s);return!!(r&&this[r]!==void 0&&(!n||bi(this,this[r],r,n)))}return!1}delete(s,n){const r=this;let a=!1;function i(l){if(l=An(l),l){const o=U.findKey(r,l);o&&(!n||bi(r,r[o],o,n))&&(delete r[o],a=!0)}}return U.isArray(s)?s.forEach(i):i(s),a}clear(s){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!s||bi(this,this[i],i,s,!0))&&(delete this[i],a=!0)}return a}normalize(s){const n=this,r={};return U.forEach(this,(a,i)=>{const l=U.findKey(r,i);if(l){n[l]=Jr(a),delete n[i];return}const o=s?lj(i):String(i).trim();o!==i&&delete n[i],n[o]=Jr(a),r[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return U.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=s&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const r=new this(s);return n.forEach(a=>r.set(a)),r}static accessor(s){const r=(this[sd]=this[sd]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=An(l);r[o]||(oj(a,l),r[o]=!0)}return U.isArray(s)?s.forEach(i):i(s),this}};tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(tt.prototype,({value:t},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[n]=r}}});U.freezeMethods(tt);function wi(t,s){const n=this||xr,r=s||n,a=tt.from(r.headers);let i=r.data;return U.forEach(t,function(o){i=o.call(n,i,a.normalize(),s?s.status:void 0)}),a.normalize(),i}function am(t){return!!(t&&t.__CANCEL__)}function xn(t,s,n){ae.call(this,t??"canceled",ae.ERR_CANCELED,s,n),this.name="CanceledError"}U.inherits(xn,ae,{__CANCEL__:!0});function im(t,s,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):s(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function cj(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function dj(t,s){t=t||10;const n=new Array(t),r=new Array(t);let a=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const h=Date.now(),m=r[i];l||(l=h),n[a]=c,r[a]=h;let p=i,x=0;for(;p!==a;)x+=n[p++],p=p%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),h-l<s)return;const j=m&&h-m;return j?Math.round(x*1e3/j):void 0}}function uj(t,s){let n=0,r=1e3/s,a,i;const l=(h,m=Date.now())=>{n=m,a=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const m=Date.now(),p=m-n;p>=r?l(h,m):(a=h,i||(i=setTimeout(()=>{i=null,l(a)},r-p)))},()=>a&&l(a)]}const wa=(t,s,n=3)=>{let r=0;const a=dj(50,250);return uj(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-r,h=a(c),m=l<=o;r=l;const p={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:h||void 0,estimated:h&&o&&m?(o-l)/h:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(p)},n)},nd=(t,s)=>{const n=t!=null;return[r=>s[0]({lengthComputable:n,total:t,loaded:r}),s[1]]},rd=t=>(...s)=>U.asap(()=>t(...s)),hj=ze.hasStandardBrowserEnv?((t,s)=>n=>(n=new URL(n,ze.origin),t.protocol===n.protocol&&t.host===n.host&&(s||t.port===n.port)))(new URL(ze.origin),ze.navigator&&/(msie|trident)/i.test(ze.navigator.userAgent)):()=>!0,mj=ze.hasStandardBrowserEnv?{write(t,s,n,r,a,i,l){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(s)}`];U.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),U.isString(r)&&o.push(`path=${r}`),U.isString(a)&&o.push(`domain=${a}`),i===!0&&o.push("secure"),U.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function fj(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function lm(t,s,n){let r=!pj(s);return t&&(r||n==!1)?fj(t,s):s}const ad=t=>t instanceof tt?{...t}:t;function As(t,s){s=s||{};const n={};function r(h,m,p,x){return U.isPlainObject(h)&&U.isPlainObject(m)?U.merge.call({caseless:x},h,m):U.isPlainObject(m)?U.merge({},m):U.isArray(m)?m.slice():m}function a(h,m,p,x){if(U.isUndefined(m)){if(!U.isUndefined(h))return r(void 0,h,p,x)}else return r(h,m,p,x)}function i(h,m){if(!U.isUndefined(m))return r(void 0,m)}function l(h,m){if(U.isUndefined(m)){if(!U.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function o(h,m,p){if(p in s)return r(h,m);if(p in t)return r(void 0,h)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(h,m,p)=>a(ad(h),ad(m),p,!0)};return U.forEach(Object.keys({...t,...s}),function(m){const p=c[m]||a,x=p(t[m],s[m],m);U.isUndefined(x)&&p!==o||(n[m]=x)}),n}const om=t=>{const s=As({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=s;if(s.headers=l=tt.from(l),s.url=sm(lm(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),U.isFormData(n)){if(ze.hasStandardBrowserEnv||ze.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(U.isFunction(n.getHeaders)){const c=n.getHeaders(),h=["content-type","content-length"];Object.entries(c).forEach(([m,p])=>{h.includes(m.toLowerCase())&&l.set(m,p)})}}if(ze.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(s)),r||r!==!1&&hj(s.url))){const c=a&&i&&mj.read(i);c&&l.set(a,c)}return s},xj=typeof XMLHttpRequest<"u",gj=xj&&function(t){return new Promise(function(n,r){const a=om(t);let i=a.data;const l=tt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:h}=a,m,p,x,j,g;function b(){j&&j(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function w(){if(!S)return;const f=tt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:f,config:t,request:S};im(function(_){n(_),b()},function(_){r(_),b()},N),S=null}"onloadend"in S?S.onloadend=w:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(w)},S.onabort=function(){S&&(r(new ae("Request aborted",ae.ECONNABORTED,t,S)),S=null)},S.onerror=function(v){const N=v&&v.message?v.message:"Network Error",C=new ae(N,ae.ERR_NETWORK,t,S);C.event=v||null,r(C),S=null},S.ontimeout=function(){let v=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||nm;a.timeoutErrorMessage&&(v=a.timeoutErrorMessage),r(new ae(v,N.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,S)),S=null},i===void 0&&l.setContentType(null),"setRequestHeader"in S&&U.forEach(l.toJSON(),function(v,N){S.setRequestHeader(N,v)}),U.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),o&&o!=="json"&&(S.responseType=a.responseType),h&&([x,g]=wa(h,!0),S.addEventListener("progress",x)),c&&S.upload&&([p,j]=wa(c),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(m=f=>{S&&(r(!f||f.type?new xn(null,t,S):f),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const u=cj(a.url);if(u&&ze.protocols.indexOf(u)===-1){r(new ae("Unsupported protocol "+u+":",ae.ERR_BAD_REQUEST,t));return}S.send(i||null)})},jj=(t,s)=>{const{length:n}=t=t?t.filter(Boolean):[];if(s||n){let r=new AbortController,a;const i=function(h){if(!a){a=!0,o();const m=h instanceof Error?h:this.reason;r.abort(m instanceof ae?m:new xn(m instanceof Error?m.message:m))}};let l=s&&setTimeout(()=>{l=null,i(new ae(`timeout ${s} of ms exceeded`,ae.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>U.asap(o),c}},yj=function*(t,s){let n=t.byteLength;if(n<s){yield t;return}let r=0,a;for(;r<n;)a=r+s,yield t.slice(r,a),r=a},vj=async function*(t,s){for await(const n of Nj(t))yield*yj(n,s)},Nj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:n,value:r}=await s.read();if(n)break;yield r}}finally{await s.cancel()}},id=(t,s,n,r)=>{const a=vj(t,s);let i=0,l,o=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:m}=await a.next();if(h){o(),c.close();return}let p=m.byteLength;if(n){let x=i+=p;n(x)}c.enqueue(new Uint8Array(m))}catch(h){throw o(h),h}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},ld=64*1024,{isFunction:Fr}=U,bj=(({Request:t,Response:s})=>({Request:t,Response:s}))(U.global),{ReadableStream:od,TextEncoder:cd}=U.global,dd=(t,...s)=>{try{return!!t(...s)}catch{return!1}},wj=t=>{t=U.merge.call({skipUndefined:!0},bj,t);const{fetch:s,Request:n,Response:r}=t,a=s?Fr(s):typeof fetch=="function",i=Fr(n),l=Fr(r);if(!a)return!1;const o=a&&Fr(od),c=a&&(typeof cd=="function"?(g=>b=>g.encode(b))(new cd):async g=>new Uint8Array(await new n(g).arrayBuffer())),h=i&&o&&dd(()=>{let g=!1;const b=new n(ze.origin,{body:new od,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!b}),m=l&&o&&dd(()=>U.isReadableStream(new r("").body)),p={stream:m&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!p[g]&&(p[g]=(b,S)=>{let w=b&&b[g];if(w)return w.call(b);throw new ae(`Response type '${g}' is not supported`,ae.ERR_NOT_SUPPORT,S)})});const x=async g=>{if(g==null)return 0;if(U.isBlob(g))return g.size;if(U.isSpecCompliantForm(g))return(await new n(ze.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(U.isArrayBufferView(g)||U.isArrayBuffer(g))return g.byteLength;if(U.isURLSearchParams(g)&&(g=g+""),U.isString(g))return(await c(g)).byteLength},j=async(g,b)=>{const S=U.toFiniteNumber(g.getContentLength());return S??x(b)};return async g=>{let{url:b,method:S,data:w,signal:u,cancelToken:f,timeout:v,onDownloadProgress:N,onUploadProgress:C,responseType:_,headers:I,withCredentials:q="same-origin",fetchOptions:z}=om(g),B=s||fetch;_=_?(_+"").toLowerCase():"text";let R=jj([u,f&&f.toAbortSignal()],v),T=null;const E=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let M;try{if(C&&h&&S!=="get"&&S!=="head"&&(M=await j(I,w))!==0){let P=new n(b,{method:"POST",body:w,duplex:"half"}),A;if(U.isFormData(w)&&(A=P.headers.get("content-type"))&&I.setContentType(A),P.body){const[J,se]=nd(M,wa(rd(C)));w=id(P.body,ld,J,se)}}U.isString(q)||(q=q?"include":"omit");const k=i&&"credentials"in n.prototype,O={...z,signal:R,method:S.toUpperCase(),headers:I.normalize().toJSON(),body:w,duplex:"half",credentials:k?q:void 0};T=i&&new n(b,O);let D=await(i?B(T,z):B(b,O));const y=m&&(_==="stream"||_==="response");if(m&&(N||y&&E)){const P={};["status","statusText","headers"].forEach(L=>{P[L]=D[L]});const A=U.toFiniteNumber(D.headers.get("content-length")),[J,se]=N&&nd(A,wa(rd(N),!0))||[];D=new r(id(D.body,ld,J,()=>{se&&se(),E&&E()}),P)}_=_||"text";let F=await p[U.findKey(p,_)||"text"](D,g);return!y&&E&&E(),await new Promise((P,A)=>{im(P,A,{data:F,headers:tt.from(D.headers),status:D.status,statusText:D.statusText,config:g,request:T})})}catch(k){throw E&&E(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,g,T),{cause:k.cause||k}):ae.from(k,k&&k.code,g,T)}}},kj=new Map,cm=t=>{let s=t&&t.env||{};const{fetch:n,Request:r,Response:a}=s,i=[r,a,n];let l=i.length,o=l,c,h,m=kj;for(;o--;)c=i[o],h=m.get(c),h===void 0&&m.set(c,h=o?new Map:wj(s)),m=h;return h};cm();const Po={http:zg,xhr:gj,fetch:{get:cm}};U.forEach(Po,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const ud=t=>`- ${t}`,Sj=t=>U.isFunction(t)||t===null||t===!1;function Cj(t,s){t=U.isArray(t)?t:[t];const{length:n}=t;let r,a;const i={};for(let l=0;l<n;l++){r=t[l];let o;if(a=r,!Sj(r)&&(a=Po[(o=String(r)).toLowerCase()],a===void 0))throw new ae(`Unknown adapter '${o}'`);if(a&&(U.isFunction(a)||(a=a.get(s))))break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let o=n?l.length>1?`since :
`+l.map(ud).join(`
`):" "+ud(l[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const dm={getAdapter:Cj,adapters:Po};function ki(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xn(null,t)}function hd(t){return ki(t),t.headers=tt.from(t.headers),t.data=wi.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dm.getAdapter(t.adapter||xr.adapter,t)(t).then(function(r){return ki(t),r.data=wi.call(t,t.transformResponse,r),r.headers=tt.from(r.headers),r},function(r){return am(r)||(ki(t),r&&r.response&&(r.response.data=wi.call(t,t.transformResponse,r.response),r.response.headers=tt.from(r.response.headers))),Promise.reject(r)})}const um="1.13.2",Qa={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Qa[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const md={};Qa.transitional=function(s,n,r){function a(i,l){return"[Axios v"+um+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(s===!1)throw new ae(a(l," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!md[l]&&(md[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(i,l,o):!0}};Qa.spelling=function(s){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function Rj(t,s,n){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const i=r[a],l=s[i];if(l){const o=t[i],c=o===void 0||l(o,i,t);if(c!==!0)throw new ae("option "+i+" must be "+c,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+i,ae.ERR_BAD_OPTION)}}const Kr={assertOptions:Rj,validators:Qa},wt=Kr.validators;let bs=class{constructor(s){this.defaults=s||{},this.interceptors={request:new td,response:new td}}async request(s,n){try{return await this._request(s,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=As(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&Kr.assertOptions(r,{silentJSONParsing:wt.transitional(wt.boolean),forcedJSONParsing:wt.transitional(wt.boolean),clarifyTimeoutError:wt.transitional(wt.boolean)},!1),a!=null&&(U.isFunction(a)?n.paramsSerializer={serialize:a}:Kr.assertOptions(a,{encode:wt.function,serialize:wt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Kr.assertOptions(n,{baseUrl:wt.spelling("baseURL"),withXsrfToken:wt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&U.merge(i.common,i[n.method]);i&&U.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=tt.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const h=[];this.interceptors.response.forEach(function(b){h.push(b.fulfilled,b.rejected)});let m,p=0,x;if(!c){const g=[hd.bind(this),void 0];for(g.unshift(...o),g.push(...h),x=g.length,m=Promise.resolve(n);p<x;)m=m.then(g[p++],g[p++]);return m}x=o.length;let j=n;for(;p<x;){const g=o[p++],b=o[p++];try{j=g(j)}catch(S){b.call(this,S);break}}try{m=hd.call(this,j)}catch(g){return Promise.reject(g)}for(p=0,x=h.length;p<x;)m=m.then(h[p++],h[p++]);return m}getUri(s){s=As(this.defaults,s);const n=lm(s.baseURL,s.url,s.allowAbsoluteUrls);return sm(n,s.params,s.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(s){bs.prototype[s]=function(n,r){return this.request(As(r||{},{method:s,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(s){function n(r){return function(i,l,o){return this.request(As(o||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}bs.prototype[s]=n(),bs.prototype[s+"Form"]=n(!0)});let Aj=class hm{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(a);return l.cancel=function(){r.unsubscribe(i)},l},s(function(i,l,o){r.reason||(r.reason=new xn(i,l,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=r=>{s.abort(r)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new hm(function(a){s=a}),cancel:s}}};function Ej(t){return function(n){return t.apply(null,n)}}function Tj(t){return U.isObject(t)&&t.isAxiosError===!0}const Tl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Tl).forEach(([t,s])=>{Tl[s]=t});function mm(t){const s=new bs(t),n=$h(bs.prototype.request,s);return U.extend(n,bs.prototype,s,{allOwnKeys:!0}),U.extend(n,s,null,{allOwnKeys:!0}),n.create=function(a){return mm(As(t,a))},n}const Re=mm(xr);Re.Axios=bs;Re.CanceledError=xn;Re.CancelToken=Aj;Re.isCancel=am;Re.VERSION=um;Re.toFormData=Ga;Re.AxiosError=ae;Re.Cancel=Re.CanceledError;Re.all=function(s){return Promise.all(s)};Re.spread=Ej;Re.isAxiosError=Tj;Re.mergeConfig=As;Re.AxiosHeaders=tt;Re.formToJSON=t=>rm(U.isHTMLForm(t)?new FormData(t):t);Re.getAdapter=dm.getAdapter;Re.HttpStatusCode=Tl;Re.default=Re;const{Axios:uN,AxiosError:hN,CanceledError:mN,isCancel:pN,CancelToken:fN,VERSION:xN,all:gN,Cancel:jN,isAxiosError:yN,spread:vN,toFormData:NN,AxiosHeaders:bN,HttpStatusCode:wN,formToJSON:kN,getAdapter:SN,mergeConfig:CN}=Re,Lj="http://localhost:3000",le=Re.create({baseURL:Lj,headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}});le.interceptors.request.use(t=>{const s=localStorage.getItem("accessToken");return s&&(t.headers.Authorization=`Bearer ${s}`),t});const Ij=le;async function Pj(t,s){return(await Ij.post("/auth/login",{email:t,password:s})).data}const pm=d.createContext(null);function Dj(t){try{const s=t.split(".")[1];return JSON.parse(window.atob(s))}catch{return null}}function pd(t){const s=Dj(t);if(!(s!=null&&s.sub)||!(s!=null&&s.roles)||!Array.isArray(s.roles))throw new Error("Invalid token payload");return{id:s.sub,role:s.roles[0]}}function Fj({children:t}){const[s,n]=d.useState(null),[r,a]=d.useState(!0);d.useEffect(()=>{const o=localStorage.getItem("accessToken");if(o)try{const c=pd(o);n(c)}catch{localStorage.clear(),n(null)}a(!1)},[]);const i=async(o,c)=>{a(!0);try{const h=await Pj(o,c);localStorage.setItem("accessToken",h.accessToken),localStorage.setItem("refreshToken",h.refreshToken);const m=pd(h.accessToken);return n(m),m.role}catch(h){throw localStorage.clear(),n(null),h}finally{a(!1)}},l=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),n(null),window.location.replace("/login")};return e.jsx(pm.Provider,{value:{user:s,loading:r,isAuthenticated:!!s,login:i,logout:l},children:t})}function gn(){const t=d.useContext(pm);if(!t)throw new Error("useAuthContext must be used inside AuthProvider");return t}const _j={super_admin:"/super-admin/dashboard",sub_admin:"/sub-admin/dashboard",website_researcher:"/researcher/website/dashboard",linkedin_researcher:"/researcher/linkedin/dashboard",website_inquirer:"/inquirer/website/dashboard",linkedin_inquirer:"/inquirer/linkedin/dashboard",website_inquirer_auditor:"/auditor/website/dashboard",linkedin_inquirer_auditor:"/auditor/linkedin/dashboard",website_research_auditor:"/auditor-researcher/website/pending",linkedin_research_auditor:"/auditor-researcher/linkedin/pending"};function Oj(){const{login:t,loading:s}=gn(),n=De(),[r,a]=d.useState(""),[i,l]=d.useState(""),[o,c]=d.useState(""),[h,m]=d.useState(""),p=async x=>{x.preventDefault(),c(""),m("");try{const j=await t(r,i);m("Authentication successful. Redirecting");const g=_j[j];if(!g){c(`No redirect configured for role: ${j}`);return}setTimeout(()=>{n(g,{replace:!0})},300)}catch{c("Invalid credentials. Please check and try again.")}};return e.jsx("div",{className:"auth-wrapper",children:e.jsxs("div",{className:"auth-card",children:[e.jsxs("div",{className:"auth-header",children:[e.jsx("div",{className:"auth-logo-icon",children:"B2B"}),e.jsx("h1",{children:"Workforce Portal"}),e.jsx("p",{children:"Task Verification & Control System"})]}),e.jsxs("form",{className:"auth-form",onSubmit:p,children:[o&&e.jsx("div",{className:"auth-error-message",children:o}),h&&e.jsx("div",{className:"auth-success-message",children:h}),e.jsxs("div",{className:"auth-field",children:[e.jsx("label",{htmlFor:"email",children:"Work Email"}),e.jsx("input",{id:"email",type:"email",placeholder:"nicolas@company.com",value:r,onChange:x=>a(x.target.value),required:!0})]}),e.jsxs("div",{className:"auth-field",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{id:"password",type:"password",placeholder:"",value:i,onChange:x=>l(x.target.value),required:!0})]}),e.jsx("button",{type:"submit",className:"btn-auth-primary",disabled:s,children:s?"Authenticating":"Sign In"})]}),e.jsxs("div",{className:"auth-footer",children:[e.jsx("p",{children:" 2026 B2B System Core"}),e.jsx("span",{className:"auth-version",children:"v1.0.4"})]})]})})}function kt({allowedRoles:t}){const{isAuthenticated:s,loading:n,user:r}=gn(),a=Ls();return n?e.jsx("div",{style:{padding:40},children:"Loading..."}):s?t&&(!r||!t.includes(r.role))?e.jsx(Ge,{to:"/forbidden",replace:!0,state:{from:a.pathname}}):e.jsx(Eo,{}):e.jsx(Ge,{to:"/login",replace:!0})}function Uj(){const t=De();return e.jsx("div",{className:"forbidden-wrapper",children:e.jsxs("div",{className:"forbidden-content",children:[e.jsx("div",{className:"forbidden-icon",children:""}),e.jsx("h1",{className:"forbidden-title",children:"403  Access Denied"}),e.jsx("p",{className:"forbidden-text",children:"You do not have the required permissions to view this section. If you believe this is an error, please contact the Super Admin."}),e.jsx("button",{onClick:()=>t("/"),className:"btn-home-link",children:"Go Back to Previous Page"})]})})}function qj(){const{user:t}=gn(),s=(t==null?void 0:t.role)??"",a=s==="super_admin"||s==="sub_admin",i=s.includes("researcher"),l=s.includes("inquirer"),o=s.includes("auditor");s.includes("website"),s.includes("linkedin");const h=a?"/super-admin":o?"/auditor":"/worker",m=s.replace(/_/g," ").toUpperCase(),p=s.split("_").map(x=>x[0]).join("").toUpperCase();return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:a?"SA":p}),e.jsx("span",{children:m})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(te,{to:`${h}/dashboard`,className:"sa-link",children:"Dashboard"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sa-section",children:"USERS"}),e.jsx(te,{to:"/super-admin/users",className:"sa-link",children:"All Users"}),e.jsx(te,{to:"/super-admin/users/create",className:"sa-link",children:"Create User"}),e.jsx("div",{className:"sa-section",children:"CATEGORIES"}),e.jsx(te,{to:"/super-admin/categories",className:"sa-link",children:"Categories"}),e.jsx(te,{to:"/super-admin/user-categories",className:"sa-link",children:"Assign Users"}),e.jsx(te,{to:"/super-admin/category-rules",className:"sa-link",children:"Rules"}),e.jsx("div",{className:"sa-section",children:"SYSTEM"}),e.jsx(te,{to:"/super-admin/action-config",className:"sa-link",children:"Config"}),e.jsx(te,{to:"/super-admin/disapproval-reasons",className:"sa-link",children:"Rejection Reasons"}),e.jsx(te,{to:"/super-admin/company-types",className:"sa-link",children:"Company Types"}),e.jsx(te,{to:"/super-admin/job-types",className:"sa-link",children:"Job Types"}),e.jsx(te,{to:"/super-admin/pricing",className:"sa-link",children:"Pricing"}),e.jsx(te,{to:"/super-admin/logs",className:"sa-link",children:"Logs"})]}),i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sa-section",children:"RESEARCHER TOOLS"}),e.jsx(te,{to:"/worker/research/tasks",className:"sa-link",children:"Available Tasks"}),e.jsx(te,{to:"/worker/research/duplicates",className:"sa-link",children:"Check Duplicates"}),e.jsx(te,{to:"/worker/history",className:"sa-link",children:"My Submissions"}),e.jsx(te,{to:"/worker/ranking",className:"sa-link",children:"Top 3 Ranking"})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sa-section",children:"INQUIRY PIPELINE"}),e.jsx(te,{to:"/worker/inquiry/tasks",className:"sa-link",children:"Active Outreach"}),e.jsx(te,{to:"/worker/uploads",className:"sa-link",children:"Evidence (Screenshots)"}),e.jsx(te,{to:"/worker/ranking",className:"sa-link",children:"Top 3 Ranking"})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"sa-section",children:"VERIFICATION"}),e.jsx(te,{to:"/auditor/pending",className:"sa-link",children:"Review Queue"}),e.jsx(te,{to:"/auditor/flags",className:"sa-link",children:"Fraud Detection"}),e.jsx(te,{to:"/auditor/history",className:"sa-link",children:"Audit History"})]})]})]})}function Mj(){const{user:t,logout:s}=gn();return e.jsxs("div",{className:"sa-shell",children:[e.jsx(qj,{}),e.jsxs("div",{className:"sa-main",children:[e.jsxs("header",{className:"sa-topbar",children:[e.jsxs("span",{className:"sa-topbar-title",children:[t==null?void 0:t.role.replace("_"," ").toUpperCase()," PANEL"]}),e.jsxs("div",{className:"sa-topbar-actions",children:[e.jsx("span",{className:"user-email-topbar",children:t==null?void 0:t.id}),e.jsx("button",{className:"sa-logout-btn",onClick:s,children:"Logout"})]})]}),e.jsx("main",{className:"sa-content",children:e.jsx(Eo,{})})]})]})}function Bt({sidebar:t,title:s}){const{user:n,logout:r}=gn();return e.jsxs("div",{className:"sa-shell",children:[t,e.jsxs("div",{className:"sa-main",children:[e.jsxs("header",{className:"sa-topbar",children:[e.jsx("span",{className:"sa-topbar-title",children:s}),e.jsxs("div",{className:"sa-topbar-actions",children:[e.jsx("span",{className:"user-email-topbar",children:n==null?void 0:n.id}),e.jsx("button",{className:"sa-logout-btn",onClick:r,children:"Logout"})]})]}),e.jsx("main",{className:"sa-content",children:e.jsx(Eo,{})})]})]})}function zj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"SA"}),e.jsx("span",{children:"SUB ADMIN"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx("span",{className:"sa-section",children:"Dashboard"}),e.jsx(te,{to:"/sub-admin/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx("span",{className:"sa-section",children:"Management"}),e.jsx(te,{to:"/sub-admin/users",className:"sa-link",children:"Users"}),e.jsx(te,{to:"/sub-admin/company-types",className:"sa-link",children:"Company Types"}),e.jsx(te,{to:"/sub-admin/job-types",className:"sa-link",children:"Job Types"}),e.jsx(te,{to:"/sub-admin/disapproval-reasons",className:"sa-link",children:"Disapproval Reasons"}),e.jsx(te,{to:"/sub-admin/daily-limits",className:"sa-link",children:"Daily Limits"}),e.jsx(te,{to:"/sub-admin/create-tasks",className:"sa-link",children:"Create Tasks"}),e.jsx("span",{className:"sa-section",children:"Research"}),e.jsx(te,{to:"/sub-admin/research/website",className:"sa-link",children:"Website Research"}),e.jsx(te,{to:"/sub-admin/research/linkedin",className:"sa-link",children:"LinkedIn Research"}),e.jsx("span",{className:"sa-section",children:"Inquiry"}),e.jsx(te,{to:"/sub-admin/inquiry/website",className:"sa-link",children:"Website Inquiry"}),e.jsx(te,{to:"/sub-admin/inquiry/linkedin",className:"sa-link",children:"LinkedIn Inquiry"}),e.jsx("span",{className:"sa-section",children:"Audit"}),e.jsx(te,{to:"/sub-admin/audit/website-research",className:"sa-link",children:"Website Research Auditor"}),e.jsx(te,{to:"/sub-admin/audit/linkedin-research",className:"sa-link",children:"LinkedIn Research Auditor"}),e.jsx(te,{to:"/sub-admin/audit/website-inquiry",className:"sa-link",children:"Website Inquirer Auditor"}),e.jsx(te,{to:"/sub-admin/audit/linkedin-inquiry",className:"sa-link",children:"LinkedIn Inquirer Auditor"}),e.jsx("span",{className:"sa-section",children:"Analytics"}),e.jsx(te,{to:"/sub-admin/performance",className:"sa-link",children:"Performance"}),e.jsx(te,{to:"/sub-admin/top-workers",className:"sa-link",children:"Top Workers"}),e.jsx("span",{className:"sa-section",children:"Communication"}),e.jsx(te,{to:"/sub-admin/notices",className:"sa-link",children:"Notices"}),e.jsx(te,{to:"/sub-admin/messages",className:"sa-link",children:"Messages"})]})]})}function Bj(){return e.jsx(Bt,{title:"Sub Admin Panel",sidebar:e.jsx(zj,{})})}function Wj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"WR"}),e.jsx("span",{children:"WEBSITE RESEARCHER"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(te,{to:"/researcher/website/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(te,{to:"/researcher/website/tasks",className:"sa-link",children:"Tasks"})]})]})}function $j(){return e.jsx(Bt,{title:"Website Researcher",sidebar:e.jsx(Wj,{})})}function Vj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"LR"}),e.jsx("span",{children:"LINKEDIN RESEARCHER"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(te,{to:"/researcher/linkedin/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(te,{to:"/researcher/linkedin/tasks",className:"sa-link",children:"Tasks"})]})]})}function Hj(){return e.jsx(Bt,{title:"LinkedIn Researcher",sidebar:e.jsx(Vj,{})})}function Gj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"WI"}),e.jsx("span",{children:"WEBSITE INQUIRER"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(te,{to:"/inquirer/website/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(te,{to:"/inquirer/website/tasks",className:"sa-link",children:"Tasks"}),e.jsx(te,{to:"/inquirer/website/uploads",className:"sa-link",children:"Uploads"})]})]})}function Qj(){return e.jsx(Bt,{title:"Website Inquirer",sidebar:e.jsx(Gj,{})})}function Jj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"LI"}),e.jsx("span",{children:"LINKEDIN INQUIRER"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(te,{to:"/inquirer/linkedin/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(te,{to:"/inquirer/linkedin/tasks",className:"sa-link",children:"Tasks"}),e.jsx(te,{to:"/inquirer/linkedin/uploads",className:"sa-link",children:"Uploads"})]})]})}function Kj(){return e.jsx(Bt,{title:"LinkedIn Inquirer",sidebar:e.jsx(Jj,{})})}function Yj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"WA"}),e.jsx("span",{children:"WEBSITE AUDITOR"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(te,{to:"/auditor/website/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(te,{to:"/auditor/website/pending",className:"sa-link",children:"Pending"})]})]})}function Xj(){return e.jsx(Bt,{title:"Website Auditor",sidebar:e.jsx(Yj,{})})}function Zj(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"LA"}),e.jsx("span",{children:"LINKEDIN AUDITOR"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(te,{to:"/auditor/linkedin/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(te,{to:"/auditor/linkedin/pending",className:"sa-link",children:"Pending"})]})]})}function ey(){return e.jsx(Bt,{title:"LinkedIn Auditor",sidebar:e.jsx(Zj,{})})}function ty(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"WRA"}),e.jsx("span",{children:"WEBSITE RESEARCH AUDITOR"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(te,{to:"/auditor-researcher/website/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(te,{to:"/auditor-researcher/website/pending",className:"sa-link",children:"Pending"})]})]})}function sy(){return e.jsx(Bt,{title:"Website Research Auditor",sidebar:e.jsx(ty,{})})}function ny(){return e.jsxs("aside",{className:"sa-sidebar",children:[e.jsxs("div",{className:"sa-logo",children:[e.jsx("div",{className:"logo-box",children:"LRA"}),e.jsx("span",{children:"LINKEDIN RESEARCH AUDITOR"})]}),e.jsxs("nav",{className:"sa-nav",children:[e.jsx(te,{to:"/auditor-researcher/linkedin/dashboard",className:"sa-link",children:"Dashboard"}),e.jsx(te,{to:"/auditor-researcher/linkedin/pending",className:"sa-link",children:"Pending"})]})]})}function ry(){return e.jsx(Bt,{title:"LinkedIn Research Auditor",sidebar:e.jsx(ny,{})})}const ay="http://localhost:3000",Y=Re.create({baseURL:ay,headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}});Y.interceptors.request.use(t=>{const s=localStorage.getItem("accessToken");return console.log("[axios interceptor] URL:",t.url),console.log("[axios interceptor] Token in localStorage:",s?"YES":"NO"),s?(t.headers.Authorization=`Bearer ${s}`,console.log("[axios interceptor] Setting Authorization header: Bearer",s.substring(0,20)+"...")):console.log("[axios interceptor] NO TOKEN FOUND - Authorization header NOT set"),console.log("[axios interceptor] Final headers.Authorization:",t.headers.Authorization?"PRESENT":"MISSING"),t});async function iy(){return(await Y.get("/admin/dashboard")).data}async function gr(){return(await Y.get("/admin/categories")).data}async function ly(){return(await Y.get("/admin/top-workers")).data}async function oy(){return(await Y.get("/admin/system-logs")).data}async function Do(t){return(await Y.get("/admin/users",{params:t})).data}async function cy(){return(await Y.get("/admin/users/stats")).data}async function dy(t){return(await Y.post("/users",t)).data}async function Si(t,s){return(await Y.patch(`/admin/users/${t}/status`,{status:s})).data}async function uy(t,s){return(await Y.patch(`/admin/users/${t}/profile`,s)).data}async function fd(t,s){return(await Y.post(`/admin/users/${t}/reset-password`,s?{password:s}:{})).data}async function xd(t){return(await Y.delete(`/admin/users/${t}`)).data}async function hy(t){return(await Y.post("/categories",t)).data}async function my(t,s){return(await Y.patch(`/categories/${t}`,s)).data}async function py(t){return(await Y.delete(`/categories/${t}`)).data}async function fy(){return(await Y.get("/admin/category-rules")).data}async function xy(t){return(await Y.post("/admin/category-rules",t)).data}async function gy(t,s){return(await Y.patch(`/admin/category-rules/${t}`,s)).data}async function jy(t){return(await Y.patch(`/admin/category-rules/${t}/toggle-status`)).data}async function yy(t){return(await Y.delete(`/admin/category-rules/${t}`)).data}async function vy(t,s){return(await Y.post("/admin/users/assign-categories",{userId:t,categoryIds:s})).data}async function Ny(t){return(await Y.get(`/admin/users/${t}/categories`)).data}function ce({title:t,value:s,variant:n="default"}){return e.jsx("div",{className:`stat-card ${n}`,children:e.jsxs("div",{className:"stat-card-info",children:[e.jsx("h4",{className:"stat-card-title",children:t}),e.jsx("span",{className:"stat-card-value",children:s})]})})}function by(){const[t,s]=d.useState(null),[n,r]=d.useState([]),[a,i]=d.useState(null),[l,o]=d.useState([]),[c,h]=d.useState(!0);if(d.useEffect(()=>{Promise.all([iy().then(s),gr().then(r),ly().then(i),oy().then(o)]).finally(()=>h(!1))},[]),c)return e.jsx("div",{className:"page-loader",children:"Loading System..."});const m=p=>{var x;return!p||!((x=p.cooldownRules)!=null&&x.cooldownDays)?"No cooldowns":`${p.cooldownRules.cooldownDays} days`};return e.jsxs("div",{className:"sa-container",children:[e.jsxs("header",{className:"sa-header-banner",children:[e.jsxs("div",{className:"sa-header-content",children:[e.jsx("h1",{children:"Super Admin Control Center"}),e.jsx("p",{children:"Global monitoring, rule enforcement and workforce productivity"})]}),e.jsx("span",{className:"sa-live-indicator",children:"SYSTEM LIVE"})]}),e.jsxs("section",{className:"sa-stats-grid",children:[e.jsx(ce,{title:"Total Users",value:(t==null?void 0:t.totalUsers)??0}),e.jsx(ce,{title:"Total Researchers",value:(t==null?void 0:t.totalResearchers)??0}),e.jsx(ce,{title:"Total Inquirers",value:(t==null?void 0:t.totalInquirers)??0}),e.jsx(ce,{title:"Total Auditors",value:(t==null?void 0:t.totalAuditors)??0}),e.jsx(ce,{title:"Actions Submitted",value:(t==null?void 0:t.totalActionsSubmitted)??0}),e.jsx(ce,{title:"Actions Approved",value:(t==null?void 0:t.totalActionsApproved)??0}),e.jsx(ce,{title:"Actions Rejected",value:(t==null?void 0:t.totalActionsRejected)??0}),e.jsx(ce,{title:"Approval Rate %",value:`${(t==null?void 0:t.approvalRate)??0}%`})]}),e.jsxs("div",{className:"sa-main-layout",children:[e.jsxs("div",{className:"sa-layout-column",children:[e.jsxs("div",{className:"sa-card",children:[e.jsx("div",{className:"sa-card-header",children:e.jsx("h3",{children:"Quick Actions"})}),e.jsxs("div",{className:"quick-grid",children:[e.jsx("button",{className:"btn-action-tile",children:"Add User"}),e.jsx("button",{className:"btn-action-tile",children:"Add Category"}),e.jsx("button",{className:"btn-action-tile",children:"Set Pricing"}),e.jsx("button",{className:"btn-action-tile",children:"Export Data"})]})]}),e.jsxs("div",{className:"sa-card",children:[e.jsx("div",{className:"sa-card-header",children:e.jsx("h3",{children:"Categories Overview"})}),e.jsx("div",{className:"ranking-table-wrapper",children:e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Total Actions"}),e.jsx("th",{children:"Approved"}),e.jsx("th",{children:"Rejected"}),e.jsx("th",{children:"Cooldown Rules"})]})}),e.jsx("tbody",{children:n.length?n.map(p=>e.jsxs("tr",{children:[e.jsx("td",{children:p.name}),e.jsx("td",{children:p.totalActions}),e.jsx("td",{children:p.approvedActions}),e.jsx("td",{children:p.rejectedActions}),e.jsx("td",{children:m(p.config)})]},p.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,children:"No categories yet"})})})]})})]}),e.jsxs("div",{className:"sa-card",children:[e.jsxs("div",{className:"sa-card-header",children:[e.jsx("h3",{children:"Active Rules"}),e.jsx("button",{className:"btn-link",children:"Edit Rules"})]}),e.jsxs("div",{className:"rules-scroll-container",children:[e.jsxs("div",{className:"rule-row",children:[e.jsxs("div",{className:"rule-info",children:[e.jsx("strong",{children:"Cooldown"}),e.jsx("span",{children:"30 days"})]}),e.jsx("span",{className:"status-tag",children:"Active"})]}),e.jsxs("div",{className:"rule-row",children:[e.jsxs("div",{className:"rule-info",children:[e.jsx("strong",{children:"Screenshot Hashing"}),e.jsx("span",{children:"Enabled"})]}),e.jsx("span",{className:"status-tag",children:"Active"})]}),e.jsxs("div",{className:"rule-row",children:[e.jsxs("div",{className:"rule-info",children:[e.jsx("strong",{children:"New Worker Audit"}),e.jsx("span",{children:"100%"})]}),e.jsx("span",{className:"status-tag",children:"Active"})]})]})]}),e.jsxs("div",{className:"sa-card",children:[e.jsx("div",{className:"sa-card-header",children:e.jsx("h3",{children:"Top Workers by Approved Count"})}),e.jsxs("div",{className:"ranking-table-wrapper",children:[e.jsx("h4",{children:"Researchers"}),e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rank"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Count"})]})}),e.jsx("tbody",{children:a!=null&&a.researchers.length?a.researchers.map((p,x)=>e.jsxs("tr",{children:[e.jsx("td",{children:x+1}),e.jsx("td",{children:p.userId}),e.jsx("td",{children:p.count})]},p.userId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,children:"No ranking data yet"})})})]}),e.jsx("h4",{children:"Inquirers"}),e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rank"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Count"})]})}),e.jsx("tbody",{children:a!=null&&a.inquirers.length?a.inquirers.map((p,x)=>e.jsxs("tr",{children:[e.jsx("td",{children:x+1}),e.jsx("td",{children:p.userId}),e.jsx("td",{children:p.count})]},p.userId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,children:"No ranking data yet"})})})]}),e.jsx("h4",{children:"Auditors"}),e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rank"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Count"})]})}),e.jsx("tbody",{children:a!=null&&a.auditors.length?a.auditors.map((p,x)=>e.jsxs("tr",{children:[e.jsx("td",{children:x+1}),e.jsx("td",{children:p.userId}),e.jsx("td",{children:p.count})]},p.userId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,children:"No ranking data yet"})})})]})]})]})]}),e.jsx("div",{className:"sa-layout-column",children:e.jsxs("div",{className:"sa-card sa-full-height",children:[e.jsxs("div",{className:"sa-card-header",children:[e.jsx("h3",{children:"System Activity Logs"}),e.jsx("button",{className:"btn-link",children:"View All Logs"})]}),e.jsx("div",{className:"activity-feed",children:l.length?l.map(p=>{var x,j;return e.jsxs("div",{className:"activity-item",children:[e.jsx("div",{className:`status-indicator ${p.status||((x=p.decision)==null?void 0:x.toLowerCase())||"pending"}`}),e.jsxs("div",{className:"activity-content",children:[e.jsxs("div",{className:"activity-main",children:[e.jsx("strong",{children:p.type==="action"?`Action ${p.status}`:`Audit ${p.decision}`}),e.jsx("span",{className:`badge-status ${p.status||((j=p.decision)==null?void 0:j.toLowerCase())||"pending"}`,children:(p.status||p.decision||"pending").toUpperCase()})]}),e.jsxs("div",{className:"activity-sub",children:[e.jsxs("span",{children:["User: ",p.performedByUserId||p.auditorUserId]}),e.jsx("span",{className:"separator",children:"|"}),e.jsx("span",{children:new Date(p.createdAt).toLocaleString()})]})]}),e.jsx("div",{className:"activity-actions",children:e.jsx("button",{className:"btn-process",children:"View"})})]},p.id)}):e.jsx("div",{className:"activity-item",children:e.jsx("div",{className:"activity-content",children:e.jsx("div",{className:"activity-main",children:e.jsx("strong",{children:"No activity yet"})})})})})]})})]})]})}function wy(){const[t,s]=d.useState(null),[n,r]=d.useState([]),[a,i]=d.useState(!0),[l,o]=d.useState(!0),[c,h]=d.useState(null),[m,p]=d.useState(null),x=De(),j=d.useCallback(async()=>{i(!0),h(null);try{const S=(await le.get("/subadmin/stats")).data;s({totalSubmissions:Number(S.totalSubmissions??0),pendingSubmissions:Number(S.pendingSubmissions??0),approved:Number(S.approved??0),rejected:Number(S.rejected??0),flagged:Number(S.flagged??0),categoriesCovered:Number(S.categoriesCovered??0),actionsRequiringApproval:Number(S.actionsRequiringApproval??0)})}catch(b){console.error("fetchStats error",b),h(b.message||"Failed to load stats"),s(null)}finally{i(!1)}},[]),g=d.useCallback(async()=>{o(!0),p(null);try{const S=(await le.get("/subadmin/alerts",{params:{limit:8}})).data,w=(Array.isArray(S)?S:[]).map(u=>({id:String(u.id??u._id??Math.random()),level:u.level==="high"?"high":u.level==="medium"?"medium":"low",title:String(u.title??u.event??"Alert"),message:String(u.message??u.detail??""),timestamp:String(u.timestamp??u.createdAt??new Date().toISOString())}));r(w)}catch(b){console.error("fetchAlerts error",b),p(b.message||"Failed to load alerts"),r([])}finally{o(!1)}},[]);return d.useEffect(()=>{j(),g();const b=setInterval(()=>{j(),g()},3e4);return()=>clearInterval(b)},[j,g]),e.jsxs("div",{className:"subadmin-real-dashboard",children:[e.jsxs("header",{className:"hdr",children:[e.jsxs("div",{className:"hdr-left",children:[e.jsx("h1",{children:"Operations Overview"}),e.jsx("p",{className:"muted",children:"Live metrics for the categories you manage. All numbers come from the backend."})]}),e.jsxs("div",{className:"hdr-right",children:[e.jsx("label",{className:"period-label",children:"Period"}),e.jsxs("select",{className:"period-select",onChange:b=>{b.target.value,j()},defaultValue:"last7",children:[e.jsx("option",{value:"last24",children:"Last 24 hours"}),e.jsx("option",{value:"last7",children:"Last 7 days"}),e.jsx("option",{value:"last30",children:"Last 30 days"})]}),e.jsx("button",{className:"refresh",onClick:()=>{j(),g()},children:"Refresh"})]})]}),e.jsxs("section",{className:"cards",role:"region","aria-label":"Key metrics",children:[a&&e.jsx("div",{className:"loader",children:"Loading stats"}),c&&e.jsxs("div",{className:"error",children:["Error: ",c]}),!a&&!c&&!t&&e.jsx("div",{className:"empty",children:"No stats available for your categories."}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Total Submissions"}),e.jsx("h2",{children:t.totalSubmissions.toLocaleString()}),e.jsxs("small",{children:["Pending: ",t.pendingSubmissions.toLocaleString()]})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Approvals"}),e.jsx("h2",{children:t.approved.toLocaleString()}),e.jsxs("small",{children:["Rejected: ",t.rejected.toLocaleString()]})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Flagged"}),e.jsx("h2",{children:t.flagged.toLocaleString()}),e.jsxs("small",{children:["Need review: ",t.actionsRequiringApproval.toLocaleString()]})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Categories"}),e.jsx("h2",{children:t.categoriesCovered}),e.jsx("small",{children:"Assigned categories"})]})]})]}),e.jsxs("section",{className:"quick-actions",children:[e.jsx("button",{className:"primary",onClick:()=>x("/sub-admin/review/inquiry"),children:"Open Inquiry Review"}),e.jsx("button",{onClick:()=>x("/sub-admin/review/research"),children:"Open Research Review"}),e.jsx("button",{onClick:()=>x("/sub-admin/categories"),children:"Open Categories & Rules"})]}),e.jsxs("section",{className:"main-grid",children:[e.jsxs("div",{className:"left-col",children:[e.jsxs("div",{className:"panel",children:[e.jsx("h3",{children:"Queued actions / Need attention"}),e.jsx("p",{className:"muted",children:"Items requiring manual review (backend-driven)."}),e.jsx(ky,{})]}),e.jsxs("div",{className:"panel",children:[e.jsx("h3",{children:"Top Pending Categories"}),e.jsx("p",{className:"muted",children:"Which categories are accumulating the most pending actions."}),e.jsx(Sy,{})]})]}),e.jsxs("aside",{className:"right-col",children:[e.jsxs("div",{className:"panel alerts-panel",children:[e.jsx("h3",{children:"Critical Priority Flags"}),l&&e.jsx("div",{className:"loader",children:"Loading alerts"}),m&&e.jsxs("div",{className:"error",children:["Error: ",m]}),!l&&!m&&n.length===0&&e.jsx("div",{className:"empty",children:"No alerts in the last period."}),e.jsx("div",{className:"alert-list",children:n.map(b=>e.jsxs("div",{className:`alert-item ${b.level}`,children:[e.jsx("div",{className:"a-dot"}),e.jsxs("div",{className:"a-body",children:[e.jsx("p",{children:e.jsx("strong",{children:b.title})}),e.jsx("small",{className:"muted",children:b.message}),e.jsx("div",{className:"ts",children:new Date(b.timestamp).toLocaleString()})]}),e.jsx("div",{className:"a-actions",children:e.jsx("button",{onClick:()=>x(`/sub-admin/alerts/${b.id}`),children:"Details"})})]},b.id))})]}),e.jsxs("div",{className:"panel",children:[e.jsx("h3",{children:"Admin Shortcuts"}),e.jsxs("div",{className:"shortcuts",children:[e.jsx("button",{onClick:()=>x("/sub-admin/templates"),children:"Templates"}),e.jsx("button",{onClick:()=>x("/sub-admin/disapproval-reasons"),children:"Disapproval Reasons"}),e.jsx("button",{onClick:()=>x("/sub-admin/messages"),children:"Messages"})]})]})]})]})]})}function ky(){const[t,s]=d.useState(null),[n,r]=d.useState(!0),[a,i]=d.useState(null);return d.useEffect(()=>{let l=!0;return(async()=>{r(!0),i(null);try{const c=(await le.get("/subadmin/queued-actions",{params:{limit:10}})).data;if(!l)return;s(Array.isArray(c)?c:[])}catch(o){console.error(o),i(o.message||"Failed to load queued actions")}finally{l&&r(!1)}})(),()=>{l=!1}},[]),n?e.jsx("div",{className:"loader",children:"Loading queued actions"}):a?e.jsxs("div",{className:"error",children:["Error: ",a]}):!t||t.length===0?e.jsx("div",{className:"empty",children:"No queued actions."}):e.jsx("ul",{className:"queue-list",children:t.map(l=>e.jsxs("li",{className:"queue-item",children:[e.jsxs("div",{className:"q-main",children:[e.jsx("strong",{children:l.event??l.type??"Action"}),e.jsxs("div",{className:"muted small",children:[l.actor??l.user??"","  ",l.target??""]})]}),e.jsx("div",{className:"q-meta",children:e.jsx("small",{className:"muted",children:l.timestamp?new Date(l.timestamp).toLocaleString():""})})]},l.id??l._id))})}function Sy(){const[t,s]=d.useState(null),[n,r]=d.useState(!0);return d.useEffect(()=>{let a=!0;return(async()=>{r(!0);try{const l=(await le.get("/subadmin/top-categories",{params:{limit:6}})).data;if(!a)return;s(Array.isArray(l)?l:[])}catch(i){console.error(i),s([])}finally{a&&r(!1)}})(),()=>{a=!1}},[]),n?e.jsx("div",{className:"loader",children:"Loading categories"}):!t||t.length===0?e.jsx("div",{className:"empty",children:"No category data."}):e.jsx("ul",{className:"top-cat-list",children:t.map(a=>e.jsxs("li",{className:"top-cat",children:[e.jsx("div",{className:"cat-name",children:a.name??a.slug}),e.jsxs("div",{className:"cat-meta small muted",children:[(a.pending??0).toLocaleString()," pending"]})]},a.id??a.slug))})}async function jn(){try{return(await le.get("/subadmin/categories")).data||[]}catch(t){throw console.error("Failed to fetch sub-admin categories:",t),t}}async function Cy(){return((await le.get("/subadmin/company-types")).data||[]).filter(n=>n.isActive!==!1)}async function Ry(){return((await le.get("/subadmin/job-types")).data||[]).filter(n=>n.isActive!==!1)}async function Ay(t,s,n=50,r=0){try{const a={limit:n,offset:r};return t&&(a.categoryId=t),s&&s!=="all"&&(a.status=s),(await le.get("/subadmin/research/website",{params:a})).data||[]}catch(a){throw console.error("Failed to fetch website research tasks:",a),a}}async function Ey(t,s,n=50,r=0){try{const a={limit:n,offset:r};return s&&s!=="all"&&(a.status=s),(await le.get("/subadmin/research/linkedin",{params:a})).data||[]}catch(a){throw console.error("Failed to fetch LinkedIn research tasks:",a),a}}async function Ty(t){try{return(await le.post("/subadmin/research/website",{...t})).data}catch(s){throw console.error("Failed to create website research tasks:",s),s}}async function Ly(t){try{return(await le.post("/subadmin/research/linkedin",{...t})).data}catch(s){throw console.error("Failed to create LinkedIn research tasks:",s),s}}async function Iy(t,s){try{return(await le.post("/subadmin/inquiry/website",{categoryId:t,targetUrls:s})).data}catch(n){throw console.error("Failed to create website inquiry tasks:",n),n}}async function Py(t,s){try{return(await le.post("/subadmin/inquiry/linkedin",{categoryId:t,profileUrls:s})).data}catch(n){throw console.error("Failed to create LinkedIn inquiry tasks:",n),n}}async function fm(t,s,n,r=50,a=0){try{const i={limit:r,offset:a};return t&&(i.categoryId=t),s&&(i.platform=s),n&&n!=="all"&&(i.status=n),(await le.get("/subadmin/inquiry",{params:i})).data||[]}catch(i){throw console.error("Failed to fetch inquiry tasks:",i),i}}async function Dy(t){try{return(await le.get(`/subadmin/research/${t}`)).data}catch(s){throw console.error("Failed to fetch research task for review:",s),s}}async function Fy(t){try{return(await le.get(`/subadmin/inquiry/${t}`)).data}catch(s){throw console.error("Failed to fetch inquiry task for review:",s),s}}async function _y(t){return Dy(t)}async function xm(t){return Fy(t)}async function Oy(t){try{return(await le.patch(`/subadmin/research/${t}/approve`)).data}catch(s){throw console.error("Failed to approve research task:",s),s}}async function Uy(t,s){try{return(await le.patch(`/subadmin/research/${t}/reject`,{reason:s})).data}catch(n){throw console.error("Failed to reject research task:",n),n}}async function qy(t){try{return(await le.patch(`/subadmin/research/${t}/flag`)).data}catch(s){throw console.error("Failed to flag research task:",s),s}}async function gm(t){try{return(await le.patch(`/subadmin/inquiry/${t}/approve`)).data}catch(s){throw console.error("Failed to approve inquiry task:",s),s}}async function jm(t,s){try{return(await le.patch(`/subadmin/inquiry/${t}/reject`,{reason:s})).data}catch(n){throw console.error("Failed to reject inquiry task:",n),n}}async function ym(t){try{return(await le.patch(`/subadmin/inquiry/${t}/flag`)).data}catch(s){throw console.error("Failed to flag inquiry task:",s),s}}async function My(t){try{return(await le.get("/subadmin/users",{params:t})).data}catch(s){throw console.error("Failed to fetch subadmin users:",s),s}}async function zy(){try{return(await le.get("/subadmin/users/stats")).data}catch(t){throw console.error("Failed to fetch user stats:",t),t}}async function Ci(t,s){try{return(await le.patch(`/subadmin/users/${t}/status`,{status:s})).data}catch(n){throw console.error("Failed to update user status:",n),n}}async function gd(t,s){try{return(await le.post(`/subadmin/users/${t}/reset-password`,{password:s})).data}catch(n){throw console.error("Failed to reset user password:",n),n}}async function By(t,s){try{return(await le.patch(`/subadmin/users/${t}/profile`,s)).data}catch(n){throw console.error("Failed to update user profile:",n),n}}async function Wy(){return(await le.get("/subadmin/category-rules")).data}async function $y(t,s){return(await le.patch(`/subadmin/category-rules/${t}/daily-limit`,{dailyLimitOverride:s})).data}async function Vy(t,s){return(await le.patch(`/subadmin/category-rules/${t}/cooldown`,{cooldownDaysOverride:s})).data}function Hy(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(null),[l,o]=d.useState([]),[c,h]=d.useState("all"),[m,p]=d.useState("all"),[x,j]=d.useState(null);d.useEffect(()=>{(async()=>{try{const b=await jn();o(Array.isArray(b)?b:[])}catch(b){console.error("Failed to load categories:",b),o([])}})()},[]);const g=d.useCallback(async()=>{r(!0),i(null);try{const b=await Ay(m==="all"?void 0:m,c==="all"?void 0:c);s(Array.isArray(b)?b:[])}catch(b){console.error(b),i(b.message||"Failed to load website research"),s([])}finally{r(!1)}},[c,m]);return d.useEffect(()=>{g()},[g]),l.find(b=>b.id===m),e.jsxs("div",{className:"sa-page research-website-page",children:[e.jsxs("header",{className:"sa-page-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Website Research"}),e.jsx("p",{className:"muted",children:"Submissions from website researchers for your assigned categories."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("select",{value:c,onChange:b=>h(b.target.value),children:[e.jsx("option",{value:"all",children:"Status: All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"flagged",children:"Flagged"})]}),e.jsxs("select",{value:m,onChange:b=>p(b.target.value),children:[e.jsx("option",{value:"all",children:"Category: All"}),l.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]}),e.jsx("button",{onClick:g,disabled:n,children:"Refresh"})]})]}),e.jsxs("main",{className:"sa-main",children:[n&&e.jsx("div",{className:"loader",children:"Loading submissions"}),a&&e.jsxs("div",{className:"error",children:["Error: ",a]}),!n&&t.length===0&&e.jsx("div",{className:"empty",children:"No website research submissions found for your filters."}),!n&&t.length>0&&e.jsx(e.Fragment,{children:e.jsxs("table",{className:"sa-table research-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Link"}),e.jsx("th",{children:"Country"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"When"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(b=>e.jsxs("tr",{children:[e.jsx("td",{className:"nowrap",children:e.jsx("strong",{children:b.companyName||""})}),e.jsx("td",{className:"mono",children:b.profileUrl?e.jsx("a",{href:b.profileUrl,target:"_blank",rel:"noreferrer",children:b.profileUrl}):""}),e.jsx("td",{children:b.country??""}),e.jsx("td",{children:b.category??""}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${b.status}`,children:b.status.toUpperCase()})}),e.jsx("td",{children:b.createdAt?new Date(b.createdAt).toLocaleString():""}),e.jsx("td",{className:"actions-col",children:e.jsx("button",{onClick:()=>j(b),children:"View"})})]},b.id))})]})})]}),x!==null&&e.jsxs("div",{className:"detail-drawer",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"drawer-backdrop",onClick:()=>j(null)}),e.jsxs("div",{className:"drawer",children:[e.jsxs("header",{className:"drawer-head",children:[e.jsx("h3",{children:x.companyName??"Detail"}),e.jsx("div",{className:"drawer-actions",children:e.jsx("button",{onClick:()=>j(null),children:"Close"})})]}),e.jsxs("div",{className:"drawer-body",children:[e.jsxs("section",{className:"detail-section",children:[e.jsx("label",{children:"Company Link"}),e.jsx("div",{className:"mono",children:x.profileUrl?e.jsx("a",{href:x.profileUrl,target:"_blank",rel:"noreferrer",children:x.profileUrl}):""})]}),e.jsxs("section",{className:"detail-section two-col",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Country"}),e.jsx("div",{children:x.country??""})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Category"}),e.jsx("div",{children:x.category??""})]})]}),e.jsxs("section",{className:"detail-section",children:[e.jsx("label",{children:"Status"}),e.jsxs("div",{children:[e.jsx("span",{className:`status-pill ${x.status}`,children:x.status.toUpperCase()}),e.jsxs("div",{className:"muted small",children:["Created: ",new Date(x.createdAt).toLocaleString()]})]})]}),e.jsxs("section",{className:"detail-section",children:[e.jsx("label",{children:"Raw Data"}),e.jsx("pre",{className:"raw",children:JSON.stringify(x,null,2)})]})]}),e.jsxs("footer",{className:"drawer-foot",children:[e.jsx("div",{className:"foot-left",children:e.jsxs("small",{className:"muted",children:["ID: ",x.id]})}),e.jsx("div",{className:"foot-actions",children:e.jsx("button",{onClick:()=>j(null),children:"Close"})})]})]})]})]})}function Gy(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(null),[l,o]=d.useState("all"),c=De(),h=d.useCallback(async()=>{r(!0),i(null);try{const m=await Ey(void 0,l==="all"?void 0:l);s(Array.isArray(m)?m:[])}catch(m){console.error(m),i(m.message||"Failed to load LinkedIn research"),s([])}finally{r(!1)}},[l]);return d.useEffect(()=>{h()},[h]),e.jsxs("div",{className:"sa-linkedin-research",children:[e.jsxs("header",{className:"page-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"LinkedIn Research"}),e.jsx("p",{className:"muted",children:"All LinkedIn profiles submitted for research. Data is fetched live from the backend."})]}),e.jsxs("div",{className:"filters",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:l,onChange:m=>o(m.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"flagged",children:"Flagged"})]}),e.jsx("button",{onClick:h,children:"Refresh"})]})]}),n&&e.jsx("div",{className:"loader",children:"Loading LinkedIn research"}),a&&e.jsxs("div",{className:"error",children:["Error: ",a]}),!n&&!a&&t.length===0&&e.jsx("div",{className:"empty",children:"No LinkedIn research entries found."}),!n&&!a&&t.length>0&&e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Profile"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Country"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Submitted"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:t.map(m=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("a",{href:m.profileUrl,target:"_blank",rel:"noreferrer",children:"LinkedIn Profile"})}),e.jsx("td",{children:m.companyName}),e.jsx("td",{children:m.category}),e.jsx("td",{children:m.country}),e.jsx("td",{children:e.jsx("span",{className:`status ${m.status}`,children:m.status})}),e.jsx("td",{children:new Date(m.createdAt).toLocaleString()}),e.jsx("td",{children:e.jsx("button",{className:"btn-view",onClick:()=>c(`/sub-admin/review/research/${m.id}`),children:"Review"})})]},m.id))})]})]})}function Qy(){const[t,s]=d.useState("website"),[n,r]=d.useState([]),[a,i]=d.useState(""),[l,o]=d.useState([""]),[c,h]=d.useState(!1),[m,p]=d.useState(null),[x,j]=d.useState(null),g=De();d.useEffect(()=>{(async()=>{try{const f=await jn();r(Array.isArray(f)?f:[]),f&&f.length>0&&i(f[0].id)}catch(f){console.error("Failed to load categories:",f)}})()},[]);const b=()=>{o([...l,""])},S=f=>{o(l.filter((v,N)=>N!==f))},w=(f,v)=>{const N=[...l];N[f]=v,o(N)},u=async f=>{f.preventDefault(),h(!0),p(null),j(null);try{const v=l.filter(q=>q.trim().length>0);if(v.length===0)throw new Error("Please add at least one item");const N=t==="website"?"/subadmin/research/website":"/subadmin/research/linkedin",C=t==="website"?{categoryId:a,domains:v}:{categoryId:a,profileUrls:v},_=localStorage.getItem("token"),I=await fetch(`http://localhost:3000/api${N}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify(C)});if(!I.ok)throw new Error(`Failed to create tasks: ${I.statusText}`);j(`${v.length} ${t} research task(s) created successfully!`),o([""]),setTimeout(()=>{g(t==="website"?"/sub-admin/research/website":"/sub-admin/research/linkedin")},1500)}catch(v){p(v.message||"Failed to create tasks")}finally{h(!1)}};return e.jsxs("div",{className:"sa-create-page",children:[e.jsx("header",{className:"sa-page-header",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Create Research Tasks"}),e.jsx("p",{className:"muted",children:"Bulk create research tasks for researchers in your assigned categories."})]})}),e.jsx("main",{className:"sa-main",children:e.jsxs("form",{onSubmit:u,className:"create-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Platform"}),e.jsxs("div",{className:"radio-group",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",value:"website",checked:t==="website",onChange:f=>s(f.target.value)}),"Website"]}),e.jsxs("label",{children:[e.jsx("input",{type:"radio",value:"linkedin",checked:t==="linkedin",onChange:f=>s(f.target.value)}),"LinkedIn"]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("label",{htmlFor:"category",children:"Category *"}),e.jsxs("select",{id:"category",value:a,onChange:f=>i(f.target.value),disabled:n.length===0,required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),n.map(f=>e.jsx("option",{value:f.id,children:f.name},f.id))]})]}),e.jsxs("div",{className:"form-section",children:[e.jsxs("label",{children:[t==="website"?"Domains":"LinkedIn Profile URLs"," *"]}),e.jsxs("p",{className:"help-text",children:["Add ",t==="website"?"company domains":"LinkedIn profile URLs",", one per row"]}),e.jsx("div",{className:"items-list",children:l.map((f,v)=>e.jsxs("div",{className:"item-row",children:[e.jsx("input",{type:"text",value:f,onChange:N=>w(v,N.target.value),placeholder:t==="website"?"example.com":"linkedin.com/in/...",className:"item-input"}),l.length>1&&e.jsx("button",{type:"button",onClick:()=>S(v),className:"btn-remove",children:"Remove"})]},v))}),e.jsx("button",{type:"button",onClick:b,className:"btn-add-item",children:"+ Add Another"})]}),m&&e.jsx("div",{className:"error",children:m}),x&&e.jsx("div",{className:"success",children:x}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",disabled:c,className:"btn-submit",children:c?"Creating...":"Create Tasks"}),e.jsx("button",{type:"button",onClick:()=>g(-1),className:"btn-cancel",children:"Cancel"})]})]})})]})}function Jy(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(null),[l,o]=d.useState([]),[c,h]=d.useState("all"),[m,p]=d.useState("all"),x=De();d.useEffect(()=>{(async()=>{try{const g=await jn();o(Array.isArray(g)?g:[])}catch(g){console.error("Failed to load categories:",g)}})()},[]);const j=d.useCallback(async()=>{r(!0),i(null);try{const g=await fm(c==="all"?void 0:c,"WEBSITE",m==="all"?void 0:m);s(Array.isArray(g)?g:[])}catch(g){console.error(g),i(g.message||"Failed to load website inquiries"),s([])}finally{r(!1)}},[c,m]);return d.useEffect(()=>{j()},[j]),e.jsxs("div",{className:"sa-website-inquiry",children:[e.jsxs("header",{className:"page-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Website Inquiry"}),e.jsx("p",{className:"muted",children:"All website inquiry tasks and their status."})]}),e.jsxs("div",{className:"filters",children:[e.jsxs("select",{value:m,onChange:g=>p(g.target.value),children:[e.jsx("option",{value:"all",children:"Status: All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]}),e.jsxs("select",{value:c,onChange:g=>h(g.target.value),children:[e.jsx("option",{value:"all",children:"Category: All"}),l.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id))]}),e.jsx("button",{onClick:j,disabled:n,children:"Refresh"})]})]}),n&&e.jsx("div",{className:"loader",children:"Loading inquiries"}),a&&e.jsxs("div",{className:"error",children:["Error: ",a]}),!n&&!a&&t.length===0&&e.jsx("div",{className:"empty",children:"No website inquiry tasks found."}),!n&&!a&&t.length>0&&e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Task ID"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(g=>e.jsxs("tr",{children:[e.jsx("td",{children:g.id.slice(0,8)}),e.jsx("td",{children:g.category||""}),e.jsx("td",{children:e.jsx("span",{className:`status ${g.status}`,children:g.status})}),e.jsx("td",{children:new Date(g.createdAt).toLocaleString()}),e.jsx("td",{children:e.jsx("button",{className:"btn-view",onClick:()=>x(`/sub-admin/review/inquiry/${g.id}`),children:"Review"})})]},g.id))})]})]})}function Ky(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(null),[l,o]=d.useState([]),[c,h]=d.useState("all"),[m,p]=d.useState("all"),x=De();d.useEffect(()=>{(async()=>{try{const g=await jn();o(Array.isArray(g)?g:[])}catch(g){console.error("Failed to load categories:",g)}})()},[]);const j=d.useCallback(async()=>{r(!0),i(null);try{const g=await fm(c==="all"?void 0:c,"LINKEDIN",m==="all"?void 0:m);s(Array.isArray(g)?g:[])}catch(g){console.error(g),i(g.message||"Failed to load LinkedIn inquiries"),s([])}finally{r(!1)}},[c,m]);return d.useEffect(()=>{j()},[j]),e.jsxs("div",{className:"sa-linkedin-inquiry",children:[e.jsxs("header",{className:"page-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"LinkedIn Inquiry"}),e.jsx("p",{className:"muted",children:"All LinkedIn inquiry tasks and their status."})]}),e.jsxs("div",{className:"filters",children:[e.jsxs("select",{value:m,onChange:g=>p(g.target.value),children:[e.jsx("option",{value:"all",children:"Status: All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]}),e.jsxs("select",{value:c,onChange:g=>h(g.target.value),children:[e.jsx("option",{value:"all",children:"Category: All"}),l.map(g=>e.jsx("option",{value:g.id,children:g.name},g.id))]}),e.jsx("button",{onClick:j,disabled:n,children:"Refresh"})]})]}),n&&e.jsx("div",{className:"loader",children:"Loading inquiries"}),a&&e.jsxs("div",{className:"error",children:["Error: ",a]}),!n&&!a&&t.length===0&&e.jsx("div",{className:"empty",children:"No LinkedIn inquiry tasks found."}),!n&&!a&&t.length>0&&e.jsxs("table",{className:"sa-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Task ID"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(g=>e.jsxs("tr",{children:[e.jsx("td",{children:g.id.slice(0,8)}),e.jsx("td",{children:g.category||""}),e.jsx("td",{children:e.jsx("span",{className:`status ${g.status}`,children:g.status})}),e.jsx("td",{children:new Date(g.createdAt).toLocaleString()}),e.jsx("td",{children:e.jsx("button",{className:"btn-view",onClick:()=>x(`/sub-admin/review/inquiry/${g.id}`),children:"Review"})})]},g.id))})]})]})}const Yy=()=>{var f;const t=De(),[s,n]=d.useState("website"),[r,a]=d.useState([]),[i,l]=d.useState(""),[o,c]=d.useState([""]),[h,m]=d.useState(!1),[p,x]=d.useState(null),[j,g]=d.useState(null);d.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("token")){x("Authentication required");return}const C=await jn();a(C),C.length>0&&l(C[0].id)}catch(N){x(N instanceof Error?N.message:"Failed to load categories")}})()},[]);const b=()=>{c([...o,""])},S=v=>{c(o.filter((N,C)=>C!==v))},w=(v,N)=>{const C=[...o];C[v]=N,c(C)},u=async v=>{if(v.preventDefault(),!i){x("Please select a category");return}if(o.filter(C=>C.trim().length>0).length===0){x(`Please enter at least one ${s==="website"?"company URL":"LinkedIn profile URL"}`);return}try{m(!0),x(null),g(null);const C=o.filter(_=>_.trim().length>0);s==="website"?await Iy(i,C):await Py(i,C),g(`Successfully created ${C.length} inquiry task(s)`),c([""]),setTimeout(()=>{t("/sub-admin/inquiry/website")},1500)}catch(C){x(C instanceof Error?C.message:"Failed to create inquiry tasks")}finally{m(!1)}};return e.jsxs("div",{className:"task-creation-page",children:[e.jsxs("div",{className:"task-header",children:[e.jsx("h1",{children:"Create Inquiry Tasks"}),e.jsx("p",{children:"Create bulk inquiry tasks for researchers"})]}),p&&e.jsx("div",{className:"error-message",children:p}),j&&e.jsx("div",{className:"success-message",children:j}),e.jsxs("form",{onSubmit:u,className:"task-creation-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Select Platform"}),e.jsxs("div",{className:"radio-group",children:[e.jsxs("label",{className:"radio-label",children:[e.jsx("input",{type:"radio",name:"platform",value:"website",checked:s==="website",onChange:v=>n(v.target.value)}),e.jsxs("span",{className:"radio-text",children:[e.jsx("span",{className:"radio-title",children:"Website Inquiry"}),e.jsx("span",{className:"radio-desc",children:"Create inquiry tasks for company websites"})]})]}),e.jsxs("label",{className:"radio-label",children:[e.jsx("input",{type:"radio",name:"platform",value:"linkedin",checked:s==="linkedin",onChange:v=>n(v.target.value)}),e.jsxs("span",{className:"radio-text",children:[e.jsx("span",{className:"radio-title",children:"LinkedIn Inquiry"}),e.jsx("span",{className:"radio-desc",children:"Create inquiry tasks for LinkedIn profiles (3-step process)"})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsxs("label",{htmlFor:"category",className:"form-label",children:["Category ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsxs("select",{id:"category",value:i,onChange:v=>l(v.target.value),className:"form-select",required:!0,children:[e.jsx("option",{value:"",children:"-- Select a category --"}),r.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]}),r.length===1&&e.jsxs("p",{className:"form-hint",children:[" You have access to only 1 category: ",r[0].name]})]}),e.jsxs("div",{className:"form-section",children:[e.jsxs("label",{className:"form-label",children:[s==="website"?"Company URLs":"LinkedIn Profile URLs"," ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("div",{className:"items-list",children:o.map((v,N)=>e.jsxs("div",{className:"item-input-group",children:[e.jsx("input",{type:"text",value:v,onChange:C=>w(N,C.target.value),placeholder:s==="website"?"e.g., https://example.com":"e.g., https://linkedin.com/in/johndoe",className:"form-input"}),o.length>1&&e.jsx("button",{type:"button",className:"btn-remove-item",onClick:()=>S(N),children:""})]},N))}),e.jsxs("button",{type:"button",onClick:b,className:"btn-add-item",children:["+ Add Another ",s==="website"?"URL":"Profile"]})]}),e.jsx("div",{className:"form-section",children:e.jsxs("div",{className:"summary-box",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Platform:"})," ",s==="website"?"Website Inquiry":"LinkedIn Inquiry (3-Step)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",((f=r.find(v=>v.id===i))==null?void 0:f.name)||"Not selected"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tasks to Create:"})," ",o.filter(v=>v.trim().length>0).length]})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>t(-1),disabled:h,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",disabled:h,children:h?"Creating...":"Create Inquiry Tasks"})]})]})]})};function Xy(){const{taskId:t}=Ba(),s=De(),[n,r]=d.useState(null),[a,i]=d.useState(null),[l,o]=d.useState(!0),[c,h]=d.useState(null),[m,p]=d.useState(!1),[x,j]=d.useState(!1),[g,b]=d.useState(""),[S,w]=d.useState(!1);d.useEffect(()=>{(async()=>{try{const N=localStorage.getItem("token"),C=await fetch(`http://localhost:3000/api/subadmin/research/${t}`,{headers:{Authorization:`Bearer ${N}`}});if(!C.ok)throw new Error("Failed to load task");const _=await C.json();r(_.task),i(_.submission)}catch(N){h(N.message)}finally{o(!1)}})()},[t]);const u=async()=>{p(!0);try{const v=localStorage.getItem("token");if(!(await fetch(`http://localhost:3000/api/subadmin/research/${t}/approve`,{method:"PATCH",headers:{Authorization:`Bearer ${v}`}})).ok)throw new Error("Failed to approve");s("/sub-admin/research/website")}catch(v){h(v.message)}finally{p(!1)}},f=async()=>{j(!0);try{const v=localStorage.getItem("token");if(!(await fetch(`http://localhost:3000/api/subadmin/research/${t}/reject`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify({reason:g})})).ok)throw new Error("Failed to reject");s("/sub-admin/research/website")}catch(v){h(v.message)}finally{j(!1),w(!1)}};return l?e.jsx("div",{className:"review-page",children:e.jsx("div",{className:"loader",children:"Loading..."})}):c?e.jsx("div",{className:"review-page",children:e.jsx("div",{className:"error",children:c})}):!n||!a?e.jsx("div",{className:"review-page",children:e.jsx("div",{className:"empty",children:"No data found"})}):e.jsxs("div",{className:"review-page",children:[e.jsxs("header",{className:"review-header",children:[e.jsx("button",{onClick:()=>s(-1),className:"btn-back",children:" Back"}),e.jsx("h2",{children:"Website Research Audit"}),e.jsx("div",{})]}),e.jsxs("div",{className:"review-split",children:[e.jsxs("aside",{className:"review-side left-side",children:[e.jsx("h3",{children:"Researcher Submission"}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("p",{children:a.contactName||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Email"}),e.jsx("p",{children:a.email||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Phone"}),e.jsx("p",{children:a.phone||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Country"}),e.jsx("p",{children:a.country||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Language"}),e.jsx("p",{children:a.language||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Tech Stack"}),e.jsx("p",{className:"tech-stack",children:a.techStack||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("p",{className:"notes",children:a.notes||""})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:`badge status-${n.status.toLowerCase()}`,children:n.status})]})]}),e.jsxs("section",{className:"review-side right-side",children:[e.jsx("h3",{children:"Evidence"}),a.screenshotPath?e.jsxs("div",{className:"screenshot-container",children:[e.jsx("img",{src:a.screenshotPath,alt:"Research evidence",className:"screenshot-img"}),e.jsx("p",{className:"caption",children:"Screenshot / Evidence"})]}):e.jsx("div",{className:"empty-evidence",children:"No screenshot provided"})]})]}),e.jsx("footer",{className:"review-footer",children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:u,disabled:m,className:"btn-approve",children:m?"Approving...":"Approve"}),e.jsx("button",{onClick:()=>w(!0),disabled:x,className:"btn-reject",children:"Reject"})]})}),S&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsx("h3",{children:"Reject Submission"}),e.jsx("textarea",{placeholder:"Reason for rejection (optional)",value:g,onChange:v=>b(v.target.value),className:"reject-textarea"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:f,disabled:x,className:"btn-confirm",children:x?"Rejecting...":"Confirm Reject"}),e.jsx("button",{onClick:()=>w(!1),className:"btn-cancel-modal",children:"Cancel"})]})]})})]})}const Zy=()=>{var _,I,q,z,B,R;const{taskId:t}=Ba(),s=De(),[n,r]=d.useState(null),[a,i]=d.useState(!0),[l,o]=d.useState(null),[c,h]=d.useState(!1),[m,p]=d.useState(""),[x,j]=d.useState(!1);d.useEffect(()=>{(async()=>{try{if(!t){o("Task ID not provided"),i(!1);return}if(!localStorage.getItem("token")){o("Authentication required"),i(!1);return}const M=await _y(t);r(M)}catch(E){o(E instanceof Error?E.message:"Failed to load task")}finally{i(!1)}})()},[t]);const g=async()=>{if(t)try{j(!0),await Oy(t),s(-1)}catch(T){o(T instanceof Error?T.message:"Failed to approve task"),j(!1)}},b=async()=>{if(t)try{j(!0),await Uy(t,m),s(-1)}catch(T){o(T instanceof Error?T.message:"Failed to reject task"),j(!1)}},S=async()=>{if(t)try{j(!0),await qy(t),s(-1)}catch(T){o(T instanceof Error?T.message:"Failed to flag task"),j(!1)}};if(a)return e.jsx("div",{className:"loader",children:"Loading task..."});if(l)return e.jsxs("div",{className:"error",children:["Error: ",l]});if(!n)return e.jsx("div",{className:"empty",children:"Task not found"});const w=((_=n.contact)==null?void 0:_.contactName)||"N/A",u=((I=n.contact)==null?void 0:I.contactLinkedinUrl)||"N/A",f=((q=n.contact)==null?void 0:q.country)||"N/A",v=((z=n.contact)==null?void 0:z.language)||"N/A",N=(R=(B=n.contact)==null?void 0:B.researchSubmission)==null?void 0:R.screenshotPath,C=T=>{switch(T){case"PENDING":return"status-pending";case"COMPLETED":return"status-approved";case"REJECTED":return"status-rejected";case"SUBMITTED":return"status-flagged";default:return"status-pending"}};return e.jsxs("div",{className:"review-page",children:[e.jsxs("div",{className:"review-header",children:[e.jsx("button",{className:"btn-back",onClick:()=>s(-1),children:" Back"}),e.jsx("h2",{children:"LinkedIn Research Audit"}),e.jsx("span",{className:`badge ${C(n.status)}`,children:n.status})]}),e.jsxs("div",{className:"review-split",children:[e.jsxs("div",{className:"review-side left-side",children:[e.jsx("h3",{children:"Research Data"}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("p",{children:w})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"LinkedIn URL"}),u!=="N/A"?e.jsx("p",{children:e.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",children:u})}):e.jsx("p",{children:u})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Country"}),e.jsx("p",{children:f})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Language"}),e.jsx("p",{children:v})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Task Status"}),e.jsx("span",{className:`badge ${C(n.status)}`,children:n.status})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Created Date"}),e.jsx("p",{children:new Date(n.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:"review-side right-side",children:[e.jsx("h3",{children:"Evidence"}),N?e.jsxs("div",{className:"screenshot-container",children:[e.jsx("img",{src:N,alt:"Research Evidence",className:"screenshot-img",onClick:()=>window.open(N,"_blank")}),e.jsx("p",{className:"caption",children:"Click to enlarge"})]}):e.jsx("div",{className:"empty-evidence",children:e.jsx("p",{children:"No evidence uploaded"})})]})]}),e.jsx("div",{className:"review-footer",children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"btn-approve",onClick:g,disabled:x,children:" Approve"}),e.jsx("button",{className:"btn-reject",onClick:()=>h(!0),disabled:x,children:" Reject"}),e.jsx("button",{className:"btn-reject",onClick:S,disabled:x,style:{background:"#f59e0b"},children:" Flag for Review"})]})}),c&&e.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"modal",onClick:T=>T.stopPropagation(),children:[e.jsx("h3",{children:"Reject Task"}),e.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginBottom:"16px"},children:"Please provide a reason for rejection:"}),e.jsx("textarea",{className:"reject-textarea",value:m,onChange:T=>p(T.target.value),placeholder:"Enter rejection reason..."}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn-confirm",onClick:b,disabled:x||!m.trim(),children:"Confirm Rejection"}),e.jsx("button",{className:"btn-cancel-modal",onClick:()=>{h(!1),p("")},disabled:x,children:"Cancel"})]})]})})]})},ev=()=>{var q,z,B,R;const{taskId:t}=Ba(),s=De(),[n,r]=d.useState(null),[a,i]=d.useState(!0),[l,o]=d.useState(null),[c,h]=d.useState(!1),[m,p]=d.useState(""),[x,j]=d.useState(!1);d.useEffect(()=>{(async()=>{try{if(!t){o("Task ID not provided"),i(!1);return}if(!localStorage.getItem("token")){o("Authentication required"),i(!1);return}const M=await xm(t);r(M)}catch(E){o(E instanceof Error?E.message:"Failed to load task")}finally{i(!1)}})()},[t]);const g=async()=>{if(t)try{j(!0),await gm(t),s(-1)}catch(T){o(T instanceof Error?T.message:"Failed to approve task"),j(!1)}},b=async()=>{if(t)try{j(!0),await jm(t,m),s(-1)}catch(T){o(T instanceof Error?T.message:"Failed to reject task"),j(!1)}},S=async()=>{if(t)try{j(!0),await ym(t),s(-1)}catch(T){o(T instanceof Error?T.message:"Failed to flag task"),j(!1)}};if(a)return e.jsx("div",{className:"loader",children:"Loading task..."});if(l)return e.jsxs("div",{className:"error",children:["Error: ",l]});if(!n)return e.jsx("div",{className:"empty",children:"Task not found"});const w=((q=n.contact)==null?void 0:q.companyName)||"N/A",u=((z=n.contact)==null?void 0:z.email)||"N/A",f=((B=n.contact)==null?void 0:B.phone)||"N/A",v=((R=n.contact)==null?void 0:R.industry)||"N/A",N=n.inquiry_actions||[],C=n.inquiry_submission_snapshots||[],_=T=>{switch(T){case"PENDING":return"status-pending";case"APPROVED":case"COMPLETED":return"status-approved";case"REJECTED":return"status-rejected";case"FLAGGED":return"status-flagged";default:return"status-pending"}},I=T=>{switch(T){case"PENDING":return"status-pending";case"COMPLETED":case"SUCCESS":return"status-approved";case"FAILED":case"ERROR":return"status-rejected";default:return"status-pending"}};return e.jsxs("div",{className:"review-page",children:[e.jsxs("div",{className:"review-header",children:[e.jsx("button",{className:"btn-back",onClick:()=>s(-1),children:" Back"}),e.jsx("h2",{children:"Website Inquiry Audit"}),e.jsx("span",{className:`badge ${_(n.status)}`,children:n.status})]}),e.jsxs("div",{className:"review-split",children:[e.jsxs("div",{className:"review-side left-side",children:[e.jsx("h3",{children:"Inquiry Actions"}),N.length>0?e.jsx("div",{children:N.map(T=>e.jsxs("div",{className:"field-group",style:{borderLeft:"3px solid #3b82f6",paddingLeft:"12px"},children:[e.jsx("label",{children:T.actionType}),e.jsxs("p",{children:["Status: ",e.jsx("span",{className:`badge ${I(T.status)}`,children:T.status})]}),e.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",marginTop:"4px"},children:new Date(T.created_at).toLocaleString()})]},T.id))}):e.jsx("div",{className:"empty-evidence",children:e.jsx("p",{children:"No actions recorded"})}),e.jsxs("div",{className:"field-group",style:{marginTop:"24px"},children:[e.jsx("label",{children:"Target Information"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Company:"})," ",w]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",u]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",f]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Industry:"})," ",v]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Created Date"}),e.jsx("p",{children:new Date(n.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:"review-side right-side",children:[e.jsx("h3",{children:"Submission Evidence"}),C.length>0?e.jsx("div",{children:C.map((T,E)=>e.jsxs("div",{className:"field-group",style:{borderLeft:"3px solid #10b981",paddingLeft:"12px"},children:[e.jsxs("label",{children:["Snapshot ",E+1]}),T.screenshot_path?e.jsx("img",{src:T.screenshot_path,alt:`Snapshot ${E+1}`,className:"screenshot-img",onClick:()=>window.open(T.screenshot_path,"_blank")}):e.jsx("div",{className:"empty-evidence",children:e.jsx("p",{children:"No screenshot"})}),T.message_content&&e.jsxs("p",{style:{fontSize:"12px",color:"#475569",marginTop:"8px",fontStyle:"italic"},children:['"',T.message_content,'"']}),T.is_duplicate&&e.jsx("p",{style:{fontSize:"12px",color:"#dc2626",fontWeight:600,marginTop:"4px"},children:" Marked as Duplicate"}),e.jsx("p",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"4px"},children:new Date(T.created_at).toLocaleString()})]},T.id))}):e.jsx("div",{className:"empty-evidence",children:e.jsx("p",{children:"No submission snapshots"})})]})]}),e.jsx("div",{className:"review-footer",children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"btn-approve",onClick:g,disabled:x,children:" Approve"}),e.jsx("button",{className:"btn-reject",onClick:()=>h(!0),disabled:x,children:" Reject"}),e.jsx("button",{className:"btn-reject",onClick:S,disabled:x,style:{background:"#f59e0b"},children:" Flag for Review"})]})}),c&&e.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"modal",onClick:T=>T.stopPropagation(),children:[e.jsx("h3",{children:"Reject Task"}),e.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginBottom:"16px"},children:"Please provide a reason for rejection:"}),e.jsx("textarea",{className:"reject-textarea",value:m,onChange:T=>p(T.target.value),placeholder:"Enter rejection reason..."}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn-confirm",onClick:b,disabled:x||!m.trim(),children:"Confirm Rejection"}),e.jsx("button",{className:"btn-cancel-modal",onClick:()=>{h(!1),p("")},disabled:x,children:"Cancel"})]})]})})]})},Ri=["OUTREACH","ASK_FOR_EMAIL","SEND_CATALOGUE"],tv=()=>{var B,R,T;const{taskId:t}=Ba(),s=De(),[n,r]=d.useState(null),[a,i]=d.useState(!0),[l,o]=d.useState(null),[c,h]=d.useState(!1),[m,p]=d.useState(""),[x,j]=d.useState(!1),[g,b]=d.useState({});d.useEffect(()=>{(async()=>{try{if(!t){o("Task ID not provided"),i(!1);return}if(!localStorage.getItem("token")){o("Authentication required"),i(!1);return}const k=await xm(t);r(k),S(k)}catch(M){o(M instanceof Error?M.message:"Failed to load task")}finally{i(!1)}})()},[t]);const S=E=>{const M=E.inquiry_actions||[],k={};let O=!1;Ri.forEach((D,y)=>{var se,L,$;const F=M.find(ee=>ee.actionType===D),P=F&&(F.status==="COMPLETED"||F.status==="SUCCESS"),A=y>0?Ri[y-1]:void 0,J=A?((se=k[A])==null?void 0:se.completed)||!1:!0;if(k[D]={completed:P,blocked:y>0&&!J,email_not_required:D==="SEND_CATALOGUE"&&O},D==="ASK_FOR_EMAIL"&&P){const ee=(L=E.inquiry_submission_snapshots)==null?void 0:L.find(V=>V.created_at>=((F==null?void 0:F.created_at)||""));O=(($=ee==null?void 0:ee.message_content)==null?void 0:$.toLowerCase().includes("email"))||!1}}),b(k)},w=async()=>{if(t)try{j(!0),await gm(t),s(-1)}catch(E){o(E instanceof Error?E.message:"Failed to approve task"),j(!1)}},u=async()=>{if(t)try{j(!0),await jm(t,m),s(-1)}catch(E){o(E instanceof Error?E.message:"Failed to reject task"),j(!1)}},f=async()=>{if(t)try{j(!0),await ym(t),s(-1)}catch(E){o(E instanceof Error?E.message:"Failed to flag task"),j(!1)}};if(a)return e.jsx("div",{className:"loader",children:"Loading task..."});if(l)return e.jsxs("div",{className:"error",children:["Error: ",l]});if(!n)return e.jsx("div",{className:"empty",children:"Task not found"});const v=((B=n.contact)==null?void 0:B.profileName)||"N/A",N=((R=n.contact)==null?void 0:R.profileUrl)||"N/A",C=((T=n.contact)==null?void 0:T.country)||"N/A",_=n.inquiry_actions||[],I=n.inquiry_submission_snapshots||[],q=E=>{switch(E){case"PENDING":return"status-pending";case"APPROVED":case"COMPLETED":return"status-approved";case"REJECTED":return"status-rejected";case"FLAGGED":return"status-flagged";default:return"status-pending"}},z=(E,M)=>{const k=g[E];let O="",D="status-pending";return k!=null&&k.completed?(O="",D="status-approved"):k!=null&&k.blocked&&(O="",D="status-rejected"),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[e.jsxs("span",{className:`badge ${D}`,children:[O," STEP ",M+1]}),e.jsx("strong",{children:E})]}),(k==null?void 0:k.blocked)&&e.jsx("p",{style:{fontSize:"12px",color:"#dc2626",fontWeight:600,marginLeft:"32px"},children:" Blocked - Previous step must be completed first"}),(k==null?void 0:k.email_not_required)&&e.jsx("p",{style:{fontSize:"12px",color:"#f59e0b",fontWeight:600,marginLeft:"32px"},children:" Email not provided, can proceed to catalogue step"}),!(k!=null&&k.blocked)&&!(k!=null&&k.completed)&&e.jsx("p",{style:{fontSize:"12px",color:"#64748b",marginLeft:"32px"},children:"Awaiting completion..."}),(k==null?void 0:k.completed)&&e.jsx("p",{style:{fontSize:"12px",color:"#10b981",fontWeight:600,marginLeft:"32px"},children:" Completed"})]},E)};return e.jsxs("div",{className:"review-page",children:[e.jsxs("div",{className:"review-header",children:[e.jsx("button",{className:"btn-back",onClick:()=>s(-1),children:" Back"}),e.jsx("h2",{children:"LinkedIn Inquiry Audit"}),e.jsx("span",{className:`badge ${q(n.status)}`,children:n.status})]}),e.jsxs("div",{className:"review-split",children:[e.jsxs("div",{className:"review-side left-side",children:[e.jsx("h3",{children:"LinkedIn Inquiry Flow (Strict 3-Step)"}),e.jsxs("div",{style:{marginBottom:"24px",padding:"12px",background:"#f0fdf4",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[e.jsx("p",{style:{margin:0,fontSize:"12px",color:"#166534",fontWeight:600},children:"Required Workflow:"}),e.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"12px",color:"#166534"},children:"OUTREACH  ASK_FOR_EMAIL  SEND_CATALOGUE (Steps cannot be skipped)"})]}),Ri.map((E,M)=>z(E,M)),e.jsxs("div",{className:"field-group",style:{marginTop:"24px"},children:[e.jsx("label",{children:"Profile Information"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",v]}),N!=="N/A"?e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",e.jsx("a",{href:N,target:"_blank",rel:"noopener noreferrer",children:N})]}):e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",N]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",C]})]}),e.jsxs("div",{className:"field-group",children:[e.jsx("label",{children:"Created Date"}),e.jsx("p",{children:new Date(n.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:"review-side right-side",children:[e.jsx("h3",{children:"Action Details & Evidence"}),_.length>0?e.jsx("div",{children:_.map((E,M)=>{const k=I.filter(O=>new Date(O.created_at)>=new Date(E.created_at));return e.jsxs("div",{style:{marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid #e2e8f0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("strong",{children:E.actionType}),e.jsx("span",{className:`badge ${q(E.status)}`,children:E.status})]}),e.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",margin:"8px 0"},children:new Date(E.created_at).toLocaleString()}),k.length>0&&e.jsx("div",{style:{marginTop:"12px"},children:k.map((O,D)=>e.jsxs("div",{style:{marginBottom:"8px"},children:[O.screenshot_path&&e.jsx("img",{src:O.screenshot_path,alt:`${E.actionType} snapshot ${D+1}`,className:"screenshot-img",onClick:()=>window.open(O.screenshot_path,"_blank"),style:{marginBottom:"8px"}}),O.message_content&&e.jsxs("p",{style:{fontSize:"12px",color:"#475569",fontStyle:"italic",margin:"4px 0"},children:['"',O.message_content,'"']}),O.is_duplicate&&e.jsx("p",{style:{fontSize:"11px",color:"#dc2626",fontWeight:600},children:" Duplicate detected"})]},O.id))})]},E.id)})}):e.jsx("div",{className:"empty-evidence",children:e.jsx("p",{children:"No actions recorded"})})]})]}),e.jsx("div",{className:"review-footer",children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"btn-approve",onClick:w,disabled:x,children:" Approve"}),e.jsx("button",{className:"btn-reject",onClick:()=>h(!0),disabled:x,children:" Reject"}),e.jsx("button",{className:"btn-reject",onClick:f,disabled:x,style:{background:"#f59e0b"},children:" Flag for Review"})]})}),c&&e.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"modal",onClick:E=>E.stopPropagation(),children:[e.jsx("h3",{children:"Reject Task"}),e.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginBottom:"16px"},children:"Please provide a reason for rejection:"}),e.jsx("textarea",{className:"reject-textarea",value:m,onChange:E=>p(E.target.value),placeholder:"Enter rejection reason..."}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn-confirm",onClick:u,disabled:x||!m.trim(),children:"Confirm Rejection"}),e.jsx("button",{className:"btn-cancel-modal",onClick:()=>{h(!1),p("")},disabled:x,children:"Cancel"})]})]})})]})};function jd(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(null),l=De(),o=d.useCallback(async()=>{r(!0),i(null);try{const h=(await le.get("/subadmin/review/research",{params:{status:"pending",limit:50}})).data;s(Array.isArray(h==null?void 0:h.data)?h.data:Array.isArray(h)?h:[])}catch(c){console.error(c),i(c.message||"Failed to load research items"),s([])}finally{r(!1)}},[]);return d.useEffect(()=>{o()},[o]),e.jsxs("div",{className:"research-review-page",children:[e.jsxs("header",{className:"hdr",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Research Audit"}),e.jsx("p",{className:"muted",children:"Audit and validate completed research before it is used in inquiries."})]}),e.jsx("button",{className:"refresh",onClick:o,children:"Refresh"})]}),n&&e.jsx("div",{className:"loader",children:"Loading research"}),a&&e.jsx("div",{className:"error",children:a}),!n&&!a&&t.length===0&&e.jsx("div",{className:"empty",children:"No research items awaiting review."}),!n&&t.length>0&&e.jsxs("table",{className:"review-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Target"}),e.jsx("th",{children:"Source"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Researcher"}),e.jsx("th",{children:"Created"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:t.map(c=>e.jsxs("tr",{children:[e.jsx("td",{children:c.target||""}),e.jsx("td",{children:c.source||""}),e.jsx("td",{children:e.jsx("span",{className:`status ${c.status}`,children:c.status})}),e.jsx("td",{children:c.researcher||""}),e.jsx("td",{children:c.createdAt?new Date(c.createdAt).toLocaleString():""}),e.jsx("td",{children:e.jsx("button",{onClick:()=>l(`/sub-admin/review/research/${c.id}`),children:"Audit"})})]},c.id))})]})]})}function yd(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(null),l=De(),o=d.useCallback(async()=>{r(!0),i(null);try{const h=(await le.get("/subadmin/review/inquiry",{params:{status:"pending",limit:50}})).data;s(Array.isArray(h==null?void 0:h.data)?h.data:Array.isArray(h)?h:[])}catch(c){console.error("fetchInquiries error",c),i(c.message||"Failed to load inquiries"),s([])}finally{r(!1)}},[]);return d.useEffect(()=>{o()},[o]),e.jsxs("div",{className:"inquiry-review-page",children:[e.jsxs("header",{className:"hdr",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Inquiry Audit"}),e.jsx("p",{className:"muted",children:"Audit outbound inquiries before approval or rejection."})]}),e.jsx("button",{className:"refresh",onClick:o,children:"Refresh"})]}),n&&e.jsx("div",{className:"loader",children:"Loading inquiries"}),a&&e.jsxs("div",{className:"error",children:["Error: ",a]}),!n&&!a&&t.length===0&&e.jsx("div",{className:"empty",children:"No inquiries awaiting review."}),!n&&t.length>0&&e.jsxs("table",{className:"review-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Target"}),e.jsx("th",{children:"Channel"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Worker"}),e.jsx("th",{children:"Created"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:t.map(c=>e.jsxs("tr",{children:[e.jsx("td",{children:c.target||""}),e.jsx("td",{children:c.channel||""}),e.jsx("td",{children:c.category||""}),e.jsx("td",{children:e.jsx("span",{className:`status ${c.status}`,children:c.status})}),e.jsx("td",{children:c.worker||""}),e.jsx("td",{children:c.createdAt?new Date(c.createdAt).toLocaleString():""}),e.jsx("td",{children:e.jsx("button",{onClick:()=>l(`/sub-admin/review/inquiry/${c.id}`),children:"Audit"})})]},c.id))})]})]})}function sv(){const[t,s]=d.useState(null),[n,r]=d.useState(!0),[a,i]=d.useState(null),[l,o]=d.useState(null),c=d.useCallback(async()=>{r(!0),i(null);try{const m=await le.get("/subadmin/messages");s(Array.isArray(m.data)?m.data:[])}catch(m){console.error("fetchMessages error",m),i(m.message||"Failed to load messages"),s(null)}finally{r(!1)}},[]),h=async m=>{if(!m.read)try{await le.patch(`/subadmin/messages/${m.id}/read`),s(p=>p&&p.map(x=>x.id===m.id?{...x,read:!0}:x))}catch(p){console.error("markAsRead failed",p)}};return d.useEffect(()=>{c()},[c]),e.jsxs("div",{className:"subadmin-messages",children:[e.jsxs("header",{className:"hdr",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Internal Messages"}),e.jsx("p",{className:"muted",children:"Direct system and admin-to-admin communications. Backend-driven."})]}),e.jsx("button",{className:"refresh",onClick:c,children:"Refresh"})]}),e.jsxs("div",{className:"messages-layout",children:[e.jsxs("aside",{className:"messages-list",children:[n&&e.jsx("div",{className:"loader",children:"Loading messages"}),a&&e.jsxs("div",{className:"error",children:["Error: ",a]}),!n&&!a&&t&&t.length===0&&e.jsx("div",{className:"empty",children:"No internal messages."}),!n&&!a&&t&&t.map(m=>e.jsxs("div",{className:`msg-item ${m.read?"read":"unread"}`,onClick:()=>{o(m),h(m)},children:[e.jsxs("div",{className:"msg-top",children:[e.jsx("strong",{children:m.subject}),m.priority&&e.jsx("span",{className:`prio ${m.priority}`,children:m.priority.toUpperCase()})]}),e.jsxs("div",{className:"msg-meta",children:[e.jsx("span",{children:m.from}),e.jsx("span",{children:new Date(m.createdAt).toLocaleString()})]})]},m.id))]}),e.jsxs("section",{className:"message-view",children:[!l&&e.jsx("div",{className:"empty large",children:"Select a message to view its contents."}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:l.subject}),e.jsxs("div",{className:"view-meta",children:[e.jsxs("span",{children:["From: ",l.from]}),e.jsx("span",{children:new Date(l.createdAt).toLocaleString()})]})]}),e.jsx("div",{className:"view-body",children:l.body})]})]})]})]})}function nv(){const[t,s]=d.useState("last7"),[n,r]=d.useState(null),[a,i]=d.useState(!0),[l,o]=d.useState(null),c=d.useCallback(async()=>{i(!0),o(null);try{const p=(await le.get("/subadmin/performance",{params:{period:t}})).data;r({totalActions:Number(p.totalActions??0),approved:Number(p.approved??0),rejected:Number(p.rejected??0),avgReviewTimeMinutes:Number(p.avgReviewTimeMinutes??0),researchCount:Number(p.researchCount??0),inquiryCount:Number(p.inquiryCount??0)})}catch(m){console.error(m),o(m.message||"Failed to load performance"),r(null)}finally{i(!1)}},[t]);d.useEffect(()=>{c()},[c]);const h=n&&n.totalActions>0?Math.round(n.approved/n.totalActions*100):0;return e.jsxs("div",{className:"sa-performance-page",children:[e.jsxs("header",{className:"hdr",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Performance"}),e.jsx("p",{className:"muted",children:"Operational efficiency and quality metrics. Backend-driven."})]}),e.jsxs("select",{className:"period-select",value:t,onChange:m=>s(m.target.value),children:[e.jsx("option",{value:"last24",children:"Last 24 hours"}),e.jsx("option",{value:"last7",children:"Last 7 days"}),e.jsx("option",{value:"last30",children:"Last 30 days"})]})]}),a&&e.jsx("div",{className:"loader",children:"Loading performance"}),l&&e.jsx("div",{className:"error",children:l}),!a&&!l&&!n&&e.jsx("div",{className:"empty",children:"No performance data available."}),n&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"cards",children:[e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Total Actions"}),e.jsx("h2",{children:n.totalActions.toLocaleString()})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Approval Rate"}),e.jsxs("h2",{children:[h,"%"]}),e.jsxs("small",{children:[n.approved," approved / ",n.rejected," rejected"]})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Avg Review Time"}),e.jsxs("h2",{children:[n.avgReviewTimeMinutes," min"]}),e.jsx("small",{children:"End-to-end"})]}),e.jsxs("div",{className:"card",children:[e.jsx("label",{children:"Action Mix"}),e.jsx("h2",{children:n.researchCount+n.inquiryCount}),e.jsxs("small",{children:["Research: ",n.researchCount,"  Inquiry: ",n.inquiryCount]})]})]}),e.jsxs("section",{className:"notes",children:[e.jsx("h3",{children:"Interpretation"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Low approval rate usually signals unclear rules or bad intake."}),e.jsx("li",{children:"High review time indicates bottlenecks or overloaded reviewers."}),e.jsx("li",{children:"Skewed action mix often predicts backlog growth."})]})]})]})]})}function rv(){const[t,s]=d.useState("last7"),[n,r]=d.useState([]),[a,i]=d.useState(!0),[l,o]=d.useState(null),c=d.useCallback(async()=>{i(!0),o(null);try{const h=await le.get("/subadmin/top-workers",{params:{period:t}});r(Array.isArray(h.data)?h.data:[])}catch(h){console.error(h),o(h.message||"Failed to load top workers"),r([])}finally{i(!1)}},[t]);return d.useEffect(()=>{c()},[c]),e.jsxs("div",{className:"sa-top-workers",children:[e.jsxs("header",{className:"hdr",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Top Workers"}),e.jsx("p",{className:"muted",children:"Productivity and quality metrics per reviewer. Backend-sourced."})]}),e.jsxs("select",{className:"period-select",value:t,onChange:h=>s(h.target.value),children:[e.jsx("option",{value:"last24",children:"Last 24 hours"}),e.jsx("option",{value:"last7",children:"Last 7 days"}),e.jsx("option",{value:"last30",children:"Last 30 days"})]})]}),a&&e.jsx("div",{className:"loader",children:"Loading workers"}),l&&e.jsx("div",{className:"error",children:l}),!a&&!l&&n.length===0&&e.jsx("div",{className:"empty",children:"No worker data for this period."}),!a&&!l&&n.length>0&&e.jsxs("table",{className:"workers-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Worker"}),e.jsx("th",{children:"Actions"}),e.jsx("th",{children:"Approved"}),e.jsx("th",{children:"Rejected"}),e.jsx("th",{children:"Approval %"}),e.jsx("th",{children:"Avg Review Time"}),e.jsx("th",{children:"Last Active"})]})}),e.jsx("tbody",{children:n.map(h=>{const m=h.totalActions>0?Math.round(h.approved/h.totalActions*100):0;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"worker",children:[e.jsx("strong",{children:h.name}),e.jsx("span",{className:"muted small",children:h.email})]})}),e.jsx("td",{children:h.totalActions}),e.jsx("td",{children:h.approved}),e.jsx("td",{children:h.rejected}),e.jsx("td",{children:e.jsxs("span",{className:m>=85?"rate good":m>=65?"rate warn":"rate bad",children:[m,"%"]})}),e.jsxs("td",{children:[h.avgReviewTimeMinutes," min"]}),e.jsx("td",{className:"small muted",children:new Date(h.lastActiveAt).toLocaleString()})]},h.userId)})})]})]})}function av(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(null),[l,o]=d.useState(!1),[c,h]=d.useState(null),[m,p]=d.useState({name:"",description:""});d.useEffect(()=>{x()},[]);const x=async()=>{try{r(!0);const u=await Y.get("/subadmin/company-types");s(u.data||[]),i(null)}catch(u){i(u.message||"Failed to load company types")}finally{r(!1)}},j=()=>{h(null),p({name:"",description:""}),o(!0)},g=u=>{h(u),p({name:u.name,description:u.description||""}),o(!0)},b=async u=>{var f,v;u.preventDefault();try{c?await Y.patch(`/subadmin/company-types/${c.id}`,m):await Y.post("/subadmin/company-types",m),o(!1),x()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||"Failed to save company type")}},S=async u=>{try{await Y.patch(`/subadmin/company-types/${u.id}`,{isActive:!u.isActive}),x()}catch{alert("Failed to update status")}},w=async u=>{var f,v;if(window.confirm(`Are you sure you want to delete "${u.name}"?`))try{await Y.delete(`/subadmin/company-types/${u.id}`),x()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||N.message||"Failed to delete company type")}};return e.jsxs("div",{className:"sa-crud-page",children:[e.jsxs("header",{className:"sa-page-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Company Types"}),e.jsx("p",{className:"muted",children:"Manage company type categories for task creation"})]}),e.jsx("button",{className:"btn-primary",onClick:j,children:"+ Add Company Type"})]}),e.jsxs("main",{className:"sa-main",children:[n&&e.jsx("div",{className:"loading-state",children:"Loading..."}),a&&e.jsx("div",{className:"error-message",children:a}),!n&&!a&&e.jsxs("div",{className:"crud-table-container",children:[e.jsxs("table",{className:"crud-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(u=>e.jsxs("tr",{className:u.isActive?"":"inactive-row",children:[e.jsx("td",{className:"font-semibold",children:u.name}),e.jsx("td",{children:u.description||""}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${u.isActive?"status-active":"status-inactive"}`,children:u.isActive?"Active":"Inactive"})}),e.jsx("td",{children:new Date(u.createdAt).toLocaleDateString()}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-sm btn-secondary",onClick:()=>g(u),children:"Edit"}),e.jsx("button",{className:"btn-sm btn-outline",onClick:()=>S(u),children:u.isActive?"Deactivate":"Activate"}),e.jsx("button",{className:"btn-sm btn-danger",onClick:()=>w(u),children:"Delete"})]})})]},u.id))})]}),t.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"No company types created yet."}),e.jsx("button",{className:"btn-primary",onClick:j,children:"Create First Company Type"})]})]})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsx("h3",{children:c?"Edit Company Type":"Create Company Type"}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Name *"}),e.jsx("input",{type:"text",id:"name",value:m.name,onChange:u=>p({...m,name:u.target.value}),required:!0,placeholder:"e.g., Solar Lighting EPC, SaaS, Manufacturing"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:m.description,onChange:u=>p({...m,description:u.target.value}),rows:3,placeholder:"Optional description"})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:c?"Update":"Create"})]})]})]})})]})}function iv(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(null),[l,o]=d.useState(!1),[c,h]=d.useState(null),[m,p]=d.useState({name:"",description:""});d.useEffect(()=>{x()},[]);const x=async()=>{try{r(!0);const u=await Y.get("/subadmin/job-types");s(u.data||[]),i(null)}catch(u){i(u.message||"Failed to load job types")}finally{r(!1)}},j=()=>{h(null),p({name:"",description:""}),o(!0)},g=u=>{h(u),p({name:u.name,description:u.description||""}),o(!0)},b=async u=>{var f,v;u.preventDefault();try{c?await Y.patch(`/subadmin/job-types/${c.id}`,m):await Y.post("/subadmin/job-types",m),o(!1),x()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||"Failed to save job type")}},S=async u=>{try{await Y.patch(`/subadmin/job-types/${u.id}`,{isActive:!u.isActive}),x()}catch{alert("Failed to update status")}},w=async u=>{var f,v;if(window.confirm(`Are you sure you want to delete "${u.name}"?`))try{await Y.delete(`/subadmin/job-types/${u.id}`),x()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||N.message||"Failed to delete job type")}};return e.jsxs("div",{className:"sa-crud-page",children:[e.jsxs("header",{className:"sa-page-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Job Types"}),e.jsx("p",{className:"muted",children:"Manage job title categories for task creation"})]}),e.jsx("button",{className:"btn-primary",onClick:j,children:"+ Add Job Type"})]}),e.jsxs("main",{className:"sa-main",children:[n&&e.jsx("div",{className:"loading-state",children:"Loading..."}),a&&e.jsx("div",{className:"error-message",children:a}),!n&&!a&&e.jsxs("div",{className:"crud-table-container",children:[e.jsxs("table",{className:"crud-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(u=>e.jsxs("tr",{className:u.isActive?"":"inactive-row",children:[e.jsx("td",{className:"font-semibold",children:u.name}),e.jsx("td",{children:u.description||""}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${u.isActive?"status-active":"status-inactive"}`,children:u.isActive?"Active":"Inactive"})}),e.jsx("td",{children:new Date(u.createdAt).toLocaleDateString()}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-sm btn-secondary",onClick:()=>g(u),children:"Edit"}),e.jsx("button",{className:"btn-sm btn-outline",onClick:()=>S(u),children:u.isActive?"Deactivate":"Activate"}),e.jsx("button",{className:"btn-sm btn-danger",onClick:()=>w(u),children:"Delete"})]})})]},u.id))})]}),t.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"No job types created yet."}),e.jsx("button",{className:"btn-primary",onClick:j,children:"Create First Job Type"})]})]})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsx("h3",{children:c?"Edit Job Type":"Create Job Type"}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Name *"}),e.jsx("input",{type:"text",id:"name",value:m.name,onChange:u=>p({...m,name:u.target.value}),required:!0,placeholder:"e.g., CEO, Project Manager, Engineering Manager"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:m.description,onChange:u=>p({...m,description:u.target.value}),rows:3,placeholder:"Optional description"})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:c?"Update":"Create"})]})]})]})})]})}const Ai=[{value:"website_inquirer_auditor",label:"Website Inquirer Auditor"},{value:"linkedin_inquirer_auditor",label:"LinkedIn Inquirer Auditor"},{value:"website_research_auditor",label:"Website Research Auditor"},{value:"linkedin_research_auditor",label:"LinkedIn Research Auditor"}];function lv(){const[t,s]=d.useState([]),[n,r]=d.useState([]),[a,i]=d.useState(!0),[l,o]=d.useState(!1),[c,h]=d.useState(null),[m,p]=d.useState(""),[x,j]=d.useState(""),[g,b]=d.useState(""),[S,w]=d.useState(""),[u,f]=d.useState("rejection"),[v,N]=d.useState([]),[C,_]=d.useState([]),[I,q]=d.useState(!0);d.useEffect(()=>{z(),B()},[]);const z=async()=>{try{const y=await Y.get("/subadmin/categories");r(Array.isArray(y.data)?y.data:[])}catch(y){console.error("Failed to load categories:",y)}},B=async()=>{try{i(!0);const y={};m&&(y.search=m),x&&(y.role=x),g&&(y.reasonType=g);const F=await Y.get("/subadmin/disapproval-reasons",{params:y});s(F.data)}catch(y){console.error("Failed to load reasons:",y)}finally{i(!1)}};d.useEffect(()=>{const y=setTimeout(B,300);return()=>clearTimeout(y)},[m,x,g]);const R=()=>{h(null),w(""),f("rejection"),N([]),_([]),q(!0),o(!0)},T=y=>{h(y),w(y.description),f(y.reasonType),N(y.applicableRoles),_(y.categoryIds),q(y.isActive),o(!0)},E=async y=>{var P,A;if(y.preventDefault(),!S.trim()){alert("Description is required");return}if(v.length===0){alert("Please select at least one auditor role");return}if(C.length===0){alert("Please select at least one category");return}const F={description:S.trim(),reasonType:u,applicableRoles:v,categoryIds:C,isActive:I};try{c?await Y.patch(`/subadmin/disapproval-reasons/${c.id}`,F):await Y.post("/subadmin/disapproval-reasons",F),o(!1),B()}catch(J){alert(((A=(P=J.response)==null?void 0:P.data)==null?void 0:A.message)||J.message||"Failed to save disapproval reason")}},M=async y=>{var F,P;if(window.confirm(`Are you sure you want to delete "${y.description}"?`))try{await Y.delete(`/subadmin/disapproval-reasons/${y.id}`),B()}catch(A){alert(((P=(F=A.response)==null?void 0:F.data)==null?void 0:P.message)||A.message||"Failed to delete disapproval reason")}},k=y=>{N(F=>F.includes(y)?F.filter(P=>P!==y):[...F,y])},O=y=>{_(F=>F.includes(y)?F.filter(P=>P!==y):[...F,y])},D=t;return e.jsxs("div",{className:"admin-disapproval-container",children:[e.jsxs("header",{className:"page-header",children:[e.jsx("h1",{children:"Disapproval & Flag Reasons (Your Categories)"}),e.jsx("button",{className:"btn-primary",onClick:R,children:"+ Create Reason"})]}),e.jsxs("div",{className:"filters-section",children:[e.jsx("input",{type:"text",placeholder:"Search descriptions...",value:m,onChange:y=>p(y.target.value),className:"filter-input"}),e.jsxs("select",{value:x,onChange:y=>j(y.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Roles"}),Ai.map(y=>e.jsx("option",{value:y.value,children:y.label},y.value))]}),e.jsxs("select",{value:g,onChange:y=>b(y.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"rejection",children:"Rejection"}),e.jsx("option",{value:"flag",children:"Flag"})]})]}),a?e.jsx("div",{className:"loading-state",children:"Loading reasons..."}):e.jsxs("table",{className:"reasons-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Applicable Roles"}),e.jsx("th",{children:"Categories"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No disapproval reasons found. Create one to get started."})}):D.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.description}),e.jsx("td",{children:e.jsx("span",{className:`type-badge type-${y.reasonType}`,children:y.reasonType==="rejection"?"Rejection":"Flag"})}),e.jsx("td",{children:y.applicableRoles.length>0?y.applicableRoles.map(F=>{var P;return((P=Ai.find(A=>A.value===F))==null?void 0:P.label)||F}).join(", "):"None"}),e.jsx("td",{children:y.categoryIds.length>0?y.categoryIds.map(F=>{var P;return((P=n.find(A=>A.id===F))==null?void 0:P.name)||F}).join(", "):"All"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-${y.isActive?"active":"inactive"}`,children:y.isActive?"Active":"Inactive"})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn-edit",onClick:()=>T(y),children:"Edit"}),e.jsx("button",{className:"btn-delete",onClick:()=>M(y),style:{background:"#ef4444",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem",transition:"background 0.2s"},onMouseEnter:F=>F.currentTarget.style.background="#dc2626",onMouseLeave:F=>F.currentTarget.style.background="#ef4444",children:"Delete"})]})})]},y.id))})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[e.jsx("h2",{children:c?"Edit Disapproval Reason":"Create Disapproval Reason"}),e.jsxs("form",{onSubmit:E,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description*"}),e.jsx("textarea",{value:S,onChange:y=>w(y.target.value),placeholder:"Enter reason description...",rows:3,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reason Type*"}),e.jsxs("div",{className:"radio-group",children:[e.jsxs("label",{className:"radio-item",children:[e.jsx("input",{type:"radio",checked:u==="rejection",onChange:()=>f("rejection")}),e.jsx("span",{children:"Rejection"})]}),e.jsxs("label",{className:"radio-item",children:[e.jsx("input",{type:"radio",checked:u==="flag",onChange:()=>f("flag")}),e.jsx("span",{children:"Flag"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Applicable Auditor Roles* (select at least one)"}),e.jsx("div",{className:"checkbox-group",children:Ai.map(y=>e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:v.includes(y.value),onChange:()=>k(y.value)}),e.jsx("span",{children:y.label})]},y.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Your Assigned Categories* (select at least one)"}),e.jsx("div",{className:"checkbox-group",children:n.map(y=>e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:C.includes(y.id),onChange:()=>O(y.id)}),e.jsx("span",{children:y.name})]},y.id))})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:y=>q(y.target.checked)}),e.jsx("span",{children:"Active (visible to auditors)"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",children:c?"Update":"Create"})]})]})]})})]})}function ov(){const[t,s]=d.useState(null),[n,r]=d.useState(!0),[a,i]=d.useState(null),[l,o]=d.useState(!1),[c,h]=d.useState({title:"",message:"",targetRole:"all",priority:"normal"}),m=d.useCallback(async()=>{r(!0),i(null);try{const j=await le.get("/subadmin/notices");s(Array.isArray(j.data)?j.data:[])}catch(j){console.error("fetchNotices error",j),i(j.message||"Failed to load notices"),s(null)}finally{r(!1)}},[]);d.useEffect(()=>{m()},[m]);const p=()=>{h({title:"",message:"",targetRole:"all",priority:"normal"}),o(!0)},x=async j=>{j.preventDefault();try{alert(`Notice would be sent to: ${c.targetRole}

Title: ${c.title}

Message: ${c.message}`),o(!1),m()}catch{alert("Failed to send notice")}};return e.jsxs("div",{className:"subadmin-notices",children:[e.jsxs("header",{className:"sa-page-header",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Notices & Announcements"}),e.jsx("p",{className:"muted",children:"Send notices to specific roles or all users in your categories"})]}),e.jsx("button",{className:"btn-primary",onClick:p,children:"+ Create Notice"})]}),e.jsxs("main",{className:"sa-main",children:[n&&e.jsx("div",{className:"loading-state",children:"Loading notices"}),a&&e.jsxs("div",{className:"error-message",children:["Error: ",a]}),!n&&!a&&t&&t.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"There are no active notices at this time."}),e.jsx("button",{className:"btn-primary",onClick:p,children:"Create First Notice"})]}),!n&&!a&&t&&t.length>0&&e.jsx("ul",{className:"notice-list",children:t.map(j=>e.jsxs("li",{className:`notice-item priority-${j.priority}`,children:[e.jsxs("div",{className:"notice-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:j.title}),e.jsxs("span",{className:"notice-target",children:["To: ",j.targetRole]})]}),e.jsx("span",{className:`badge priority-${j.priority}`,children:j.priority.toUpperCase()})]}),e.jsx("p",{className:"notice-message",children:j.message}),e.jsxs("div",{className:"notice-meta",children:[e.jsxs("span",{children:["Created: ",new Date(j.createdAt).toLocaleString()]}),j.expiresAt&&e.jsxs("span",{children:["Expires: ",new Date(j.expiresAt).toLocaleString()]}),e.jsx("span",{className:j.active?"status-active":"status-inactive",children:j.active?"Active":"Inactive"})]})]},j.id))})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal-content modal-large",onClick:j=>j.stopPropagation(),children:[e.jsx("h3",{children:"Create Notice"}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"title",children:"Title *"}),e.jsx("input",{type:"text",id:"title",value:c.title,onChange:j=>h({...c,title:j.target.value}),required:!0,placeholder:"Notice title"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"message",children:"Message *"}),e.jsx("textarea",{id:"message",value:c.message,onChange:j=>h({...c,message:j.target.value}),rows:5,required:!0,placeholder:"Notice message..."})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"targetRole",children:"Send To *"}),e.jsxs("select",{id:"targetRole",value:c.targetRole,onChange:j=>h({...c,targetRole:j.target.value}),required:!0,children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"researcher",children:"Researchers"}),e.jsx("option",{value:"inquirer",children:"Inquirers"}),e.jsx("option",{value:"auditor",children:"Auditors"}),e.jsx("option",{value:"website_researcher",children:"Website Researchers"}),e.jsx("option",{value:"linkedin_researcher",children:"LinkedIn Researchers"}),e.jsx("option",{value:"website_inquirer",children:"Website Inquirers"}),e.jsx("option",{value:"linkedin_inquirer",children:"LinkedIn Inquirers"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"priority",children:"Priority *"}),e.jsxs("select",{id:"priority",value:c.priority,onChange:j=>h({...c,priority:j.target.value}),required:!0,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Send Notice"})]})]})]})})]})}function cv(){const[t,s]=d.useState(""),[n,r]=d.useState(""),[a,i]=d.useState(""),[l,o]=d.useState(1),[c]=d.useState(10),[h,m]=d.useState([]),[p,x]=d.useState(null),[j,g]=d.useState(0),[b,S]=d.useState(0),[w,u]=d.useState(!0),[f,v]=d.useState(null),[N,C]=d.useState([]),[_,I]=d.useState(null),[q,z]=d.useState({name:"",role:"",status:""}),B=async()=>{try{u(!0);const L=await My({page:l,limit:c,search:t,role:n,status:a});m(L.users),g(L.total),S(L.totalPages)}catch{v("Failed to load users")}finally{u(!1)}},R=async()=>{try{const L=await zy();x(L)}catch{}};d.useEffect(()=>{R()},[]),d.useEffect(()=>{B()},[l,t,n,a]),d.useEffect(()=>{C([])},[h]);const T=async(L,$)=>{const ee=$==="active"?"activate":"suspend";if(confirm(`Are you sure you want to ${ee} this user?`))try{await Ci(L,$),B(),R()}catch{alert(`Failed to ${ee} user`)}},E=async L=>{const $=prompt("Enter new password for the user:");if($&&confirm("Are you sure you want to reset this user's password?"))try{await gd(L,$),alert("Password reset successfully")}catch{alert("Failed to reset password")}},M=()=>{s(""),r(""),i(""),o(1)},k=L=>{C($=>$.includes(L)?$.filter(ee=>ee!==L):[...$,L])},O=()=>{const L=h.map($=>$.id);C($=>$.length===L.length?[]:L)},D=async()=>{if(N.length!==0&&confirm(`Are you sure you want to suspend ${N.length} users?`))try{await Promise.all(N.map(L=>Ci(L,"suspended"))),C([]),B(),R(),alert("Users suspended successfully")}catch{alert("Failed to suspend some users")}},y=async()=>{if(N.length===0)return;const L=prompt("Enter new password for selected users:");if(L&&confirm(`Are you sure you want to reset passwords for ${N.length} users?`))try{await Promise.all(N.map($=>gd($,L))),alert("Passwords reset successfully"),C([])}catch{alert("Failed to reset passwords")}},F=L=>{I(L),z({name:L.name,role:L.role,status:L.status})},P=async()=>{var L,$;if(_)try{const ee={};q.name!==_.name&&(ee.name=q.name),q.role!==_.role&&(ee.role=q.role),Object.keys(ee).length>0&&await By(_.id,ee),q.status!==_.status&&await Ci(_.id,q.status),I(null),B(),R(),alert("User updated successfully")}catch(ee){const V=(($=(L=ee==null?void 0:ee.response)==null?void 0:L.data)==null?void 0:$.message)||"Failed to update user";alert(V)}},A=()=>{I(null)},J=L=>L.charAt(0).toUpperCase()+L.slice(1),se=L=>new Date(L).toLocaleDateString();return w&&!h.length?e.jsx("div",{className:"page-loader",children:"Loading Users..."}):f?e.jsx("div",{className:"error-message",children:f}):e.jsxs("div",{className:"users-container",children:[e.jsx("header",{className:"users-header",children:e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"My Users"}),e.jsx("p",{children:"Manage users in your assigned categories"})]})}),e.jsxs("section",{className:"users-stats-grid",children:[e.jsx(ce,{title:"Total Users",value:(p==null?void 0:p.totalUsers)??0}),e.jsx(ce,{title:"Active",value:(p==null?void 0:p.activeUsers)??0}),e.jsx(ce,{title:"Suspended",value:(p==null?void 0:p.suspendedUsers)??0})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by name, email or ID...",value:t,onChange:L=>s(L.target.value)})}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("select",{value:n,onChange:L=>r(L.target.value),children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"website_researcher",children:"Website Researcher"}),e.jsx("option",{value:"linkedin_researcher",children:"LinkedIn Researcher"}),e.jsx("option",{value:"website_inquirer",children:"Website Inquirer"}),e.jsx("option",{value:"linkedin_inquirer",children:"LinkedIn Inquirer"}),e.jsx("option",{value:"website_inquirer_auditor",children:"Website Inquirer Auditor"}),e.jsx("option",{value:"linkedin_inquirer_auditor",children:"LinkedIn Inquirer Auditor"}),e.jsx("option",{value:"website_research_auditor",children:"Website Research Auditor"}),e.jsx("option",{value:"linkedin_research_auditor",children:"LinkedIn Research Auditor"})]}),e.jsxs("select",{value:a,onChange:L=>i(L.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"})]}),e.jsx("button",{className:"btn-clear",onClick:M,children:"Clear Filters"})]})]}),N.length>0&&e.jsxs("div",{className:"bulk-actions-bar",children:[e.jsxs("span",{children:[N.length," user(s) selected"]}),e.jsxs("div",{className:"bulk-buttons",children:[e.jsx("button",{className:"btn-bulk",onClick:D,children:"Suspend Users"}),e.jsx("button",{className:"btn-bulk",onClick:y,children:"Reset Passwords"})]})]}),e.jsxs("div",{className:"users-card",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"users-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox",checked:N.length===h.length&&h.length>0,onChange:O})}),e.jsx("th",{children:"ID"}),e.jsx("th",{children:"User Details"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Registered"}),e.jsx("th",{children:"Last Activity"}),e.jsx("th",{className:"txt-right",children:"Actions"})]})}),e.jsx("tbody",{children:h.map(L=>e.jsxs("tr",{className:"user-row",children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:N.includes(L.id),onChange:()=>k(L.id)})}),e.jsxs("td",{className:"txt-id",children:["#",L.id.slice(0,8)]}),e.jsx("td",{children:e.jsxs("div",{className:"user-info-cell",children:[e.jsx("strong",{children:L.name}),e.jsx("span",{children:L.email})]})}),e.jsx("td",{children:e.jsx("span",{className:"role-tag",children:L.role})}),e.jsx("td",{children:e.jsx("span",{className:`badge-status ${L.status}`,children:J(L.status)})}),e.jsx("td",{children:se(L.createdAt)}),e.jsx("td",{children:se(L.updatedAt)}),e.jsx("td",{className:"txt-right",children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-icon-action",title:"Edit",onClick:()=>F(L),children:"Edit"}),e.jsx("button",{className:"btn-icon-action",title:"Reset Password",onClick:()=>E(L.id),children:"Pass"}),e.jsx("button",{className:"btn-icon-action suspend",title:"Toggle Status",onClick:()=>T(L.id,L.status==="active"?"suspended":"active"),children:"Lock"})]})})]},L.id))})]})}),e.jsxs("div",{className:"pagination-area",children:[e.jsxs("span",{children:["Showing ",(l-1)*c+1," to ",Math.min(l*c,j)," of ",j," users"]}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("button",{className:"btn-page",disabled:l===1,onClick:()=>o(l-1),children:"Previous"}),Array.from({length:b},(L,$)=>$+1).map(L=>e.jsx("button",{className:`btn-page ${L===l?"active":""}`,onClick:()=>o(L),children:L},L)),e.jsx("button",{className:"btn-page",disabled:l===b,onClick:()=>o(l+1),children:"Next"})]})]})]}),_&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Edit User"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name:"}),e.jsx("input",{type:"text",value:q.name,onChange:L=>z($=>({...$,name:L.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role:"}),e.jsxs("select",{value:q.role,onChange:L=>z($=>({...$,role:L.target.value})),children:[e.jsx("option",{value:"website_researcher",children:"Website Researcher"}),e.jsx("option",{value:"linkedin_researcher",children:"LinkedIn Researcher"}),e.jsx("option",{value:"website_inquirer",children:"Website Inquirer"}),e.jsx("option",{value:"linkedin_inquirer",children:"LinkedIn Inquirer"}),e.jsx("option",{value:"website_inquirer_auditor",children:"Website Inquirer Auditor"}),e.jsx("option",{value:"linkedin_inquirer_auditor",children:"LinkedIn Inquirer Auditor"}),e.jsx("option",{value:"website_research_auditor",children:"Website Research Auditor"}),e.jsx("option",{value:"linkedin_research_auditor",children:"LinkedIn Research Auditor"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("select",{value:q.status,onChange:L=>z($=>({...$,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:A,children:"Cancel"}),e.jsx("button",{onClick:P,children:"Save"})]})]})})]})}function dv(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(null),[l,o]=d.useState(""),[c,h]=d.useState(""),[m,p]=d.useState("");d.useEffect(()=>{x()},[]);const x=async()=>{try{r(!0);const f=await Wy();s(f)}catch(f){console.error("Failed to load category rules",f),alert("Failed to load daily limits data")}finally{r(!1)}},j=f=>{i({...f})},g=async()=>{if(a)try{await Promise.all([$y(a.id,a.dailyLimitOverride),Vy(a.id,a.cooldownDaysOverride)]),await x(),i(null),alert("Daily limit settings updated successfully")}catch(f){console.error("Failed to update settings",f),alert("Failed to update settings")}},b=Array.from(new Set(t.map(f=>f.category.name))),S=Array.from(new Set(t.map(f=>f.role))),w=Array.from(new Set(t.map(f=>f.actionType))),u=t.filter(f=>{const v=!l||f.category.name===l,N=!c||f.role===c,C=!m||f.actionType===m;return v&&N&&C});return e.jsxs("div",{className:"sa-crud-page",children:[e.jsx("header",{className:"sa-page-header",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Daily Task Limits"}),e.jsx("p",{className:"muted",children:"Configure daily limits and cooldown periods for roles in your assigned categories"})]})}),e.jsxs("div",{className:"sa-filter-bar",style:{marginBottom:"1rem",display:"flex",gap:"1rem",flexWrap:"wrap"},children:[e.jsxs("select",{value:l,onChange:f=>o(f.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[e.jsx("option",{value:"",children:"All Categories"}),b.map(f=>e.jsx("option",{value:f,children:f},f))]}),e.jsxs("select",{value:c,onChange:f=>h(f.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[e.jsx("option",{value:"",children:"All Roles"}),S.map(f=>e.jsx("option",{value:f,children:f},f))]}),e.jsxs("select",{value:m,onChange:f=>p(f.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[e.jsx("option",{value:"",children:"All Action Types"}),w.map(f=>e.jsx("option",{value:f,children:f},f))]})]}),e.jsxs("main",{className:"sa-main",children:[n&&e.jsx("div",{className:"loading-state",children:"Loading limits..."}),!n&&e.jsxs("div",{className:"crud-table-container",children:[e.jsxs("table",{className:"crud-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Action Type"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Daily Limit"}),e.jsx("th",{children:"Cooldown (Days)"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.map(f=>e.jsxs("tr",{children:[e.jsx("td",{className:"font-semibold",children:f.category.name}),e.jsx("td",{children:f.actionType}),e.jsx("td",{children:f.role}),e.jsx("td",{children:f.dailyLimitOverride!==null?f.dailyLimitOverride:e.jsx("span",{className:"muted",children:"Not set"})}),e.jsx("td",{children:f.cooldownDaysOverride!==null?f.cooldownDaysOverride:e.jsx("span",{className:"muted",children:"Not set"})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${f.status==="active"?"badge-success":"badge-inactive"}`,children:f.status})}),e.jsx("td",{children:e.jsx("div",{className:"action-buttons",children:e.jsx("button",{className:"btn-sm btn-secondary",onClick:()=>j(f),children:"Edit Limits"})})})]},f.id))})]}),u.length===0&&e.jsx("div",{className:"empty-state",children:e.jsxs("p",{children:["No rules found for your assigned categories",l||c||m?" with the selected filters":"","."]})})]})]}),a&&e.jsx("div",{className:"modal-overlay",onClick:()=>i(null),children:e.jsxs("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[e.jsx("h3",{children:"Edit Daily Limits"}),e.jsxs("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#f5f5f5",borderRadius:"4px"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",a.category.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Action Type:"})," ",a.actionType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",a.role]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"dailyLimit",children:"Daily Task Limit"}),e.jsx("input",{type:"number",id:"dailyLimit",value:a.dailyLimitOverride??"",onChange:f=>i({...a,dailyLimitOverride:f.target.value?parseInt(f.target.value):null}),placeholder:"No limit (leave empty)",min:"0",max:"1000"}),e.jsx("small",{className:"muted",children:"Maximum tasks per day for this role in this category. Leave empty for no limit."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"cooldown",children:"Cooldown Period (Days)"}),e.jsx("input",{type:"number",id:"cooldown",value:a.cooldownDaysOverride??"",onChange:f=>i({...a,cooldownDaysOverride:f.target.value?parseInt(f.target.value):null}),placeholder:"No cooldown (leave empty)",min:"0",max:"365"}),e.jsx("small",{className:"muted",children:"Minimum days between contacting the same company/URL. Leave empty for no cooldown."})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>i(null),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:g,children:"Save Changes"})]})]})})]})}const Ps=(t,s="unknown")=>t&&t.trim()?t.trim():s;function uv(){var D;const[t,s]=d.useState([]),[n,r]=d.useState([]),[a,i]=d.useState([]),[l,o]=d.useState("idle"),[c,h]=d.useState("idle"),[m,p]=d.useState(""),[x,j]=d.useState("website"),[g,b]=d.useState(""),[S,w]=d.useState(""),[u,f]=d.useState(""),[v,N]=d.useState({companyWebsite:"",companyName:"",country:"",language:""}),[C,_]=d.useState({profileUrl:"",contactName:"",country:"",language:""}),[I,q]=d.useState(!1),[z,B]=d.useState(null),[R,T]=d.useState(null);d.useEffect(()=>{o("loading"),h("loading"),jn().then(y=>{const F=Array.from(new Map((y||[]).map(P=>[P.id,P])).values());s(F),F.length===1&&p(F[0].id),o("success")}).catch(()=>o("error")),Promise.all([Ry(),Cy()]).then(([y,F])=>{r(y||[]),i(F||[]),(y==null?void 0:y.length)===1&&w(y[0].id),(F==null?void 0:F.length)===1&&f(F[0].id),h("success")}).catch(()=>h("error"))},[]);const E=d.useMemo(()=>{if(!g.trim())return t;const y=g.toLowerCase();return t.filter(F=>F.name.toLowerCase().includes(y))},[t,g]),M=d.useMemo(()=>l==="loading"?"Loading your categories...":t.length===0?"No categories assigned. Please contact Super Admin.":!m&&t.length>1?"Select a category to scope task creation.":"",[l,t,m]),k=async y=>{var F,P;if(y.preventDefault(),B(null),T(null),!m){B("Select a category before creating tasks.");return}if(!S||!u){B("Job Type and Company Type are required.");return}try{if(q(!0),x==="website"){if(!v.companyWebsite.trim())throw new Error("Company Website is required.");const A={categoryId:m,jobTypeId:S,companyTypeId:u,companyWebsite:v.companyWebsite.trim(),companyName:Ps(v.companyName,"Unknown"),country:Ps(v.country,"Unknown"),language:Ps(v.language,"unknown")};await Ty(A),T("Website research task created successfully."),N({companyWebsite:"",companyName:"",country:"",language:""})}else{if(!C.profileUrl.trim())throw new Error("LinkedIn profile link is required.");const A={categoryId:m,jobTypeId:S,companyTypeId:u,profileUrl:C.profileUrl.trim(),contactName:Ps(C.contactName,"Unknown"),country:Ps(C.country,"Unknown"),language:Ps(C.language,"unknown")};await Ly(A),T("LinkedIn research task created successfully."),_({profileUrl:"",contactName:"",country:"",language:""})}}catch(A){const J=((P=(F=A==null?void 0:A.response)==null?void 0:F.data)==null?void 0:P.message)||(A==null?void 0:A.message)||"Failed to create task.";B(J)}finally{q(!1)}},O=!!(m&&S&&u&&(x==="website"&&v.companyWebsite.trim()||x==="linkedin"&&C.profileUrl.trim()));return e.jsxs("div",{className:"sa-create-tasks",children:[e.jsx("header",{className:"sa-create-header",children:e.jsxs("div",{children:[e.jsx("p",{className:"eyebrow",children:"Management  Create Tasks"}),e.jsx("h1",{children:"Create Research Tasks"}),e.jsx("p",{className:"muted",children:"Create Website or LinkedIn research tasks scoped to a single category. Job type and company type are mandatory."})]})}),e.jsxs("main",{className:"sa-create-body",children:[e.jsxs("section",{className:"step-card",children:[e.jsx("div",{className:"step-title",children:"1. Select Category"}),M&&e.jsx("div",{className:"info-box",children:M}),t.length>0&&e.jsxs(e.Fragment,{children:[t.length>5&&e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search categories...",value:g,onChange:y=>b(y.target.value),className:"search-input"})}),e.jsx("div",{className:"picker-grid",children:E.length>0?E.map(y=>e.jsx("button",{type:"button",className:`pill ${m===y.id?"pill-active":""}`,onClick:()=>p(y.id),children:y.name},y.id)):e.jsx("div",{className:"empty-search",children:"No categories match your search."})})]})]}),e.jsxs("section",{className:"step-card",children:[e.jsx("div",{className:"step-title",children:"2. Task Type"}),e.jsxs("div",{className:"task-type-grid",children:[e.jsxs("button",{type:"button",className:`type-card ${x==="website"?"type-card-active":""}`,onClick:()=>j("website"),children:[e.jsx("div",{className:"type-label",children:"Website Research"}),e.jsx("p",{children:"Create tasks for company website investigation."})]}),e.jsxs("button",{type:"button",className:`type-card ${x==="linkedin"?"type-card-active":""}`,onClick:()=>j("linkedin"),children:[e.jsx("div",{className:"type-label",children:"LinkedIn Research"}),e.jsx("p",{children:"Create tasks for LinkedIn profile investigation."})]})]})]}),e.jsxs("form",{className:"step-card",onSubmit:k,children:[e.jsx("div",{className:"step-title",children:"3. Task Details"}),e.jsxs("div",{className:"field-grid",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Job Type *"}),e.jsxs("select",{value:S,onChange:y=>w(y.target.value),disabled:c==="loading",children:[e.jsx("option",{value:"",children:"Select job type"}),n.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Company Type *"}),e.jsxs("select",{value:u,onChange:y=>f(y.target.value),disabled:c==="loading",children:[e.jsx("option",{value:"",children:"Select company type"}),a.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))]})]})]}),x==="website"?e.jsxs("div",{className:"form-stack",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Website Link *"}),e.jsx("input",{type:"url",placeholder:"https://example.com",value:v.companyWebsite,onChange:y=>N({...v,companyWebsite:y.target.value}),required:!0})]}),e.jsxs("div",{className:"field-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name (optional)"}),e.jsx("input",{type:"text",value:v.companyName,onChange:y=>N({...v,companyName:y.target.value}),placeholder:"Acme Corp"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country (optional)"}),e.jsx("input",{type:"text",value:v.country,onChange:y=>N({...v,country:y.target.value}),placeholder:"United States"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Language (optional)"}),e.jsx("input",{type:"text",value:v.language,onChange:y=>N({...v,language:y.target.value}),placeholder:"English"}),e.jsx("small",{className:"hint",children:'If blank, we will store this as "unknown".'})]})]}):e.jsxs("div",{className:"form-stack",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact LinkedIn Profile Link *"}),e.jsx("input",{type:"url",placeholder:"https://linkedin.com/in/username",value:C.profileUrl,onChange:y=>_({...C,profileUrl:y.target.value}),required:!0})]}),e.jsxs("div",{className:"field-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Name (optional)"}),e.jsx("input",{type:"text",value:C.contactName,onChange:y=>_({...C,contactName:y.target.value}),placeholder:"Jane Doe"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country (optional)"}),e.jsx("input",{type:"text",value:C.country,onChange:y=>_({...C,country:y.target.value}),placeholder:"France"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Language (optional)"}),e.jsx("input",{type:"text",value:C.language,onChange:y=>_({...C,language:y.target.value}),placeholder:"French"}),e.jsx("small",{className:"hint",children:'If blank, we will store this as "unknown".'})]})]}),z&&e.jsx("div",{className:"alert error",children:z}),R&&e.jsx("div",{className:"alert success",children:R}),e.jsxs("div",{className:"actions-row",children:[e.jsxs("div",{className:"summary",children:[e.jsxs("div",{children:["Category: ",((D=t.find(y=>y.id===m))==null?void 0:D.name)||"Not selected"]}),e.jsxs("div",{children:["Task Type: ",x==="website"?"Website Research":"LinkedIn Research"]})]}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:!O||I,children:I?"Creating...":"Create Task"})]})]})]})]})}function hv(){return e.jsxs("div",{className:"wb-res-dash",children:[e.jsxs("header",{className:"res-header",children:[e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Researcher Workspace"}),e.jsx("p",{children:"Discover new corporate targets and analyze technology footprints."})]}),e.jsxs("div",{className:"res-quota-card",children:[e.jsxs("div",{className:"quota-top",children:[e.jsx("span",{children:"Daily Quota"}),e.jsx("strong",{children:""})]}),e.jsx("div",{className:"quota-progress-container",children:e.jsx("div",{className:"quota-fill"})}),e.jsx("p",{className:"quota-hint",children:"Quota progress will appear once tasks are assigned."})]})]}),e.jsxs("div",{className:"res-content-grid",children:[e.jsxs("section",{className:"discovery-stats",children:[e.jsxs("div",{className:"res-card-small",children:[e.jsx("h4",{children:"Total Leads"}),e.jsx("span",{className:"val",children:""})]}),e.jsxs("div",{className:"res-card-small",children:[e.jsx("h4",{children:"Validation Rate"}),e.jsx("span",{className:"val",children:""})]}),e.jsxs("div",{className:"res-card-small",children:[e.jsx("h4",{children:"Earnings"}),e.jsx("span",{className:"val",children:""})]})]}),e.jsxs("section",{className:"target-map",children:[e.jsxs("div",{className:"map-header",children:[e.jsx("h3",{children:"Targets by Industry"}),e.jsx("button",{className:"btn-text",children:"View Details"})]}),e.jsxs("div",{className:"industry-bubbles",children:[e.jsx("div",{className:"bubble x-large",children:""}),e.jsx("div",{className:"bubble large",children:""}),e.jsx("div",{className:"bubble medium",children:""}),e.jsx("div",{className:"bubble small",children:""})]})]}),e.jsxs("section",{className:"current-goals",children:[e.jsx("h3",{children:"Campaign Objectives"}),e.jsxs("div",{className:"goal-item",children:[e.jsxs("div",{className:"goal-info",children:[e.jsx("strong",{children:""}),e.jsx("p",{children:"Objective details will load here."})]}),e.jsx("span",{className:"goal-status",children:""})]}),e.jsxs("div",{className:"goal-item",children:[e.jsxs("div",{className:"goal-info",children:[e.jsx("strong",{children:""}),e.jsx("p",{children:"Locked or upcoming campaign."})]}),e.jsx("span",{className:"goal-status locked",children:""})]})]})]})]})}function mv(){return e.jsxs("div",{className:"lnk-dash-container",children:[e.jsxs("div",{className:"lnk-welcome",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Researcher Dashboard"}),e.jsx("p",{children:"Your performance metrics and task status will appear here."})]}),e.jsxs("div",{className:"wallet-card",children:[e.jsx("label",{children:"Pending Balance"}),e.jsx("h3",{children:""}),e.jsx("button",{className:"btn-withdraw",disabled:!0,children:"Request Payout"})]})]}),e.jsxs("div",{className:"lnk-stats-grid",children:[e.jsxs("div",{className:"l-stat-card",children:[e.jsx("span",{className:"l-icon",children:""}),e.jsxs("div",{className:"l-data",children:[e.jsx("span",{className:"l-val",children:""}),e.jsx("span",{className:"l-lab",children:"Tasks Pending Action"})]})]}),e.jsxs("div",{className:"l-stat-card",children:[e.jsx("span",{className:"l-icon",children:""}),e.jsxs("div",{className:"l-data",children:[e.jsx("span",{className:"l-val",children:""}),e.jsx("span",{className:"l-lab",children:"Waiting for Audit"})]})]}),e.jsxs("div",{className:"l-stat-card",children:[e.jsx("span",{className:"l-icon",children:""}),e.jsxs("div",{className:"l-data",children:[e.jsx("span",{className:"l-val",children:""}),e.jsx("span",{className:"l-lab",children:"Rejections to Fix"})]})]})]}),e.jsxs("div",{className:"lnk-content-row",children:[e.jsxs("section",{className:"earnings-chart-card",children:[e.jsx("h3",{children:"Income Overview"}),e.jsx("div",{className:"chart-empty-state",children:e.jsx("p",{children:"Income data will be displayed once activity is recorded."})})]}),e.jsxs("section",{className:"notifications-card",children:[e.jsx("h3",{children:"Recent Notifications"}),e.jsx("div",{className:"notif-empty-state",children:e.jsx("p",{children:"No notifications available."})})]})]})]})}function pv({pendingTasks:t=0,qualityScore:s=0,emailsDispatched:n=0,verifiedActions:r=0,pendingPayout:a="$0.00",workloadSummary:i=[]}){return e.jsxs("div",{className:"wb-inq-dash",children:[e.jsxs("div",{className:"welcome-banner",children:[e.jsxs("div",{className:"banner-info",children:[e.jsx("h1",{children:"Website Outreach Dashboard"}),e.jsxs("p",{children:["You have ",e.jsx("strong",{children:t})," tasks requiring immediate action today."]})]}),e.jsxs("div",{className:"performance-chip",children:[e.jsx("span",{className:"chip-label",children:"Quality Score"}),e.jsx("span",{className:"chip-value",children:s>0?`${s}/10`:""})]})]}),e.jsxs("div",{className:"dash-grid",children:[e.jsxs("div",{className:"main-stats-panel",children:[e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-icon",children:""}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:n}),e.jsx("p",{children:"Emails Dispatched"})]})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-icon",children:""}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:r}),e.jsx("p",{children:"Verified Actions"})]})]}),e.jsxs("div",{className:"stat-box highlight",children:[e.jsx("span",{className:"stat-icon",children:""}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:a}),e.jsx("p",{children:"Pending Payout"})]})]})]}),e.jsxs("section",{className:"chart-card",children:[e.jsx("h3",{children:"Daily Submission Activity"}),i.length===0?e.jsx("div",{className:"empty-chart",children:e.jsx("p",{children:"No activity data available."})}):e.jsx("div",{className:"simple-bar-chart",children:i.map(l=>e.jsxs("div",{className:"chart-column",children:[e.jsx("div",{className:"column-bar",style:{height:`${l.tasks*5}px`},children:e.jsx("span",{className:"tooltip",children:l.tasks})}),e.jsx("span",{className:"column-label",children:l.day})]},l.day))})]}),e.jsxs("section",{className:"recent-feedback",children:[e.jsx("h3",{children:"Recent Auditor Feedback"}),e.jsxs("div",{className:"feedback-list",children:[e.jsxs("div",{className:"feedback-item success",children:[e.jsx("div",{className:"f-icon",children:""}),e.jsxs("p",{children:[e.jsx("strong",{children:"Perfect Evidence:"})," One of your submissions was approved with full score."]}),e.jsx("span",{children:"Recently"})]}),e.jsxs("div",{className:"feedback-item warning",children:[e.jsx("div",{className:"f-icon",children:""}),e.jsxs("p",{children:[e.jsx("strong",{children:"Attention Required:"})," Some screenshots may need higher resolution."]}),e.jsx("span",{children:"Recently"})]})]})]})]})]})}function fv(){const[t]=d.useState([]),[s]=d.useState([]),[n]=d.useState("Inquirer");return e.jsxs("div",{className:"li-inq-dash-container",children:[e.jsxs("header",{className:"li-inq-dash-header",children:[e.jsxs("div",{className:"welcome-section",children:[e.jsx("h1",{children:"Inquirer Intelligence Center"}),e.jsxs("p",{children:["Welcome back, ",e.jsx("strong",{children:n}),". Monitor your LinkedIn outreach performance."]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("div",{className:"status-indicator online",children:[e.jsx("span",{className:"dot"}),"Active Session"]}),e.jsx("button",{className:"btn-sync",children:"Sync LinkedIn Data"})]})]}),e.jsxs("section",{className:"li-inq-stats-grid",children:[t.length===0&&e.jsx("div",{className:"empty-block",children:"No statistics available yet."}),t.map((r,a)=>e.jsxs("div",{className:"li-stat-card",children:[e.jsx("div",{className:"li-stat-icon-bg",children:r.icon??""}),e.jsxs("div",{className:"li-stat-info",children:[e.jsx("span",{className:"li-stat-label",children:r.label}),e.jsxs("div",{className:"li-stat-row",children:[e.jsx("h2",{className:"li-stat-value",children:r.value}),r.trend&&e.jsx("span",{className:`li-stat-trend ${r.trend.startsWith("+")?"up":"down"}`,children:r.trend})]})]})]},a))]}),e.jsxs("div",{className:"li-inq-main-layout",children:[e.jsxs("div",{className:"li-inq-content-left",children:[e.jsxs("div",{className:"li-inq-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Active Task Queue"}),e.jsx("button",{className:"btn-text",children:"View All"})]}),e.jsx("div",{className:"empty-block",children:"Tasks will appear here once assigned."})]}),e.jsxs("div",{className:"li-inq-card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{children:"Engagement Trend"})}),e.jsx("div",{className:"fake-chart-container",children:e.jsx("div",{className:"empty-block",children:"Engagement data not available."})})]})]}),e.jsxs("aside",{className:"li-inq-content-right",children:[e.jsxs("div",{className:"li-inq-card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{children:"Recent Actions"})}),s.length===0&&e.jsx("div",{className:"empty-block",children:"No recent activity recorded."}),e.jsx("div",{className:"feed-list",children:s.map(r=>e.jsxs("div",{className:"feed-item",children:[e.jsx("div",{className:"feed-marker"}),e.jsxs("div",{className:"feed-body",children:[e.jsxs("p",{className:"feed-text",children:[e.jsxs("strong",{children:[r.type,":"]})," ",r.target," (",r.company,")"]}),e.jsxs("div",{className:"feed-footer",children:[e.jsx("span",{className:`status-pill ${r.status.toLowerCase().replace(/\s+/g,"-")}`,children:r.status}),e.jsx("span",{className:"feed-time",children:r.time})]})]})]},r.id))})]}),e.jsxs("div",{className:"li-inq-card quality-score-card",children:[e.jsx("h3",{children:"Auditor Trust Score"}),e.jsx("div",{className:"score-gauge",children:e.jsxs("svg",{viewBox:"0 0 36 36",className:"circular-chart blue",children:[e.jsx("path",{className:"circle-bg",d:`M18 2.0845\r
                    a 15.9155 15.9155 0 0 1 0 31.831\r
                    a 15.9155 15.9155 0 0 1 0 -31.831`}),e.jsx("path",{className:"circle",strokeDasharray:"0,100",d:`M18 2.0845\r
                    a 15.9155 15.9155 0 0 1 0 31.831\r
                    a 15.9155 15.9155 0 0 1 0 -31.831`}),e.jsx("text",{x:"18",y:"20.35",className:"percentage",children:""})]})}),e.jsx("p",{className:"score-desc",children:"Score will be calculated once audits are completed."})]})]})]}),e.jsx("footer",{className:"li-inq-footer",children:" 2026 Internal Operations Terminal  Stable Build"})]})}function xv(){return e.jsxs("div",{className:"wb-audit-dash",children:[e.jsxs("header",{className:"dash-header",children:[e.jsxs("div",{className:"welcome-text",children:[e.jsx("h1",{children:"Website Quality Assurance"}),e.jsx("p",{children:"Real-time oversight of web data extraction and validation integrity."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-secondary",children:"Quality Reports"}),e.jsx("button",{className:"btn-primary",children:"Start New Audit"})]})]}),e.jsxs("section",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Domains Verified"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Data Accuracy"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Avg. Audit Time"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Fraud Flag Rate"}),e.jsx("h2",{className:"metric-value",children:""})]})]}),e.jsxs("div",{className:"dash-content-layout",children:[e.jsxs("section",{className:"queue-status-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Website Audit Queue"}),e.jsx("span",{className:"badge-live",children:"LIVE"})]}),e.jsxs("div",{className:"queue-empty",children:[e.jsx("p",{children:"No websites currently queued for audit."}),e.jsx("span",{children:"Waiting for backend data"})]})]}),e.jsxs("section",{className:"accuracy-chart-card",children:[e.jsx("h3",{children:"Accuracy by Category"}),e.jsx("div",{className:"chart-placeholder empty",children:e.jsx("p",{children:"Accuracy data unavailable"})}),e.jsx("div",{className:"chart-legend",children:e.jsx("p",{children:"Charts will render automatically once metrics are received."})})]})]}),e.jsx("footer",{className:"dash-footer",children:e.jsxs("div",{className:"system-status",children:[e.jsx("span",{className:"status-dot green"}),"Waiting for system status update"]})})]})}function gv(){return e.jsxs("div",{className:"li-dash-container",children:[e.jsxs("header",{className:"dash-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"LinkedIn Audit Command Center"}),e.jsx("p",{children:"Real-time oversight of multi-action outreach workflows."})]}),e.jsx("button",{className:"btn-primary-action",children:"Start New Review Session"})]}),e.jsxs("div",{className:"stats-row",children:[e.jsxs("div",{className:"stat-card empty",children:[e.jsx("div",{className:"stat-icon placeholder"}),e.jsxs("div",{className:"stat-data",children:[e.jsx("h3",{children:""}),e.jsx("p",{children:"Pending Reviews"})]})]}),e.jsxs("div",{className:"stat-card empty",children:[e.jsx("div",{className:"stat-icon placeholder"}),e.jsxs("div",{className:"stat-data",children:[e.jsx("h3",{children:""}),e.jsx("p",{children:"Approved Today"})]})]}),e.jsxs("div",{className:"stat-card empty",children:[e.jsx("div",{className:"stat-icon placeholder"}),e.jsxs("div",{className:"stat-data",children:[e.jsx("h3",{children:""}),e.jsx("p",{children:"Rejected (Fraud)"})]})]}),e.jsxs("div",{className:"stat-card empty",children:[e.jsx("div",{className:"stat-icon placeholder"}),e.jsxs("div",{className:"stat-data",children:[e.jsx("h3",{children:""}),e.jsx("p",{children:"Avg. Decision Time"})]})]})]}),e.jsxs("div",{className:"dash-grid",children:[e.jsxs("section",{className:"dash-section performance",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Recent Submissions Queue"}),e.jsx("button",{className:"btn-text",disabled:!0,children:"View All"})]}),e.jsxs("div",{className:"table-empty",children:[e.jsx("strong",{children:"No submissions in queue"}),e.jsx("p",{children:"Incoming LinkedIn reviews will appear here when researchers submit new work."})]})]}),e.jsxs("section",{className:"dash-section active-researchers",children:[e.jsx("h3",{children:"Top Active Researchers"}),e.jsxs("div",{className:"researcher-empty",children:[e.jsx("strong",{children:"No activity yet"}),e.jsx("p",{children:"Researcher performance metrics will populate as submissions are processed."})]})]})]})]})}function jv(){const t=De(),[s,n]=d.useState(""),[r,a]=d.useState(""),[i,l]=d.useState(""),[o,c]=d.useState(1),[h]=d.useState(10),[m,p]=d.useState([]),[x,j]=d.useState(null),[g,b]=d.useState(0),[S,w]=d.useState(0),[u,f]=d.useState(!0),[v,N]=d.useState(null),[C,_]=d.useState([]),[I,q]=d.useState(null),[z,B]=d.useState({name:"",role:"",status:""}),R=async()=>{try{f(!0);const ne=await Do({page:o,limit:h,search:s,role:r,status:i});p(ne.users),b(ne.total),w(ne.totalPages)}catch{N("Failed to load users")}finally{f(!1)}},T=async()=>{try{const V=await cy();j(V)}catch{}};d.useEffect(()=>{T()},[]),d.useEffect(()=>{R()},[o,s,r,i]),d.useEffect(()=>{_([])},[m]);const E=async(V,ne)=>{const pe=ne==="active"?"activate":"suspend";if(confirm(`Are you sure you want to ${pe} this user?`))try{await Si(V,ne),R(),T()}catch{alert(`Failed to ${pe} user`)}},M=async V=>{const ne=prompt("Enter new password for the user:");if(ne&&confirm("Are you sure you want to reset this user's password? In Phase 3, the user will receive an email to update their password."))try{await fd(V,ne),alert("Password reset successfully")}catch{alert("Failed to reset password")}},k=async V=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await xd(V),R(),T()}catch{alert("Failed to delete user")}},O=()=>{n(""),a(""),l(""),c(1)},D=V=>{_(ne=>ne.includes(V)?ne.filter(pe=>pe!==V):[...ne,V])},y=()=>{const V=m.map(ne=>ne.id);_(ne=>ne.length===V.length?[]:V)},F=async()=>{if(C.length!==0&&confirm(`Are you sure you want to delete ${C.length} users? This action cannot be undone.`))try{await Promise.all(C.map(V=>xd(V))),_([]),R(),T(),alert("Users deleted successfully")}catch{alert("Failed to delete some users")}},P=async()=>{if(C.length!==0&&confirm(`Are you sure you want to suspend ${C.length} users?`))try{await Promise.all(C.map(V=>Si(V,"suspended"))),_([]),R(),T(),alert("Users suspended successfully")}catch{alert("Failed to suspend some users")}},A=async()=>{if(C.length===0)return;const V=prompt("Enter new password for selected users:");if(V&&confirm(`Are you sure you want to reset passwords for ${C.length} users? In Phase 3, users will receive an email to update their password.`))try{await Promise.all(C.map(ne=>fd(ne,V))),alert("Passwords reset successfully. In Phase 3, users will receive an email to update their password."),_([])}catch{alert("Failed to reset passwords")}},J=V=>{q(V),B({name:V.name,role:V.role,status:V.status})},se=async()=>{var V,ne;if(I)try{const pe={};z.name!==I.name&&(pe.name=z.name),z.role!==I.role&&(pe.role=z.role),Object.keys(pe).length>0&&await uy(I.id,pe),z.status!==I.status&&await Si(I.id,z.status),q(null),R(),T(),alert("User updated successfully")}catch(pe){const W=((ne=(V=pe==null?void 0:pe.response)==null?void 0:V.data)==null?void 0:ne.message)||"Failed to update user";alert(W)}},L=()=>{q(null)},$=V=>V.charAt(0).toUpperCase()+V.slice(1),ee=V=>new Date(V).toLocaleDateString();return u&&!m.length?e.jsx("div",{className:"page-loader",children:"Loading Users..."}):v?e.jsx("div",{className:"error-message",children:v}):e.jsxs("div",{className:"users-container",children:[e.jsxs("header",{className:"users-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"All Users"}),e.jsx("p",{children:"List and manage all system users, roles and permissions."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-export",children:"Export Users"}),e.jsx("button",{className:"btn-add-user",onClick:()=>t("/super-admin/users/create"),children:"Add User"})]})]}),e.jsxs("section",{className:"users-stats-grid",children:[e.jsx(ce,{title:"Total Users",value:(x==null?void 0:x.totalUsers)??0}),e.jsx(ce,{title:"Active",value:(x==null?void 0:x.activeUsers)??0}),e.jsx(ce,{title:"Suspended",value:(x==null?void 0:x.suspendedUsers)??0}),e.jsx(ce,{title:"Sub-Admins",value:(x==null?void 0:x.subAdmins)??0})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by name, email or ID...",value:s,onChange:V=>n(V.target.value)})}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("select",{value:r,onChange:V=>a(V.target.value),children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"super_admin",children:"Super Admin"}),e.jsx("option",{value:"sub_admin",children:"Sub-Admin"}),e.jsx("option",{value:"website_researcher",children:"Website Researcher"}),e.jsx("option",{value:"linkedin_researcher",children:"LinkedIn Researcher"}),e.jsx("option",{value:"website_inquirer",children:"Website Inquirer"}),e.jsx("option",{value:"linkedin_inquirer",children:"LinkedIn Inquirer"}),e.jsx("option",{value:"website_inquirer_auditor",children:"Website Inquirer Auditor"}),e.jsx("option",{value:"linkedin_inquirer_auditor",children:"LinkedIn Inquirer Auditor"}),e.jsx("option",{value:"website_research_auditor",children:"Website Research Auditor"}),e.jsx("option",{value:"linkedin_research_auditor",children:"LinkedIn Research Auditor"})]}),e.jsxs("select",{value:i,onChange:V=>l(V.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"})]}),e.jsx("button",{className:"btn-clear",onClick:O,children:"Clear Filters"})]})]}),C.length>0&&e.jsxs("div",{className:"bulk-actions-bar",children:[e.jsxs("span",{children:[C.length," user(s) selected"]}),e.jsxs("div",{className:"bulk-buttons",children:[e.jsx("button",{className:"btn-bulk",onClick:P,children:"Suspend Users"}),e.jsx("button",{className:"btn-bulk",onClick:A,children:"Reset Passwords"}),e.jsx("button",{className:"btn-bulk delete",onClick:F,children:"Delete Users"})]})]}),e.jsxs("div",{className:"users-card",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"users-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox",checked:C.length===m.length&&m.length>0,onChange:y})}),e.jsx("th",{children:"ID"}),e.jsx("th",{children:"User Details"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Registered"}),e.jsx("th",{children:"Last Activity"}),e.jsx("th",{className:"txt-right",children:"Actions"})]})}),e.jsx("tbody",{children:m.map(V=>e.jsxs("tr",{className:"user-row",children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:C.includes(V.id),onChange:()=>D(V.id)})}),e.jsxs("td",{className:"txt-id",children:["#",V.id.slice(0,8)]}),e.jsx("td",{children:e.jsxs("div",{className:"user-info-cell",children:[e.jsx("strong",{children:V.name}),e.jsx("span",{children:V.email})]})}),e.jsx("td",{children:e.jsx("span",{className:"role-tag",children:V.role})}),e.jsx("td",{children:e.jsx("span",{className:`badge-status ${V.status}`,children:$(V.status)})}),e.jsx("td",{children:ee(V.createdAt)}),e.jsx("td",{children:ee(V.updatedAt)}),e.jsx("td",{className:"txt-right",children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-icon-action",title:"Edit",onClick:()=>J(V),children:"Edit"}),e.jsx("button",{className:"btn-icon-action",title:"Reset Password",onClick:()=>M(V.id),children:"Pass"}),e.jsx("button",{className:"btn-icon-action suspend",title:"Suspend",onClick:()=>E(V.id,V.status==="active"?"suspended":"active"),children:"Lock"}),e.jsx("button",{className:"btn-icon-action delete",title:"Delete",onClick:()=>k(V.id),children:"Del"})]})})]},V.id))})]})}),e.jsxs("div",{className:"pagination-area",children:[e.jsxs("span",{children:["Showing ",(o-1)*h+1," to ",Math.min(o*h,g)," of ",g," users"]}),e.jsxs("div",{className:"pagination-controls",children:[e.jsx("button",{className:"btn-page",disabled:o===1,onClick:()=>c(o-1),children:"Previous"}),Array.from({length:S},(V,ne)=>ne+1).map(V=>e.jsx("button",{className:`btn-page ${V===o?"active":""}`,onClick:()=>c(V),children:V},V)),e.jsx("button",{className:"btn-page",disabled:o===S,onClick:()=>c(o+1),children:"Next"})]})]})]}),I&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Edit User"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name:"}),e.jsx("input",{type:"text",value:z.name,onChange:V=>B(ne=>({...ne,name:V.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role:"}),e.jsxs("select",{value:z.role,onChange:V=>B(ne=>({...ne,role:V.target.value})),children:[e.jsx("option",{value:"super_admin",children:"Super Admin"}),e.jsx("option",{value:"sub_admin",children:"Sub-Admin"}),e.jsx("option",{value:"website_researcher",children:"Website Researcher"}),e.jsx("option",{value:"linkedin_researcher",children:"LinkedIn Researcher"}),e.jsx("option",{value:"website_inquirer",children:"Website Inquirer"}),e.jsx("option",{value:"linkedin_inquirer",children:"LinkedIn Inquirer"}),e.jsx("option",{value:"website_inquirer_auditor",children:"Website Inquirer Auditor"}),e.jsx("option",{value:"linkedin_inquirer_auditor",children:"LinkedIn Inquirer Auditor"}),e.jsx("option",{value:"website_research_auditor",children:"Website Research Auditor"}),e.jsx("option",{value:"linkedin_research_auditor",children:"LinkedIn Research Auditor"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status:"}),e.jsxs("select",{value:z.status,onChange:V=>B(ne=>({...ne,status:V.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:L,children:"Cancel"}),e.jsx("button",{onClick:se,children:"Save"})]})]})})]})}function yv(){const t=De(),[s,n]=d.useState({name:"",email:"",password:"",country:"",role:""}),[r,a]=d.useState(""),[i,l]=d.useState([]),[o,c]=d.useState(""),[h,m]=d.useState(!1),[p,x]=d.useState([]),[j,g]=d.useState(!1),[b,S]=d.useState(""),w={"Super Admin":"super_admin","Sub-Admin":"sub_admin","Website Researcher":"website_researcher","LinkedIn Researcher":"linkedin_researcher","Website Inquirer":"website_inquirer","LinkedIn Inquirer":"linkedin_inquirer","Website Inquirer Auditor":"website_inquirer_auditor","LinkedIn Inquirer Auditor":"linkedin_inquirer_auditor","Website Research Auditor":"website_research_auditor","LinkedIn Research Auditor":"linkedin_research_auditor"},u=Object.keys(w),f=["Afghanistan","Albania","Algeria","Argentina","Australia","Austria","Bangladesh","Belgium","Brazil","Canada","Chile","China","Colombia","Denmark","Egypt","Finland","France","Germany","Greece","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Japan","Jordan","Kenya","South Korea","Kuwait","Lebanon","Malaysia","Mexico","Morocco","Netherlands","New Zealand","Norway","Pakistan","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Saudi Arabia","Singapore","South Africa","Spain","Sweden","Switzerland","Thailand","Turkey","Ukraine","United Arab Emirates","United Kingdom","United States","Venezuela","Vietnam","Zimbabwe"];d.useEffect(()=>{(async()=>{try{const T=await gr();x(T)}catch{console.error("Failed to load categories")}})()},[]);const v=R=>{i.includes(R.id)||l([...i,R.id]),a("")},N=R=>{if(R.key==="Enter"&&r.trim()){R.preventDefault();const T=p.find(E=>E.name.toLowerCase()===r.toLowerCase());T&&v(T)}},C=R=>{l(i.filter(T=>T!==R))},_=p.filter(R=>R.name.toLowerCase().includes(r.toLowerCase())&&!i.includes(R.id)),I=f.filter(R=>R.toLowerCase().includes(o.toLowerCase())&&R!==s.country),q=R=>{n(T=>({...T,country:R})),c(""),m(!1)},z=()=>{n(R=>({...R,country:""})),c(""),m(!1)},B=async R=>{var T,E;R.preventDefault(),g(!0),S("");try{const M={name:s.name,email:s.email,password:s.password,role:w[s.role]};s.country&&(M.country=s.country),s.role==="Sub-Admin"&&i.length>0&&(M.categoryIds=i);const k=await dy(M);t("/super-admin/users")}catch(M){const k=((E=(T=M.response)==null?void 0:T.data)==null?void 0:E.message)||"Failed to create user";S(k)}finally{g(!1)}};return e.jsxs("div",{className:"cu-container",children:[e.jsx("header",{className:"cu-header",children:e.jsxs("div",{className:"cu-title-section",children:[e.jsx("button",{className:"btn-back",onClick:()=>t(-1),children:" Back to Users"}),e.jsx("h1",{children:"Create User"}),e.jsx("p",{children:"Register a new Super Admin, Sub-Admin, or Worker into the system."})]})}),e.jsxs("div",{className:"cu-content-grid",children:[e.jsxs("form",{className:"cu-form-card",onSubmit:B,children:[b&&e.jsx("div",{className:"error-message",children:b}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Full Name *"}),e.jsx("input",{type:"text",placeholder:"e.g. John Doe",required:!0,value:s.name,onChange:R=>n(T=>({...T,name:R.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Address *"}),e.jsx("input",{type:"email",placeholder:"john@company.com",required:!0,value:s.email,onChange:R=>n(T=>({...T,email:R.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password *"}),e.jsx("input",{type:"password",placeholder:"",required:!0,value:s.password,onChange:R=>n(T=>({...T,password:R.target.value}))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country"}),e.jsxs("div",{className:"country-selector",children:[e.jsx("input",{type:"text",placeholder:"Search countries...",value:o,onChange:R=>{c(R.target.value),m(!0)},onFocus:()=>m(!0)}),s.country&&e.jsx("button",{type:"button",className:"clear-country",onClick:z,children:""}),h&&o&&I.length>0&&e.jsx("div",{className:"country-suggestions",children:I.slice(0,10).map(R=>e.jsx("div",{className:"country-item",onClick:()=>q(R),children:R},R))}),s.country&&e.jsx("div",{className:"selected-country",children:s.country})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Assign Role *"}),e.jsxs("select",{value:s.role,onChange:R=>n(T=>({...T,role:R.target.value})),className:"cu-select",required:!0,children:[e.jsx("option",{value:"",children:"Select a role..."}),u.map(R=>e.jsx("option",{value:R,children:R},R))]})]})]})]}),s.role!=="Super Admin"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"form-divider"}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Permissions & Scope"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Assign Categories (Search or Type & Press Enter)"}),e.jsxs("div",{className:"category-search-container",children:[e.jsxs("div",{className:"tags-wrapper",children:[i.map(R=>{const T=p.find(E=>E.id===R);return e.jsxs("span",{className:"category-tag",children:[(T==null?void 0:T.name)||R,e.jsx("button",{type:"button",onClick:()=>C(R),children:""})]},R)}),e.jsx("input",{type:"text",placeholder:i.length===0?"Search: Product A, Marketing...":"Add more...",value:r,onChange:R=>a(R.target.value),onKeyDown:N})]}),r&&_.length>0&&e.jsx("div",{className:"suggestions-list",children:_.map(R=>e.jsxs("div",{className:"suggestion-item",onClick:()=>v(R),children:[R.name," ",e.jsx("span",{className:"add-label",children:"+ Add"})]},R.id))}),e.jsx("small",{className:"form-hint",children:"Assign specific categories to restrict user access. Leave empty for global access."})]})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>t(-1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",disabled:j,children:j?"Creating...":"Create User"})]})]}),e.jsx("aside",{className:"cu-tips",children:e.jsxs("div",{className:"tip-card",children:[e.jsx("h4",{children:"Role Hierarchy"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Super Admin:"})," Unrestricted access."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Sub-Admin:"})," Restricted to selected categories."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Workers:"})," Research/Inquiry/Auditor based on role."]})]})]})})]})]})}function vv(){var E,M,k,O,D,y,F,P,A,J,se;const[t,s]=d.useState([]),[n,r]=d.useState([]),[a,i]=d.useState(!0),[l,o]=d.useState(""),[c,h]=d.useState([]),[m,p]=d.useState(!1),[x,j]=d.useState(null),[g,b]=d.useState([]),[S,w]=d.useState(""),[u,f]=d.useState(!1);d.useEffect(()=>{(async()=>{i(!0),await Promise.all([v(),N()]),i(!1)})()},[]);async function v(){try{const L=await gr(),$=Array.isArray(L)?L:(L==null?void 0:L.categories)??L;s($||[]),console.debug("[Categories] Categories loaded:",$==null?void 0:$.length)}catch(L){console.error("Failed to load categories:",L),s([])}}async function N(){try{const $=await Do({role:"sub_admin",limit:100});console.debug("[Categories] Raw getUsers response:",$);let ee=[];$!=null&&$.users&&Array.isArray($.users)?ee=$.users:$!=null&&$.results&&Array.isArray($.results)?ee=$.results:Array.isArray($)&&(ee=$);const V=ee.filter(ne=>!ne||!ne.role?(console.debug("[Categories] User missing role:",ne),!1):ne.role.toLowerCase()==="sub_admin");console.debug("[Categories] Filtered sub-admins count:",V.length),r(V)}catch(L){console.error("Failed to load sub-admins:",L),r([])}}const C=t.filter(L=>{const $=l.trim().toLowerCase();return $?(L.name||"").toLowerCase().includes($)||(L.id||"").toLowerCase().includes($):!0}),_=n.filter(L=>{const $=S.trim().toLowerCase();return $?(L.email||"").toLowerCase().includes($)||(L.name||"").toLowerCase().includes($):!0}),I=async L=>{try{await hy(L),await v(),p(!1)}catch($){console.error("Failed to create category:",$),alert("Error creating category.")}},q=async L=>{if(L.preventDefault(),!!x)try{f(!0);const $=new FormData(L.currentTarget),ee={name:$.get("name").trim(),isActive:x.isActive,config:{cooldownRules:{cooldownDays:Number($.get("cooldownDays")),dailyLimits:{researcher:Number($.get("researcherLimit")),inquirer:Number($.get("inquirerLimit")),auditor:Number($.get("auditorLimit"))}}}};console.debug("[Categories] PATCH /categories/:id payload:",ee),await my(x.id,ee);const V=(x.subAdminCategories||[]).map(W=>W.userId).sort(),ne=[...g].sort();(V.length!==ne.length||V.some((W,Z)=>W!==ne[Z]))&&alert('Note: To assign sub-admins to categories, please use the "User Category Assignment" page from the Admin menu'),await v(),j(null),b([])}catch($){console.error("Failed to update category:",$),alert("Error updating category.")}finally{f(!1)}},z=async L=>{if(confirm("Are you sure?"))try{await py(L),await v()}catch($){console.error("Failed to delete category:",$)}},B=L=>{h(L?C.map($=>$.id):[])},R=L=>{h($=>$.includes(L)?$.filter(ee=>ee!==L):[...$,L])},T=L=>{b($=>$.includes(L)?$.filter(ee=>ee!==L):[...$,L])};return a?e.jsx("div",{className:"page-loader",children:"Loading Categories..."}):e.jsxs("div",{className:"categories-container",children:[e.jsxs("header",{className:"categories-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"Categories"}),e.jsx("p",{children:"Manage system categories and sub-admin assignments."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-export",children:"Export List"}),e.jsx("button",{className:"btn-add-category",onClick:()=>p(!0),children:"+ Add Category"})]})]}),e.jsxs("section",{className:"categories-stats-grid",children:[e.jsx(ce,{title:"Total Categories",value:t.length}),e.jsx(ce,{title:"Active",value:t.filter(L=>L.isActive).length}),e.jsx(ce,{title:"Assigned Admins",value:t.reduce((L,$)=>{var ee;return L+(((ee=$.subAdminCategories)==null?void 0:ee.length)||0)},0)}),e.jsx(ce,{title:"Total Approved",value:t.reduce((L,$)=>{var ee;return L+(((ee=$.metrics)==null?void 0:ee.totalApprovedActions)||0)},0)})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by name or ID...",value:l,onChange:L=>o(L.target.value)})}),e.jsx("div",{className:"filter-group",children:e.jsx("button",{className:"btn-clear",onClick:()=>o(""),children:"Clear"})})]}),e.jsx("div",{className:"categories-card",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"40px"},children:e.jsx("input",{type:"checkbox",checked:c.length===C.length&&C.length>0,onChange:L=>B(L.target.checked)})}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Assigned Sub-Admins"}),e.jsx("th",{className:"txt-center",children:"Limits"}),e.jsx("th",{className:"txt-right",children:"Actions"})]})}),e.jsx("tbody",{children:C.map(L=>{var $,ee,V,ne,pe,W,Z,H,ie,ue,K,re;return e.jsxs("tr",{className:"cat-row",children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:c.includes(L.id),onChange:()=>R(L.id)})}),e.jsx("td",{children:e.jsxs("div",{className:"cat-info-cell",children:[e.jsxs("span",{className:"cat-id",children:["#",L.id.slice(0,8)]}),e.jsx("strong",{className:"cat-name",children:L.name})]})}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${L.isActive?"active":"inactive"}`,children:L.isActive?"Active":"Inactive"})}),e.jsx("td",{children:e.jsx("div",{className:"subadmin-tags",children:($=L.subAdminCategories)!=null&&$.length?L.subAdminCategories.map(he=>{var xe;return e.jsx("span",{className:"admin-tag",children:((xe=he.user)==null?void 0:xe.name)||"Unknown"},he.userId)}):e.jsx("span",{className:"no-admins",children:"Unassigned"})})}),e.jsx("td",{className:"txt-center",children:e.jsxs("div",{className:"limit-info",children:[e.jsxs("span",{className:"limit-val",children:["R:",((ne=(V=(ee=L.config)==null?void 0:ee.cooldownRules)==null?void 0:V.dailyLimits)==null?void 0:ne.researcher)||0," | I:",((Z=(W=(pe=L.config)==null?void 0:pe.cooldownRules)==null?void 0:W.dailyLimits)==null?void 0:Z.inquirer)||0," | A:",((ue=(ie=(H=L.config)==null?void 0:H.cooldownRules)==null?void 0:ie.dailyLimits)==null?void 0:ue.auditor)||0]}),e.jsxs("span",{className:"cooldown-val",children:[((re=(K=L.config)==null?void 0:K.cooldownRules)==null?void 0:re.cooldownDays)||30,"d Cooldown"]})]})}),e.jsx("td",{className:"txt-right",children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-icon-act edit",onClick:()=>{var xe;j(L);const he=((xe=L.subAdminCategories)==null?void 0:xe.map(Se=>Se.userId))||[];b(he),w("")},children:"Edit"}),e.jsx("button",{className:"btn-icon-act delete",onClick:()=>z(L.id),children:"Delete"})]})})]},L.id)})})]})})}),x&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Edit Category"}),e.jsxs("form",{onSubmit:q,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Name"}),e.jsx("input",{type:"text",name:"name",defaultValue:x.name,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cooldown (Days)"}),e.jsx("input",{type:"number",name:"cooldownDays",defaultValue:((M=(E=x.config)==null?void 0:E.cooldownRules)==null?void 0:M.cooldownDays)??30,required:!0})]}),e.jsxs("div",{className:"limits-grid",children:[e.jsxs("div",{className:"limit-input",children:[e.jsx("label",{children:"Researcher Limit"}),e.jsx("input",{type:"number",name:"researcherLimit",defaultValue:((D=(O=(k=x.config)==null?void 0:k.cooldownRules)==null?void 0:O.dailyLimits)==null?void 0:D.researcher)??0,required:!0})]}),e.jsxs("div",{className:"limit-input",children:[e.jsx("label",{children:"Inquirer Limit"}),e.jsx("input",{type:"number",name:"inquirerLimit",defaultValue:((P=(F=(y=x.config)==null?void 0:y.cooldownRules)==null?void 0:F.dailyLimits)==null?void 0:P.inquirer)??0,required:!0})]}),e.jsxs("div",{className:"limit-input",children:[e.jsx("label",{children:"Auditor Limit"}),e.jsx("input",{type:"number",name:"auditorLimit",defaultValue:((se=(J=(A=x.config)==null?void 0:A.cooldownRules)==null?void 0:J.dailyLimits)==null?void 0:se.auditor)??0,required:!0})]})]}),e.jsxs("div",{className:"form-group",style:{marginTop:"20px"},children:[e.jsx("label",{children:"Assign Sub-Admins"}),e.jsx("p",{className:"form-help",children:"Select sub-admins who can manage this category."}),e.jsxs("div",{className:"subadmin-selector",children:[e.jsx("input",{type:"text",placeholder:"Filter by name or email...",value:S,onChange:L=>w(L.target.value)}),e.jsxs("div",{className:"subadmin-dropdown",style:{maxHeight:"150px",overflowY:"auto",border:"1px solid #eee",marginTop:"5px"},children:[_.map(L=>e.jsxs("div",{className:"subadmin-row",style:{display:"flex",justifyContent:"space-between",padding:"8px"},children:[e.jsxs("span",{children:[L.name," (",L.email,")"]}),e.jsx("button",{type:"button",className:`btn-small ${g.includes(L.id)?"selected":""}`,onClick:()=>T(L.id),children:g.includes(L.id)?"Remove":"Add"})]},L.id)),_.length===0&&e.jsx("div",{style:{padding:"8px",color:"#999"},children:"No sub-admins found"})]}),e.jsx("div",{className:"selected-admins",style:{marginTop:"10px"},children:g.map(L=>{const $=n.find(ee=>ee.id===L);return e.jsxs("span",{className:"admin-tag",children:[($==null?void 0:$.name)||L,e.jsx("button",{type:"button",onClick:()=>T(L),children:""})]},L)})})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",onClick:()=>j(null),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,children:u?"Saving...":"Save Changes"})]})]})]})}),m&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Create Category"}),e.jsxs("form",{onSubmit:L=>{L.preventDefault();const $=new FormData(L.currentTarget);I({name:$.get("name"),config:{cooldownRules:{cooldownDays:30,dailyLimits:{researcher:100,inquirer:50,auditor:100}}}})},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Name"}),e.jsx("input",{type:"text",name:"name",required:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",onClick:()=>p(!1),children:"Cancel"}),e.jsx("button",{type:"submit",children:"Create"})]})]})]})})]})}function Nv(){const[t,s]=d.useState([]),[n,r]=d.useState([]),[a,i]=d.useState(!0),[l,o]=d.useState(""),[c,h]=d.useState([]),[m,p]=d.useState(!1),[x,j]=d.useState(null),[g,b]=d.useState(""),[S,w]=d.useState(""),[u,f]=d.useState(""),[v,N]=d.useState("");d.useEffect(()=>{C()},[]);const C=async()=>{try{const[y,F]=await Promise.all([fy(),gr()]);s(y),r(F)}catch(y){console.error("Failed to load data:",y)}finally{i(!1)}},_=async y=>{try{await xy(y),await C(),p(!1)}catch(F){console.error("Failed to create rule:",F)}},I=async y=>{try{await gy(y.id,y),await C(),j(null)}catch(F){console.error("Failed to update rule:",F)}},q=async y=>{try{await jy(y),await C()}catch(F){console.error("Failed to toggle status:",F)}},z=async y=>{if(confirm("Are you sure you want to delete this rule?"))try{await yy(y),await C()}catch(F){console.error("Failed to delete rule:",F)}},B=async y=>{},R=async()=>{},T=y=>{h(y?M.map(F=>F.id):[])},E=(y,F)=>{h(P=>F?[...P,y]:P.filter(A=>A!==y))},M=t.filter(y=>{const F=y.category.name.toLowerCase().includes(l.toLowerCase())||y.actionType.toLowerCase().includes(l.toLowerCase())||y.role.toLowerCase().includes(l.toLowerCase()),P=!g||y.categoryId===g,A=!S||y.role===S,J=!u||y.actionType===u,se=!v||y.status===v;return F&&P&&A&&J&&se}),k=Array.from(new Set(t.map(y=>y.role))),O=Array.from(new Set(t.map(y=>y.actionType))),D=t.filter(y=>y.status==="active").length;return a?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading rules..."})]}):e.jsxs("div",{className:"category-rules-page",children:[e.jsxs("header",{className:"page-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("h1",{children:"Category Rules"}),e.jsx("p",{className:"subtitle",children:"Configure automated behavior and restrictions for task categories."})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-primary",onClick:()=>p(!0),children:"Add New Rule"})})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsx(ce,{title:"Total Rules",value:t.length}),e.jsx(ce,{title:"Active Rules",value:D}),e.jsx(ce,{title:"Linked Categories",value:n.length})]}),e.jsxs("div",{className:"management-bar",children:[e.jsxs("div",{className:"bar-left",children:[e.jsx("div",{className:"search-container",children:e.jsx("input",{type:"text",className:"search-input",placeholder:"Search by category, action or role...",value:l,onChange:y=>o(y.target.value)})}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("select",{className:"select-input",value:g,onChange:y=>b(y.target.value),children:[e.jsx("option",{value:"",children:"All Categories"}),n.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))]}),e.jsxs("select",{className:"select-input",value:S,onChange:y=>w(y.target.value),children:[e.jsx("option",{value:"",children:"All Roles"}),k.map(y=>e.jsx("option",{value:y,children:y},y))]}),e.jsxs("select",{className:"select-input",value:u,onChange:y=>f(y.target.value),children:[e.jsx("option",{value:"",children:"All Action Types"}),O.map(y=>e.jsx("option",{value:y,children:y},y))]}),e.jsxs("select",{className:"select-input",value:v,onChange:y=>N(y.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsx("div",{className:"bar-right",children:c.length>0&&e.jsxs("div",{className:"bulk-actions-area",children:[e.jsxs("span",{className:"selection-label",children:[c.length," items selected"]}),e.jsxs("div",{className:"button-group",children:[e.jsx("button",{className:"btn-secondary btn-sm",onClick:()=>B(),children:"Enable"}),e.jsx("button",{className:"btn-secondary btn-sm",onClick:()=>B(),children:"Disable"}),e.jsx("button",{className:"btn-danger btn-sm",onClick:R,children:"Delete"})]})]})})]}),e.jsx("div",{className:"table-card",children:e.jsxs("div",{className:"table-responsive",children:[e.jsxs("table",{className:"rules-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"col-check",children:e.jsx("input",{type:"checkbox",checked:c.length===M.length&&M.length>0,onChange:y=>T(y.target.checked)})}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Action Type"}),e.jsx("th",{children:"Role"}),e.jsx("th",{className:"text-center",children:"Daily Limit"}),e.jsx("th",{className:"text-center",children:"Cooldown"}),e.jsx("th",{className:"text-center",children:"Required"}),e.jsx("th",{className:"text-center",children:"Screenshot"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsx("tbody",{children:M.map(y=>e.jsxs("tr",{className:c.includes(y.id)?"row-selected":"",children:[e.jsx("td",{className:"col-check",children:e.jsx("input",{type:"checkbox",checked:c.includes(y.id),onChange:F=>E(y.id,F.target.checked)})}),e.jsx("td",{children:e.jsxs("div",{className:"td-category-info",children:[e.jsx("span",{className:"category-name",children:y.category.name}),e.jsxs("span",{className:"rule-id-tag",children:["ID: ",y.id.slice(0,6)]})]})}),e.jsx("td",{children:e.jsx("span",{className:"tag-type",children:y.actionType})}),e.jsx("td",{children:e.jsx("span",{className:"tag-role",children:y.role})}),e.jsx("td",{className:"text-center",children:y.dailyLimitOverride??e.jsx("span",{className:"default-label",children:"Default"})}),e.jsx("td",{className:"text-center",children:y.cooldownDaysOverride!==null?`${y.cooldownDaysOverride}d`:e.jsx("span",{className:"default-label",children:"Default"})}),e.jsx("td",{className:"text-center font-medium",children:y.requiredActions}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:`boolean-indicator ${y.screenshotRequired?"is-true":"is-false"}`,children:y.screenshotRequired?"Yes":"No"})}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${y.status}`,children:y.status})}),e.jsx("td",{className:"text-right",children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-table",onClick:()=>j(y),children:"Edit"}),e.jsx("button",{className:"btn-table",onClick:()=>q(y.id),children:y.status==="active"?"Disable":"Enable"}),e.jsx("button",{className:"btn-table btn-delete",onClick:()=>z(y.id),children:"Delete"})]})})]},y.id))})]}),M.length===0&&e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No category rules found matching your criteria."})})]})}),m&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-container",children:[e.jsxs("header",{className:"modal-header",children:[e.jsx("h2",{children:"Create Category Rule"}),e.jsx("button",{className:"btn-close",onClick:()=>p(!1),children:""})]}),e.jsxs("form",{onSubmit:y=>{y.preventDefault();const F=new FormData(y.target),P={categoryId:F.get("categoryId"),actionType:F.get("actionType"),role:F.get("role"),dailyLimitOverride:F.get("dailyLimitOverride")?Number(F.get("dailyLimitOverride")):null,cooldownDaysOverride:F.get("cooldownDaysOverride")?Number(F.get("cooldownDaysOverride")):null,requiredActions:Number(F.get("requiredActions"))||1,screenshotRequired:F.get("screenshotRequired")==="true",status:"active",priority:Number(F.get("priority"))||0};_(P)},children:[e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"form-section",children:[e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Target Category"}),e.jsxs("select",{name:"categoryId",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),n.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))]})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Action Type"}),e.jsxs("select",{name:"actionType",required:!0,children:[e.jsx("option",{value:"Website Research",children:"Website Research"}),e.jsx("option",{value:"LinkedIn Inquiry",children:"LinkedIn Inquiry"}),e.jsx("option",{value:"Email Outreach",children:"Email Outreach"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Assigned Role"}),e.jsxs("select",{name:"role",required:!0,children:[e.jsx("option",{value:"Researcher",children:"Researcher"}),e.jsx("option",{value:"Inquirer",children:"Inquirer"}),e.jsx("option",{value:"Auditor",children:"Auditor"})]})]})]}),e.jsx("div",{className:"form-separator",children:"Rule Configuration Overrides"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Daily Limit"}),e.jsx("input",{type:"number",name:"dailyLimitOverride",placeholder:"Use system default"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cooldown (Days)"}),e.jsx("input",{type:"number",name:"cooldownDaysOverride",placeholder:"Use system default"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Required Actions"}),e.jsx("input",{type:"number",name:"requiredActions",defaultValue:1,min:1,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Screenshot Proof"}),e.jsxs("select",{name:"screenshotRequired",children:[e.jsx("option",{value:"false",children:"Not Required"}),e.jsx("option",{value:"true",children:"Mandatory"})]})]})]})]})}),e.jsxs("footer",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Create Rule"})]})]})]})}),x&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-container",children:[e.jsxs("header",{className:"modal-header",children:[e.jsx("h2",{children:"Edit Rule Configuration"}),e.jsx("button",{className:"btn-close",onClick:()=>j(null),children:""})]}),e.jsxs("form",{onSubmit:y=>{y.preventDefault();const F=new FormData(y.target),P={...x,categoryId:F.get("categoryId"),actionType:F.get("actionType"),role:F.get("role"),dailyLimitOverride:F.get("dailyLimitOverride")?Number(F.get("dailyLimitOverride")):null,cooldownDaysOverride:F.get("cooldownDaysOverride")?Number(F.get("cooldownDaysOverride")):null,requiredActions:Number(F.get("requiredActions")),screenshotRequired:F.get("screenshotRequired")==="true",priority:Number(F.get("priority"))};I(P)},children:[e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"form-section",children:[e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Category"}),e.jsx("select",{name:"categoryId",defaultValue:x.categoryId,required:!0,children:n.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Action Type"}),e.jsxs("select",{name:"actionType",defaultValue:x.actionType,required:!0,children:[e.jsx("option",{value:"Website Research",children:"Website Research"}),e.jsx("option",{value:"LinkedIn Inquiry",children:"LinkedIn Inquiry"}),e.jsx("option",{value:"Email Outreach",children:"Email Outreach"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{name:"role",defaultValue:x.role,required:!0,children:[e.jsx("option",{value:"Researcher",children:"Researcher"}),e.jsx("option",{value:"Inquirer",children:"Inquirer"}),e.jsx("option",{value:"Auditor",children:"Auditor"})]})]})]}),e.jsx("div",{className:"form-separator",children:"Overrides & Requirements"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Daily Limit"}),e.jsx("input",{type:"number",name:"dailyLimitOverride",defaultValue:x.dailyLimitOverride||"",placeholder:"System default"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cooldown (Days)"}),e.jsx("input",{type:"number",name:"cooldownDaysOverride",defaultValue:x.cooldownDaysOverride||"",placeholder:"System default"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Required Actions"}),e.jsx("input",{type:"number",name:"requiredActions",defaultValue:x.requiredActions,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Screenshot?"}),e.jsxs("select",{name:"screenshotRequired",defaultValue:x.screenshotRequired.toString(),children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]})]})]})}),e.jsxs("footer",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>j(null),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"})]})]})]})})]})}const bv="/api/actions";async function wv(){try{const t=await fetch(bv);return t.ok?await t.json():[]}catch{return[]}}async function kv(t){return[]}async function Sv(){return[]}const En=["Super Admin","Sub-Admin","Website Researcher","LinkedIn Researcher","Website Inquirer","Backlink Outreacher","LinkedIn Inquirer","Website Inquirer Auditor","LinkedIn Inquirer Auditor","Website Research Auditor","LinkedIn Research Auditor","Website Reviewer","Backlink Website Reviewer","LinkedIn Reviewer"],vd=["research","inquiry","review","outreach"],Cv=()=>{var J,se,L,$,ee,V,ne,pe;const[t,s]=d.useState([]),[n,r]=d.useState([]),[a,i]=d.useState(!0),[l,o]=d.useState(""),[c,h]=d.useState(null),[m,p]=d.useState(!1),[x,j]=d.useState({blacklist:[]}),[g,b]=d.useState("blacklist"),[S,w]=d.useState(!1),[u,f]=d.useState(""),[v,N]=d.useState(!1),[C,_]=d.useState([]),[I,q]=d.useState({});d.useEffect(()=>{i(!0),Promise.all([wv(),kv(),Sv()]).then(([W,Z,H])=>{s(W),r(W),j({blacklist:Z}),_(H),i(!1)})},[]),d.useEffect(()=>{if(!l)r(t);else{const W=l.toLowerCase();r(t.filter(Z=>Z.name.toLowerCase().includes(W)||Z.role.toLowerCase().includes(W)||Z.category.toLowerCase().includes(W)||Z.actionType.toLowerCase().includes(W)||Z.id.toLowerCase().includes(W)))}},[l,t]);const z=W=>h(W),B=async W=>{s(Z=>Z.filter(H=>H.id!==W)),r(Z=>Z.filter(H=>H.id!==W))},R=async(W,Z)=>{s(H=>H.map(ie=>ie.id===W?{...ie,enabled:Z}:ie)),r(H=>H.map(ie=>ie.id===W?{...ie,enabled:Z}:ie))},T=async W=>{s(Z=>Z.map(H=>H.id===W.id?W:H)),r(Z=>Z.map(H=>H.id===W.id?W:H)),h(null)},E=async W=>{s(Z=>[...Z,W]),r(Z=>[...Z,W]),p(!1)},M=async()=>{u.trim()&&(j(W=>({...W,[g]:[...W[g],{id:Date.now().toString(),name:u.trim()}]})),f(""))},k=async W=>{j(Z=>({...Z,[g]:Z[g].filter(H=>H.id!==W)}))},O=async(W,Z)=>{j(H=>({...H,[g]:H[g].map(ie=>ie.id===W?{...ie,name:Z}:ie)}))},D=async()=>{!I.message||!I.recipientRole||!I.category||(_(W=>[...W,{id:Date.now().toString(),recipientRole:I.recipientRole,category:I.category,userId:I.userId,message:I.message,createdAt:new Date().toISOString()}]),N(!1),q({}))},y=t.length,F=t.filter(W=>W.enabled).length,P=Array.from(new Set(t.map(W=>W.role))).length,A=t.filter(W=>W.approval.requiresApproval).length;return a?e.jsx("div",{className:"page-loader",children:"Loading Action Configurations..."}):e.jsxs("div",{className:"categories-container",children:[e.jsxs("header",{className:"categories-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"Action Configuration"}),e.jsx("p",{children:"Define how system actions behave across all roles. Changes here affect every task and role instantly."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-export",onClick:()=>alert("Export coming soon!"),children:"Export All"}),e.jsx("button",{className:"btn-add-category",onClick:()=>p(!0),children:"+ Add Action"})]})]}),e.jsxs("section",{className:"categories-stats-grid",children:[e.jsx(ce,{title:"Total Actions",value:y}),e.jsx(ce,{title:"Enabled",value:F}),e.jsx(ce,{title:"Roles Covered",value:P}),e.jsx(ce,{title:"Actions Requiring Approval",value:A})]}),e.jsxs("section",{style:{margin:"20px 0"},children:[e.jsx("h3",{children:"Global Management"}),e.jsx("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:e.jsx("button",{onClick:()=>{b("blacklist"),w(!0)},children:"Company Blacklist"})})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by action, role, category, or ID...",value:l,onChange:W=>o(W.target.value)})}),e.jsx("div",{className:"filter-group",children:e.jsx("button",{className:"btn-clear",onClick:()=>o(""),children:"Clear"})})]}),e.jsx("div",{className:"categories-card",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Action Name"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Action Type"}),e.jsx("th",{children:"Inputs Count"}),e.jsx("th",{children:"Screenshot Required"}),e.jsx("th",{children:"Approval Required"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"txt-right",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(W=>e.jsxs("tr",{children:[e.jsx("td",{children:W.name}),e.jsx("td",{children:e.jsx("span",{className:"role-tag",children:W.role})}),e.jsx("td",{children:W.category}),e.jsx("td",{children:W.actionType}),e.jsx("td",{children:W.inputs.length}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${W.evidence.requiresScreenshot?"enabled":"disabled"}`,children:W.evidence.requiresScreenshot?"Yes":"No"})}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${W.approval.requiresApproval?"enabled":"disabled"}`,children:W.approval.requiresApproval?"Yes":"No"})}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${W.enabled?"enabled":"disabled"}`,style:{cursor:"pointer"},onClick:()=>R(W.id,!W.enabled),children:W.enabled?"Enabled":"Disabled"})}),e.jsxs("td",{className:"txt-right",children:[e.jsx("button",{className:"btn-icon-act edit",onClick:()=>z(W),children:"Edit"}),e.jsx("button",{className:"btn-icon-act delete",onClick:()=>B(W.id),children:"Delete"})]})]},W.id))})]})})}),(m||c)&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",style:{maxWidth:700},children:[e.jsx("h2",{children:c?"Edit Action":"Create Action"}),e.jsxs("form",{onSubmit:async W=>{W.preventDefault();const Z=new FormData(W.currentTarget),H={id:c?c.id:"",name:Z.get("name"),role:Z.get("role"),category:Z.get("category"),actionType:Z.get("actionType"),enabled:Z.get("enabled")==="on",inputs:c?c.inputs:[],evidence:c?c.evidence:{actionId:"",requiresScreenshot:Z.get("requiresScreenshot")==="on",screenshotType:Z.get("screenshotType"),screenshotContext:Z.get("screenshotContext"),maxSizeMb:Number(Z.get("maxSizeMb"))||1},approval:c?c.approval:{actionId:"",requiresApproval:Z.get("requiresApproval")==="on",approvalRole:Z.get("approvalRole"),approvalCriteria:Z.get("approvalCriteria"),rejectionReasonGroupId:""},guidelines:Z.get("guidelines")};c?await T(H):await E(H)},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Action Name"}),e.jsx("input",{name:"name",defaultValue:(c==null?void 0:c.name)||"",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsx("select",{name:"role",defaultValue:(c==null?void 0:c.role)||En[0],children:En.map(W=>e.jsx("option",{value:W,children:W},W))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsx("input",{name:"category",defaultValue:(c==null?void 0:c.category)||"",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Action Type"}),e.jsx("select",{name:"actionType",defaultValue:(c==null?void 0:c.actionType)||vd[0],children:vd.map(W=>e.jsx("option",{value:W,children:W},W))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Enabled"}),e.jsx("input",{type:"checkbox",name:"enabled",defaultChecked:c?c.enabled:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Guidelines"}),e.jsx("textarea",{name:"guidelines",defaultValue:(c==null?void 0:c.guidelines)||"",rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Inputs (configured in detail below)"}),e.jsxs("div",{children:[(J=c==null?void 0:c.inputs)==null?void 0:J.map((W,Z)=>e.jsxs("div",{style:{marginBottom:8},children:[e.jsxs("span",{children:[W.label," (",W.type,")"]}),e.jsx("span",{style:{marginLeft:8},children:W.required?"Required":"Optional"}),e.jsxs("span",{style:{marginLeft:8},children:["Order: ",W.order]})]},W.id)),e.jsx("button",{type:"button",onClick:()=>alert("Input schema editing coming soon!"),children:"Edit Inputs"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Screenshot Required"}),e.jsx("input",{type:"checkbox",name:"requiresScreenshot",defaultChecked:((se=c==null?void 0:c.evidence)==null?void 0:se.requiresScreenshot)||!1}),e.jsxs("select",{name:"screenshotType",defaultValue:((L=c==null?void 0:c.evidence)==null?void 0:L.screenshotType)||"image",children:[e.jsx("option",{value:"image",children:"Image"}),e.jsx("option",{value:"pdf",children:"PDF"})]}),e.jsx("input",{name:"screenshotContext",placeholder:"Screenshot must show...",defaultValue:(($=c==null?void 0:c.evidence)==null?void 0:$.screenshotContext)||""}),e.jsx("input",{type:"number",name:"maxSizeMb",min:0,defaultValue:((ee=c==null?void 0:c.evidence)==null?void 0:ee.maxSizeMb)||1})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Approval Required"}),e.jsx("input",{type:"checkbox",name:"requiresApproval",defaultChecked:((V=c==null?void 0:c.approval)==null?void 0:V.requiresApproval)||!1}),e.jsx("select",{name:"approvalRole",defaultValue:((ne=c==null?void 0:c.approval)==null?void 0:ne.approvalRole)||En[0],children:En.map(W=>e.jsx("option",{value:W,children:W},W))}),e.jsx("input",{name:"approvalCriteria",placeholder:"Describe approval criteria...",defaultValue:((pe=c==null?void 0:c.approval)==null?void 0:pe.approvalCriteria)||""})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",onClick:()=>{h(null),p(!1)},children:"Cancel"}),e.jsx("button",{type:"submit",children:c?"Save":"Create"})]})]})]})}),S&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Company Blacklist"}),e.jsxs("div",{children:[e.jsx("ul",{children:x[g].map(W=>e.jsxs("li",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{value:W.name,onChange:Z=>O(W.id,Z.target.value),style:{flex:1}}),e.jsx("button",{onClick:()=>k(W.id),children:"Delete"})]},W.id))}),e.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[e.jsx("input",{value:u,onChange:W=>f(W.target.value),placeholder:"Add new item...",style:{flex:1}}),e.jsx("button",{onClick:M,children:"Add"})]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",onClick:()=>w(!1),children:"Close"})})]})}),e.jsxs("section",{style:{margin:"30px 0"},children:[e.jsx("h3",{children:"Notice System"}),e.jsx("button",{onClick:()=>N(!0),children:"Configure Notice"}),v&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h2",{children:"Send Notice"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Recipient Role"}),e.jsxs("select",{value:I.recipientRole||"",onChange:W=>q(Z=>({...Z,recipientRole:W.target.value})),children:[e.jsx("option",{value:"",children:"Select Role"}),En.map(W=>e.jsx("option",{children:W},W))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsx("input",{value:I.category||"",onChange:W=>q(Z=>({...Z,category:W.target.value})),placeholder:"Category"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Specific User (optional)"}),e.jsx("input",{value:I.userId||"",onChange:W=>q(Z=>({...Z,userId:W.target.value})),placeholder:"Enter user email or ID"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Message"}),e.jsx("textarea",{rows:3,value:I.message||"",onChange:W=>q(Z=>({...Z,message:W.target.value}))})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",onClick:()=>N(!1),children:"Close"}),e.jsx("button",{type:"button",onClick:D,children:"Send"})]})]})}),e.jsxs("div",{style:{marginTop:16},children:[e.jsx("h4",{children:"Sent Notices"}),e.jsx("ul",{children:C.map(W=>e.jsxs("li",{children:[e.jsx("b",{children:W.recipientRole})," | ",W.category," |"," ",W.userId?W.userId:"All",e.jsx("br",{}),e.jsx("span",{children:W.message}),e.jsx("span",{style:{fontSize:11,color:"#999",marginLeft:8},children:new Date(W.createdAt).toLocaleString()})]},W.id))})]})]})]})},Ei=[{value:"website_inquirer_auditor",label:"Website Inquirer Auditor"},{value:"linkedin_inquirer_auditor",label:"LinkedIn Inquirer Auditor"},{value:"website_research_auditor",label:"Website Research Auditor"},{value:"linkedin_research_auditor",label:"LinkedIn Research Auditor"}];function Rv(){const[t,s]=d.useState([]),[n,r]=d.useState([]),[a,i]=d.useState(!0),[l,o]=d.useState(!1),[c,h]=d.useState(null),[m,p]=d.useState(""),[x,j]=d.useState(""),[g,b]=d.useState(""),[S,w]=d.useState(""),[u,f]=d.useState(""),[v,N]=d.useState("rejection"),[C,_]=d.useState([]),[I,q]=d.useState([]),[z,B]=d.useState(!0);d.useEffect(()=>{R(),T()},[]);const R=async()=>{try{const P=await Y.get("/admin/categories");r(Array.isArray(P.data)?P.data:[])}catch(P){console.error("Failed to load categories:",P)}},T=async()=>{try{i(!0);const P={};m&&(P.search=m),x&&(P.role=x),g&&(P.reasonType=g),S&&(P.categoryId=S);const A=await Y.get("/admin/disapproval-reasons",{params:P});s(A.data)}catch(P){console.error("Failed to load reasons:",P)}finally{i(!1)}};d.useEffect(()=>{const P=setTimeout(T,300);return()=>clearTimeout(P)},[m,x,g,S]);const E=()=>{h(null),f(""),N("rejection"),_([]),q([]),B(!0),o(!0)},M=P=>{h(P),f(P.description),N(P.reasonType),_(P.applicableRoles),q(P.categoryIds),B(P.isActive),o(!0)},k=async P=>{var J,se;if(P.preventDefault(),!u.trim()){alert("Description is required");return}if(C.length===0){alert("Please select at least one auditor role");return}const A={description:u.trim(),reasonType:v,applicableRoles:C,categoryIds:I,isActive:z};try{c?await Y.patch(`/admin/disapproval-reasons/${c.id}`,A):await Y.post("/admin/disapproval-reasons",A),o(!1),T()}catch(L){alert(((se=(J=L.response)==null?void 0:J.data)==null?void 0:se.message)||L.message||"Failed to save disapproval reason")}},O=async P=>{var A,J;if(window.confirm(`Are you sure you want to delete "${P.description}"?`))try{await Y.delete(`/admin/disapproval-reasons/${P.id}`),T()}catch(se){alert(((J=(A=se.response)==null?void 0:A.data)==null?void 0:J.message)||se.message||"Failed to delete disapproval reason")}},D=P=>{_(A=>A.includes(P)?A.filter(J=>J!==P):[...A,P])},y=P=>{q(A=>A.includes(P)?A.filter(J=>J!==P):[...A,P])},F=t;return e.jsxs("div",{className:"admin-disapproval-container",children:[e.jsxs("header",{className:"page-header",children:[e.jsx("h1",{children:"Disapproval & Flag Reasons"}),e.jsx("button",{className:"btn-primary",onClick:E,children:"+ Create Reason"})]}),e.jsxs("div",{className:"filters-section",children:[e.jsx("input",{type:"text",placeholder:"Search descriptions...",value:m,onChange:P=>p(P.target.value),className:"filter-input"}),e.jsxs("select",{value:x,onChange:P=>j(P.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Roles"}),Ei.map(P=>e.jsx("option",{value:P.value,children:P.label},P.value))]}),e.jsxs("select",{value:g,onChange:P=>b(P.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"rejection",children:"Rejection"}),e.jsx("option",{value:"flag",children:"Flag"})]}),e.jsxs("select",{value:S,onChange:P=>w(P.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All Categories"}),n.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))]})]}),a?e.jsx("div",{className:"loading-state",children:"Loading reasons..."}):e.jsxs("table",{className:"reasons-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Applicable Roles"}),e.jsx("th",{children:"Categories"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:F.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"2rem",color:"#999"},children:"No disapproval reasons found. Create one to get started."})}):F.map(P=>e.jsxs("tr",{children:[e.jsx("td",{children:P.description}),e.jsx("td",{children:e.jsx("span",{className:`type-badge type-${P.reasonType}`,children:P.reasonType==="rejection"?"Rejection":"Flag"})}),e.jsx("td",{children:P.applicableRoles.length>0?P.applicableRoles.map(A=>{var J;return((J=Ei.find(se=>se.value===A))==null?void 0:J.label)||A}).join(", "):"None"}),e.jsx("td",{children:P.categoryIds.length>0?P.categoryIds.map(A=>{var J;return((J=n.find(se=>se.id===A))==null?void 0:J.name)||A}).join(", "):"Global (All)"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-${P.isActive?"active":"inactive"}`,children:P.isActive?"Active":"Inactive"})}),e.jsx("td",{children:e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn-edit",onClick:()=>M(P),children:"Edit"}),e.jsx("button",{className:"btn-delete",onClick:()=>O(P),style:{background:"#ef4444",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.875rem",transition:"background 0.2s"},onMouseEnter:A=>A.currentTarget.style.background="#dc2626",onMouseLeave:A=>A.currentTarget.style.background="#ef4444",children:"Delete"})]})})]},P.id))})]}),l&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[e.jsx("h2",{children:c?"Edit Disapproval Reason":"Create Disapproval Reason"}),e.jsxs("form",{onSubmit:k,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description*"}),e.jsx("textarea",{value:u,onChange:P=>f(P.target.value),placeholder:"Enter reason description...",rows:3,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reason Type*"}),e.jsxs("div",{className:"radio-group",children:[e.jsxs("label",{className:"radio-item",children:[e.jsx("input",{type:"radio",checked:v==="rejection",onChange:()=>N("rejection")}),e.jsx("span",{children:"Rejection"})]}),e.jsxs("label",{className:"radio-item",children:[e.jsx("input",{type:"radio",checked:v==="flag",onChange:()=>N("flag")}),e.jsx("span",{children:"Flag"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Applicable Auditor Roles* (select at least one)"}),e.jsx("div",{className:"checkbox-group",children:Ei.map(P=>e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:C.includes(P.value),onChange:()=>D(P.value)}),e.jsx("span",{children:P.label})]},P.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Categories (leave empty for global access to all categories)"}),e.jsx("div",{className:"checkbox-group",children:n.map(P=>e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:I.includes(P.id),onChange:()=>y(P.id)}),e.jsx("span",{children:P.name})]},P.id))})]}),e.jsx("div",{className:"form-group",children:e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:z,onChange:P=>B(P.target.checked)}),e.jsx("span",{children:"Active (visible to auditors)"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",children:c?"Update":"Create"})]})]})]})})]})}function Av(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(!1),[l,o]=d.useState(null),[c,h]=d.useState(""),[m,p]=d.useState("");d.useEffect(()=>{x()},[]);const x=async()=>{try{r(!0);const u=await Y.get("/admin/company-types");s(u.data||[])}catch(u){console.error("Failed to load company types:",u)}finally{r(!1)}},j=()=>{o(null),h(""),p(""),i(!0)},g=u=>{o(u),h(u.name),p(u.description||""),i(!0)},b=async u=>{var f,v;if(u.preventDefault(),!c.trim()){alert("Name is required");return}try{const N={name:c.trim(),description:m.trim()||void 0};l?await Y.patch(`/admin/company-types/${l.id}`,N):await Y.post("/admin/company-types",N),i(!1),x()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||N.message||"Failed to save company type")}},S=async u=>{var f,v;if(window.confirm(`Are you sure you want to delete "${u.name}"?`))try{await Y.delete(`/admin/company-types/${u.id}`),x()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||N.message||"Failed to delete company type")}},w=async u=>{var f,v;try{await Y.patch(`/admin/company-types/${u.id}`,{isActive:!u.isActive}),x()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||N.message||"Failed to toggle active status")}};return e.jsxs("div",{className:"sa-crud-page",children:[e.jsxs("div",{className:"sa-page-header",children:[e.jsx("h1",{children:"Company Types"}),e.jsx("button",{className:"btn-create",onClick:j,children:"+ Create Company Type"})]}),n&&e.jsx("p",{children:"Loading..."}),!n&&t.length===0&&e.jsx("p",{className:"empty-state",children:"No company types found. Create one to get started."}),!n&&t.length>0&&e.jsxs("table",{className:"crud-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:u.name})}),e.jsx("td",{children:u.description||""}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${u.isActive?"active":"inactive"}`,children:u.isActive?"Active":"Inactive"})}),e.jsx("td",{children:new Date(u.createdAt).toLocaleDateString()}),e.jsxs("td",{className:"actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>g(u),children:"Edit"}),e.jsx("button",{className:`btn-toggle ${u.isActive?"deactivate":"activate"}`,onClick:()=>w(u),children:u.isActive?"Deactivate":"Activate"}),e.jsx("button",{className:"btn-delete",onClick:()=>S(u),children:"Delete"})]})]},u.id))})]}),a&&e.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsx("h2",{children:l?"Edit Company Type":"Create Company Type"}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c,onChange:u=>h(u.target.value),placeholder:"e.g. Solar Lighting EPC, SaaS, Manufacturing",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description (optional)"}),e.jsx("textarea",{value:m,onChange:u=>p(u.target.value),placeholder:"Brief description of this company type...",rows:3})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>i(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",children:l?"Update":"Create"})]})]})]})})]})}function Ev(){const[t,s]=d.useState([]),[n,r]=d.useState(!0),[a,i]=d.useState(!1),[l,o]=d.useState(null),[c,h]=d.useState(""),[m,p]=d.useState("");d.useEffect(()=>{x()},[]);const x=async()=>{try{r(!0);const u=await Y.get("/admin/job-types");s(u.data||[])}catch(u){console.error("Failed to load job types:",u)}finally{r(!1)}},j=()=>{o(null),h(""),p(""),i(!0)},g=u=>{o(u),h(u.name),p(u.description||""),i(!0)},b=async u=>{var f,v;if(u.preventDefault(),!c.trim()){alert("Name is required");return}try{const N={name:c.trim(),description:m.trim()||void 0};l?await Y.patch(`/admin/job-types/${l.id}`,N):await Y.post("/admin/job-types",N),i(!1),x()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||N.message||"Failed to save job type")}},S=async u=>{var f,v;if(window.confirm(`Are you sure you want to delete "${u.name}"?`))try{await Y.delete(`/admin/job-types/${u.id}`),x()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||N.message||"Failed to delete job type")}},w=async u=>{var f,v;try{await Y.patch(`/admin/job-types/${u.id}`,{isActive:!u.isActive}),x()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||N.message||"Failed to toggle active status")}};return e.jsxs("div",{className:"sa-crud-page",children:[e.jsxs("div",{className:"sa-page-header",children:[e.jsx("h1",{children:"Job Types"}),e.jsx("button",{className:"btn-create",onClick:j,children:"+ Create Job Type"})]}),n&&e.jsx("p",{children:"Loading..."}),!n&&t.length===0&&e.jsx("p",{className:"empty-state",children:"No job types found. Create one to get started."}),!n&&t.length>0&&e.jsxs("table",{className:"crud-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(u=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:u.name})}),e.jsx("td",{children:u.description||""}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${u.isActive?"active":"inactive"}`,children:u.isActive?"Active":"Inactive"})}),e.jsx("td",{children:new Date(u.createdAt).toLocaleDateString()}),e.jsxs("td",{className:"actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>g(u),children:"Edit"}),e.jsx("button",{className:`btn-toggle ${u.isActive?"deactivate":"activate"}`,onClick:()=>w(u),children:u.isActive?"Deactivate":"Activate"}),e.jsx("button",{className:"btn-delete",onClick:()=>S(u),children:"Delete"})]})]},u.id))})]}),a&&e.jsx("div",{className:"modal-overlay",onClick:()=>i(!1),children:e.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[e.jsx("h2",{children:l?"Edit Job Type":"Create Job Type"}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Name ",e.jsx("span",{className:"required",children:"*"})]}),e.jsx("input",{type:"text",value:c,onChange:u=>h(u.target.value),placeholder:"e.g. CEO, Project Manager, Engineering Manager",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description (optional)"}),e.jsx("textarea",{value:m,onChange:u=>p(u.target.value),placeholder:"Brief description of this job type...",rows:3})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>i(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-submit",children:l?"Update":"Create"})]})]})]})})]})}const yn="/api/pricing";async function Tv(){try{const t=await fetch(`${yn}/rules`);return t.ok?await t.json():[]}catch{return[]}}async function Lv(){try{const t=await fetch(`${yn}/worker-bonuses`);return t.ok?await t.json():[]}catch{return[]}}async function Iv(){try{const t=await fetch(`${yn}/top-bonus-rules`);return t.ok?await t.json():[]}catch{return[]}}async function Pv(){try{const t=await fetch(`${yn}/overview`);return t.ok?await t.json():[]}catch{return[]}}async function Dv(){try{const t=await fetch(`${yn}/records`);return t.ok?await t.json():[]}catch{return[]}}async function Fv(t){try{const s=await fetch(`${yn}/top-workers?role=${encodeURIComponent(t)}`);return s.ok?await s.json():[]}catch{return[]}}const Ds=["Website Researcher","LinkedIn Researcher","Website Inquirer","LinkedIn Inquirer","Website Inquirer Auditor","LinkedIn Inquirer Auditor","Website Research Auditor","LinkedIn Research Auditor"],_v=()=>{const[t,s]=d.useState([]),[n,r]=d.useState([]),[a,i]=d.useState([]),[l,o]=d.useState([]),[c,h]=d.useState([]),[m,p]=d.useState({"Website Researcher":[],"LinkedIn Researcher":[],"Website Inquirer":[],"LinkedIn Inquirer":[],"Website Inquirer Auditor":[],"LinkedIn Inquirer Auditor":[],"Website Research Auditor":[],"LinkedIn Research Auditor":[]}),[x,j]=d.useState(!0),[g,b]=d.useState(""),[S,w]=d.useState(""),[u,f]=d.useState(""),[v,N]=d.useState(""),[C,_]=d.useState(""),[I,q]=d.useState(null),[z,B]=d.useState(!1);d.useEffect(()=>{j(!0),Promise.all([Tv(),Lv(),Iv(),Pv(),Dv(),...Ds.map(A=>Fv(A))]).then(([A,J,se,L,$,...ee])=>{s(A),r(J),i(se),o(L),h($);const V={"Website Researcher":[],"LinkedIn Researcher":[],"Website Inquirer":[],"LinkedIn Inquirer":[],"Website Inquirer Auditor":[],"LinkedIn Inquirer Auditor":[],"Website Research Auditor":[],"LinkedIn Research Auditor":[]};Ds.forEach((ne,pe)=>{V[ne]=ee[pe]}),p(V),j(!1)})},[]);const R=t.filter(A=>{if(S&&A.role!==S||u&&A.category!==u||C&&A.status!==C)return!1;if(g){const J=g.toLowerCase();if(!A.actionType.toLowerCase().includes(J)&&!A.role.toLowerCase().includes(J)&&!A.category.toLowerCase().includes(J))return!1}return!0}),T=l.filter(A=>!(S&&A.role!==S||u&&A.category!==u||v&&!A.name.toLowerCase().includes(v.toLowerCase()))),E=l.reduce((A,J)=>A+J.pending,0),M=l.reduce((A,J)=>A+J.totalPaid,0),k=l.reduce((A,J)=>A+J.totalEarned-J.totalPaid,0),O=A=>q(A),D=async A=>{s(J=>J.filter(se=>se.id!==A))},y=async(A,J)=>{s(se=>se.map(L=>L.id===A?{...L,status:J}:L))},F=async A=>{s(J=>J.map(se=>se.id===A.id?A:se)),q(null)},P=async A=>{s(J=>[...J,A]),B(!1)};return x?e.jsx("div",{className:"page-loader",children:"Loading Pricing & Payments..."}):e.jsxs("div",{className:"categories-container",children:[e.jsxs("header",{className:"categories-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"Pricing & Payment Configuration"}),e.jsx("p",{children:"Manage action-based pricing, bonuses, and payment lifecycle for all roles and categories."})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-export",onClick:()=>alert("Export coming soon!"),children:"Export Payments"}),e.jsx("button",{className:"btn-add-category",onClick:()=>B(!0),children:"+ Add Pricing Rule"})]})]}),e.jsxs("section",{className:"categories-stats-grid",children:[e.jsx(ce,{title:"Total Pending Payments",value:E.toFixed(2)}),e.jsx(ce,{title:"Total Paid",value:M.toFixed(2)}),e.jsx(ce,{title:"Outstanding Balance",value:k.toFixed(2)})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by action, role, category...",value:g,onChange:A=>b(A.target.value)})}),e.jsxs("div",{className:"filter-group",children:[e.jsxs("select",{value:S,onChange:A=>w(A.target.value),children:[e.jsx("option",{value:"",children:"All Roles"}),Ds.map(A=>e.jsx("option",{value:A,children:A},A))]}),e.jsx("input",{type:"text",placeholder:"Category",value:u,onChange:A=>f(A.target.value)}),e.jsx("input",{type:"text",placeholder:"Worker",value:v,onChange:A=>N(A.target.value)}),e.jsxs("select",{value:C,onChange:A=>_(A.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]}),e.jsx("button",{className:"btn-clear",onClick:()=>{b(""),w(""),f(""),N(""),_("")},children:"Clear"})]})]}),e.jsxs("div",{className:"categories-card",children:[e.jsx("h3",{children:"Pricing Rules"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Action"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Unit Price"}),e.jsx("th",{children:"Bonus"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Effective Date"}),e.jsx("th",{className:"txt-right",children:"Actions"})]})}),e.jsx("tbody",{children:R.map(A=>e.jsxs("tr",{children:[e.jsx("td",{children:A.actionType}),e.jsx("td",{children:e.jsx("span",{className:"category-tag",children:A.role})}),e.jsx("td",{children:A.category}),e.jsx("td",{children:e.jsxs("span",{className:"price-badge",children:["$",A.unitPrice.toFixed(2)]})}),e.jsx("td",{children:e.jsxs("span",{className:"bonus-badge",children:["+$",A.bonus.toFixed(2)]})}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${A.status}`,children:A.status==="active"?"Active":"Inactive"})}),e.jsx("td",{children:A.effectiveDate?new Date(A.effectiveDate).toLocaleDateString():"-"}),e.jsxs("td",{className:"txt-right",children:[e.jsx("button",{className:"btn-icon-act edit",onClick:()=>O(A),children:"Edit"}),e.jsx("button",{className:"btn-icon-act delete",onClick:()=>D(A.id),children:"Delete"}),e.jsx("button",{className:"btn-icon-act",onClick:()=>y(A.id,A.status==="active"?"inactive":"active"),children:A.status==="active"?"Disable":"Enable"})]})]},A.id))})]})})]}),e.jsxs("div",{className:"categories-card",children:[e.jsx("h3",{children:"Bonus Management"}),e.jsxs("div",{children:[e.jsx("h4",{children:"Worker-Specific Bonuses"}),e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Worker"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Bonus"}),e.jsx("th",{children:"Expires At"})]})}),e.jsx("tbody",{children:n.map(A=>e.jsxs("tr",{children:[e.jsx("td",{children:A.workerId}),e.jsx("td",{children:A.role}),e.jsx("td",{children:e.jsxs("span",{className:"bonus-badge",children:["+$",A.bonus.toFixed(2)]})}),e.jsx("td",{children:A.expiresAt?new Date(A.expiresAt).toLocaleDateString():"-"})]},A.id))})]})]}),e.jsxs("div",{style:{marginTop:24},children:[e.jsx("h4",{children:"Top-3 Bonus per Role"}),Ds.map(A=>e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("h5",{children:[A," Top 3"]}),e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Rank"}),e.jsx("th",{children:"Worker"}),e.jsx("th",{children:"Approved Actions"}),e.jsx("th",{children:"Approval Rate"}),e.jsx("th",{children:"Bonus"})]})}),e.jsx("tbody",{children:(m[A]||[]).map(J=>{var se;return e.jsxs("tr",{children:[e.jsx("td",{children:J.rank}),e.jsx("td",{children:J.name}),e.jsx("td",{children:J.approvedActions}),e.jsxs("td",{children:[(J.approvalRate*100).toFixed(1),"%"]}),e.jsx("td",{children:e.jsxs("span",{className:"bonus-badge",children:["+$",(((se=a.find(L=>L.role===A&&L.rank===J.rank))==null?void 0:se.bonus)??0).toFixed(2)]})})]},J.workerId)})})]})]},A))]})]}),e.jsxs("div",{className:"categories-card",children:[e.jsx("h3",{children:"Payment Overview"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Worker"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Total Earned"}),e.jsx("th",{children:"Total Paid"}),e.jsx("th",{children:"Pending"})]})}),e.jsx("tbody",{children:T.map(A=>e.jsxs("tr",{children:[e.jsx("td",{children:A.name}),e.jsx("td",{children:A.role}),e.jsx("td",{children:A.category}),e.jsxs("td",{children:["$",A.totalEarned.toFixed(2)]}),e.jsxs("td",{children:["$",A.totalPaid.toFixed(2)]}),e.jsxs("td",{children:["$",A.pending.toFixed(2)]})]},A.workerId+A.role+A.category))})]})})]}),e.jsxs("div",{className:"categories-card",children:[e.jsx("h3",{children:"Payment History"}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Worker"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Payment Date"}),e.jsx("th",{children:"Notes"})]})}),e.jsx("tbody",{children:c.map(A=>e.jsxs("tr",{children:[e.jsx("td",{children:A.workerId}),e.jsx("td",{children:A.role}),e.jsx("td",{children:A.category}),e.jsxs("td",{children:[new Date(A.periodStart).toLocaleDateString()," - ",new Date(A.periodEnd).toLocaleDateString()]}),e.jsxs("td",{children:["$",A.amount.toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${A.status==="paid"?"active":"inactive"}`,children:A.status.charAt(0).toUpperCase()+A.status.slice(1)})}),e.jsx("td",{children:A.paymentDate?new Date(A.paymentDate).toLocaleDateString():"-"}),e.jsx("td",{children:A.notes||"-"})]},A.id))})]})})]}),(z||I)&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",style:{maxWidth:600},children:[e.jsx("h2",{children:I?"Edit Pricing Rule":"Create Pricing Rule"}),e.jsxs("form",{onSubmit:A=>{A.preventDefault();const J=new FormData(A.currentTarget),se={id:I?I.id:Date.now().toString(),actionType:J.get("actionType"),role:J.get("role"),category:J.get("category"),unitPrice:Number(J.get("unitPrice")),bonus:Number(J.get("bonus")),status:J.get("status"),effectiveDate:J.get("effectiveDate")};I?F(se):P(se)},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Action Type"}),e.jsx("input",{name:"actionType",defaultValue:(I==null?void 0:I.actionType)||"",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsx("select",{name:"role",defaultValue:(I==null?void 0:I.role)||Ds[0],children:Ds.map(A=>e.jsx("option",{value:A,children:A},A))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsx("input",{name:"category",defaultValue:(I==null?void 0:I.category)||"",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Unit Price (USD)"}),e.jsx("input",{type:"number",name:"unitPrice",min:0,step:.01,defaultValue:(I==null?void 0:I.unitPrice)||0,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bonus (USD)"}),e.jsx("input",{type:"number",name:"bonus",min:0,step:.01,defaultValue:(I==null?void 0:I.bonus)||0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",defaultValue:(I==null?void 0:I.status)||"active",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Effective Date"}),e.jsx("input",{type:"date",name:"effectiveDate",defaultValue:I!=null&&I.effectiveDate?I.effectiveDate.slice(0,10):""})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",onClick:()=>{q(null),B(!1)},children:"Cancel"}),e.jsx("button",{type:"submit",children:I?"Save":"Create"})]})]})]})})]})};function Ov(){const[t,s]=d.useState(""),[n]=d.useState([{id:"PERF-001",role:"Researcher",category:"Product A",tasksCompleted:1240,successRate:92,avgTimeMinutes:3.4,earningsUSD:310,status:"Active"},{id:"PERF-002",role:"Inquirer",category:"Product B",tasksCompleted:540,successRate:88,avgTimeMinutes:5.2,earningsUSD:216,status:"Active"},{id:"PERF-003",role:"Reviewer",category:"Product C",tasksCompleted:310,successRate:95,avgTimeMinutes:2.1,earningsUSD:465,status:"Inactive"}]),r=n.reduce((i,l)=>i+l.tasksCompleted,0),a=n.reduce((i,l)=>i+l.successRate,0)/n.length;return e.jsxs("div",{className:"categories-container",children:[e.jsx("div",{className:"wip-banner",children:e.jsx("span",{children:"SYSTEM MODULE: WORK IN PROGRESS (W.I.P)"})}),e.jsxs("header",{className:"categories-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"Role Performance"}),e.jsx("p",{children:"Operational analytics by role and category."})]}),e.jsx("div",{className:"header-actions",children:e.jsx("button",{className:"btn-export",children:"Export Metrics"})})]}),e.jsxs("section",{className:"categories-stats-grid",children:[e.jsx(ce,{title:"Total Tasks",value:r}),e.jsx(ce,{title:"Avg Success Rate",value:`${a.toFixed(1)}%`}),e.jsx(ce,{title:"Active Roles",value:n.filter(i=>i.status==="Active").length}),e.jsx(ce,{title:"Total Earnings ($)",value:n.reduce((i,l)=>i+l.earningsUSD,0)})]}),e.jsxs("div",{className:"management-bar",children:[e.jsx("div",{className:"search-box",children:e.jsx("input",{type:"text",placeholder:"Search by role, category or ID...",value:t,onChange:i=>s(i.target.value)})}),e.jsxs("div",{className:"filter-group",children:[e.jsx("select",{children:e.jsx("option",{children:"Role: All"})}),e.jsx("select",{children:e.jsx("option",{children:"Category: All"})}),e.jsx("button",{className:"btn-clear",children:"Clear"})]})]}),e.jsx("div",{className:"categories-card",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Role / Category"}),e.jsx("th",{className:"txt-center",children:"Tasks"}),e.jsx("th",{className:"txt-center",children:"Success"}),e.jsx("th",{className:"txt-center",children:"Avg Time"}),e.jsx("th",{className:"txt-center",children:"Earnings"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:n.map(i=>e.jsxs("tr",{className:"cat-row",children:[e.jsx("td",{children:e.jsxs("div",{className:"cat-info-cell",children:[e.jsx("span",{className:"cat-id",children:i.id}),e.jsx("strong",{className:"cat-name",children:i.role}),e.jsx("span",{className:"perf-category",children:i.category})]})}),e.jsx("td",{className:"txt-center",children:e.jsx("span",{className:"count-badge",children:i.tasksCompleted})}),e.jsx("td",{className:"txt-center",children:e.jsxs("span",{className:"success-rate",children:[i.successRate,"%"]})}),e.jsx("td",{className:"txt-center",children:e.jsxs("span",{className:"avg-time",children:[i.avgTimeMinutes," min"]})}),e.jsx("td",{className:"txt-center",children:e.jsxs("span",{className:"earnings",children:["$",i.earningsUSD]})}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${i.status.toLowerCase()}`,children:i.status})})]},i.id))})]})})})]})}const Uv=[10,25,50,100];function qv(){const[t,s]=d.useState([]),[n,r]=d.useState(0),[a,i]=d.useState(!0),[l,o]=d.useState({search:"",dateFrom:"",dateTo:"",role:"",actionType:"",entityType:"",severity:"",requiresAttention:"",category:"",page:1,pageSize:25}),[c,h]=d.useState(null);d.useEffect(()=>{i(!0);const j=new URLSearchParams;l.search&&j.append("search",l.search),l.dateFrom&&j.append("dateFrom",l.dateFrom),l.dateTo&&j.append("dateTo",l.dateTo),l.role&&j.append("role",l.role),l.actionType&&j.append("actionType",l.actionType),l.entityType&&j.append("entityType",l.entityType),l.severity&&j.append("severity",l.severity),l.requiresAttention&&j.append("requiresAttention",l.requiresAttention),l.category&&j.append("category",l.category),j.append("page",l.page.toString()),j.append("pageSize",l.pageSize.toString()),fetch(`/api/admin/system-logs?${j.toString()}`).then(g=>g.json()).then(g=>{s(g.logs||[]),r(g.total||0),i(!1)})},[JSON.stringify(l)]);const m=["INFO","WARNING","CRITICAL"],p=["USER","TASK","ACTION","INQUIRY","CATEGORY","ROLE","PRICING","PAYMENT","NOTICE","SYSTEM"],x=Math.ceil(n/l.pageSize);return e.jsxs("div",{className:"categories-container",children:[e.jsx("header",{className:"categories-header",children:e.jsxs("div",{className:"header-left",children:[e.jsx("h1",{children:"System Logs"}),e.jsx("p",{children:"All system changes, approvals, and critical events are recorded here for audit and traceability."})]})}),e.jsxs("div",{className:"logs-filter-bar",children:[e.jsx("input",{type:"text",placeholder:"Search event, actor, entity...",value:l.search,onChange:j=>o(g=>({...g,search:j.target.value,page:1}))}),e.jsxs("div",{className:"logs-filters",children:[e.jsxs("select",{value:l.entityType,onChange:j=>o(g=>({...g,entityType:j.target.value,page:1})),children:[e.jsx("option",{value:"",children:"All Entities"}),p.map(j=>e.jsx("option",{value:j,children:j},j))]}),e.jsxs("select",{value:l.severity,onChange:j=>o(g=>({...g,severity:j.target.value,page:1})),children:[e.jsx("option",{value:"",children:"All Severity"}),m.map(j=>e.jsx("option",{value:j,children:j},j))]}),e.jsxs("select",{value:l.role,onChange:j=>o(g=>({...g,role:j.target.value,page:1})),children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"Super Admin",children:"Super Admin"}),e.jsx("option",{value:"Sub Admin",children:"Sub Admin"}),e.jsx("option",{value:"Website Researcher",children:"Website Researcher"}),e.jsx("option",{value:"LinkedIn Researcher",children:"LinkedIn Researcher"}),e.jsx("option",{value:"Website Inquirer",children:"Website Inquirer"}),e.jsx("option",{value:"LinkedIn Inquirer",children:"LinkedIn Inquirer"}),e.jsx("option",{value:"Website Reviewer",children:"Website Reviewer"}),e.jsx("option",{value:"LinkedIn Reviewer",children:"LinkedIn Reviewer"})]}),e.jsxs("select",{value:l.actionType,onChange:j=>o(g=>({...g,actionType:j.target.value,page:1})),children:[e.jsx("option",{value:"",children:"All Actions"}),e.jsx("option",{value:"CREATE",children:"CREATE"}),e.jsx("option",{value:"UPDATE",children:"UPDATE"}),e.jsx("option",{value:"DELETE",children:"DELETE"}),e.jsx("option",{value:"APPROVE",children:"APPROVE"}),e.jsx("option",{value:"REJECT",children:"REJECT"}),e.jsx("option",{value:"FLAG",children:"FLAG"})]}),e.jsxs("select",{value:l.requiresAttention,onChange:j=>o(g=>({...g,requiresAttention:j.target.value,page:1})),children:[e.jsx("option",{value:"",children:"Attention?"}),e.jsx("option",{value:"true",children:"Yes"}),e.jsx("option",{value:"false",children:"No"})]}),e.jsx("input",{type:"date",value:l.dateFrom,onChange:j=>o(g=>({...g,dateFrom:j.target.value,page:1})),style:{width:120}}),e.jsx("input",{type:"date",value:l.dateTo,onChange:j=>o(g=>({...g,dateTo:j.target.value,page:1})),style:{width:120}}),e.jsx("input",{type:"text",placeholder:"Category",value:l.category,onChange:j=>o(g=>({...g,category:j.target.value,page:1})),style:{width:120}}),e.jsx("select",{value:l.pageSize,onChange:j=>o(g=>({...g,pageSize:Number(j.target.value),page:1})),children:Uv.map(j=>e.jsxs("option",{value:j,children:[j,"/page"]},j))})]}),e.jsx("button",{className:"btn-clear",onClick:()=>o({search:"",dateFrom:"",dateTo:"",role:"",actionType:"",entityType:"",severity:"",requiresAttention:"",category:"",page:1,pageSize:25}),children:"Clear"})]}),e.jsxs("div",{className:"categories-card",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"categories-table activity-feed extended",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Severity"}),e.jsx("th",{children:"Event"}),e.jsx("th",{children:"Entity"}),e.jsx("th",{children:"Actor"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Attention"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:"Loading..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:"No logs found."})}):t.map(j=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(j.createdAt).toLocaleString()}),e.jsx("td",{children:e.jsx("span",{className:`status-pill ${j.severity.toLowerCase()}`,children:j.severity})}),e.jsxs("td",{children:[e.jsx("b",{children:j.actionType}),e.jsx("br",{}),e.jsx("span",{style:{fontSize:12},children:j.shortDescription})]}),e.jsxs("td",{children:[e.jsx("span",{className:"category-tag",children:j.entityType}),e.jsx("br",{}),e.jsx("span",{style:{fontSize:12},children:j.entityId||"-"})]}),e.jsxs("td",{children:[e.jsx("span",{children:j.actorName}),e.jsx("br",{}),e.jsx("span",{style:{fontSize:12,color:"#64748b"},children:j.actorRole})]}),e.jsx("td",{children:j.categoryId||"-"}),e.jsx("td",{children:j.requiresAttention?e.jsx("span",{className:"status-pill warning",children:"Yes"}):e.jsx("span",{className:"status-pill",children:"No"})}),e.jsx("td",{children:e.jsx("button",{className:"btn-icon-act",onClick:()=>h(j),children:"View details"})})]},j.id))})]})}),e.jsxs("div",{style:{marginTop:16,display:"flex",justifyContent:"flex-end",gap:8},children:[e.jsx("button",{disabled:l.page===1,onClick:()=>o(j=>({...j,page:j.page-1})),children:"Prev"}),e.jsxs("span",{children:["Page ",l.page," / ",x||1]}),e.jsx("button",{disabled:l.page===x||x===0,onClick:()=>o(j=>({...j,page:j.page+1})),children:"Next"})]})]}),c&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",style:{maxWidth:700},children:[e.jsx("h2",{children:"Log Details"}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("b",{children:c.actionType}),"  ",c.shortDescription]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("b",{children:"Actor:"})," ",c.actorName," (",c.actorRole,")",e.jsx("br",{}),e.jsx("b",{children:"Entity:"})," ",c.entityType," ",c.entityId?`(${c.entityId})`:"",e.jsx("br",{}),e.jsx("b",{children:"Category:"})," ",c.categoryId||"-",e.jsx("br",{}),e.jsx("b",{children:"Severity:"})," ",e.jsx("span",{className:`status-pill ${c.severity.toLowerCase()}`,children:c.severity}),e.jsx("br",{}),e.jsx("b",{children:"Requires Attention:"})," ",c.requiresAttention?"Yes":"No",e.jsx("br",{}),e.jsx("b",{children:"Timestamp:"})," ",new Date(c.createdAt).toLocaleString()]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("b",{children:"Before State:"}),e.jsx("pre",{style:{background:"#f3f4f6",padding:8,borderRadius:6,maxHeight:180,overflow:"auto"},children:c.beforeState?JSON.stringify(c.beforeState,null,2):"-"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("b",{children:"After State:"}),e.jsx("pre",{style:{background:"#f3f4f6",padding:8,borderRadius:6,maxHeight:180,overflow:"auto"},children:c.afterState?JSON.stringify(c.afterState,null,2):"-"})]}),e.jsx("div",{style:{marginTop:16,display:"flex",gap:12,justifyContent:"flex-end"},children:e.jsx("button",{type:"button",onClick:()=>h(null),children:"Close"})})]})})]})}function Mv(){const[t,s]=d.useState([]),[n,r]=d.useState([]),[a,i]=d.useState([]),[l,o]=d.useState(null),[c,h]=d.useState([]),[m,p]=d.useState(!1),[x,j]=d.useState(!1),[g,b]=d.useState("");d.useEffect(()=>{S()},[]),d.useEffect(()=>{const N=g.toLowerCase(),C=t.filter(_=>_.name.toLowerCase().includes(N)||_.email.toLowerCase().includes(N));r(C)},[g,t]);const S=async()=>{p(!0);try{const[N,C]=await Promise.all([Do({limit:1e3}),gr()]),_=(N==null?void 0:N.users)||N||[];s(_),r(_),i(Array.isArray(C)?C:(C==null?void 0:C.categories)||[])}catch(N){console.error("Failed to load data:",N)}finally{p(!1)}},w=async N=>{if(N.role!=="super_admin"){o(N),p(!0);try{const C=await Ny(N.id);h(C.map(_=>_.id))}catch(C){console.error("Failed to load user categories:",C),h([])}finally{p(!1)}}},u=N=>{h(C=>C.includes(N)?C.filter(_=>_!==N):[...C,N])},f=async()=>{var N,C;if(!l||c.length===0){alert("Please select at least one category");return}j(!0);try{await vy(l.id,c),alert("Categories assigned successfully!")}catch(_){alert(((C=(N=_.response)==null?void 0:N.data)==null?void 0:C.message)||"Failed to assign categories")}finally{j(!1)}},v=(l==null?void 0:l.role)==="super_admin";return m&&t.length===0?e.jsx("div",{style:{padding:"40px",textAlign:"center"},children:"Loading..."}):e.jsxs("div",{style:{padding:"40px",background:"#f8fafc",minHeight:"100vh",fontFamily:"Inter, sans-serif"},children:[e.jsx("h1",{style:{fontSize:"28px",fontWeight:"800",marginBottom:"30px"},children:"Worker Category Assignment"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"350px 1fr",gap:"30px"},children:[e.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"20px",border:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{marginTop:0,marginBottom:"15px",fontSize:"16px"},children:"Select User"}),e.jsx("input",{type:"text",placeholder:"Search by name or email...",value:g,onChange:N=>b(N.target.value),style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"}}),e.jsx("div",{style:{maxHeight:"600px",overflowY:"auto"},children:n.length===0?e.jsx("div",{style:{textAlign:"center",color:"#94a3b8",padding:"20px"},children:"No users found"}):n.map(N=>e.jsxs("div",{onClick:()=>w(N),style:{padding:"12px",borderRadius:"8px",marginBottom:"8px",cursor:N.role==="super_admin"?"not-allowed":"pointer",background:(l==null?void 0:l.id)===N.id?"#eff6ff":"#f8fafc",border:(l==null?void 0:l.id)===N.id?"2px solid #3b82f6":"1px solid #e2e8f0",opacity:N.role==="super_admin"?.6:1},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"14px"},children:N.name}),e.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:N.email}),e.jsx("div",{style:{fontSize:"11px",color:"#3b82f6",marginTop:"4px"},children:N.role})]},N.id))})]}),e.jsx("div",{style:{background:"white",borderRadius:"16px",padding:"30px",border:"1px solid #e2e8f0"},children:l?v?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:"20px",background:"#fee2e2",borderRadius:"12px",border:"2px solid #fca5a5",marginBottom:"20px"},children:[e.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#dc2626",marginBottom:"8px"},children:" Super Admin users cannot be assigned to categories"}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:"#991b1b"},children:"Super Admins have access to all categories and tasks by default. Category assignment is only for workers (researchers, inquirers, auditors, etc.)."})]}),e.jsx("button",{disabled:!0,style:{padding:"15px 30px",background:"#d1d5db",color:"#6b7280",border:"none",borderRadius:"12px",fontWeight:"700",fontSize:"14px",cursor:"not-allowed",width:"100%"},children:"Save Category Assignment (Disabled for Super Admin)"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"30px"},children:[e.jsxs("h2",{style:{margin:0,fontSize:"20px"},children:["Assign Categories to: ",e.jsx("span",{style:{color:"#3b82f6"},children:l.name})]}),e.jsxs("p",{style:{color:"#64748b",fontSize:"14px",marginTop:"5px"},children:["Role: ",l.role]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px",marginBottom:"30px"},children:a.map(N=>e.jsxs("div",{onClick:()=>u(N.id),style:{padding:"15px",borderRadius:"12px",cursor:"pointer",background:c.includes(N.id)?"#3b82f6":"#f8fafc",color:c.includes(N.id)?"white":"#1e293b",border:c.includes(N.id)?"2px solid #2563eb":"1px solid #e2e8f0",fontWeight:"600",fontSize:"14px",transition:"all 0.2s"},children:[c.includes(N.id)&&e.jsx("span",{style:{marginRight:"8px"},children:""}),N.name]},N.id))}),e.jsxs("div",{style:{padding:"20px",background:"#eff6ff",borderRadius:"12px",marginBottom:"20px"},children:[e.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"8px"},children:["Selected Categories: ",c.length]}),c.length===0&&e.jsx("div",{style:{fontSize:"12px",color:"#ef4444"},children:" User must have at least one category to see any tasks!"})]}),e.jsx("button",{onClick:f,disabled:x||c.length===0,style:{padding:"15px 30px",background:c.length>0?"#3b82f6":"#94a3b8",color:"white",border:"none",borderRadius:"12px",fontWeight:"700",fontSize:"14px",cursor:c.length>0?"pointer":"not-allowed",width:"100%"},children:x?"Saving...":"Save Category Assignment"})]}):e.jsxs("div",{style:{textAlign:"center",padding:"60px",color:"#94a3b8"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"15px"},children:""}),e.jsx("p",{children:"Select a user to assign categories"})]})})]})]})}const Ke={getMyCategories:async()=>(await Y.get("/users/me/categories")).data,getWebsiteTasks:async t=>{const s=t?{categoryId:t}:{};return(await Y.get("/research/tasks/website",{params:s})).data},getLinkedInTasks:async t=>{const s=t?{categoryId:t}:{};return(await Y.get("/research/tasks/linkedin",{params:s})).data},claimTask:async t=>(await Y.post(`/research/tasks/${t}/claim`)).data,submitTask:async t=>(await Y.post("/research/tasks/submit",t)).data,submitLinkedinTask:async t=>(await Y.post("/research/tasks/submit",t)).data,checkDuplicate:async(t,s)=>{var n;try{return await Y.post("/research",{targetType:"COMPANY",categoryId:s,nameOrUrl:t,domainOrProfile:t,country:"US"}),!1}catch(r){if(((n=r.response)==null?void 0:n.status)===409)return!0;throw r}}};function ms(){return gn()}function zv(){const{user:t}=ms(),[s,n]=d.useState([]),[r,a]=d.useState(null),[i,l]=d.useState(!1),[o,c]=d.useState(null),[h,m]=d.useState(""),[p,x]=d.useState(!1),[j,g]=d.useState([]),[b,S]=d.useState(""),[w,u]=d.useState(!0),[f,v]=d.useState(!1),[N,C]=d.useState({companyName:"",country:"",language:""});d.useEffect(()=>{_()},[t==null?void 0:t.id]),d.useEffect(()=>{b&&I()},[b]);const _=async()=>{if(t!=null&&t.id)try{u(!0);const k=await Ke.getMyCategories();console.log("Raw categories from API:",k),console.log("Category count:",k==null?void 0:k.length),k&&k.length>0&&(console.log("First category ID:",k[0].id),console.log("All category IDs:",k.map(D=>D.id)));const O=k&&k.length>0?Array.from(new Map(k.map(D=>[D.id,D])).values()):[];console.log("After deduplication:",O.length,"unique categories"),g(O),O&&O.length===1?S(O[0].id):O&&O.length>1&&S("")}catch(k){console.error("Failed to load categories:",k),c("Failed to load your assigned categories")}finally{u(!1)}};d.useEffect(()=>{b&&I()},[b]);const I=async()=>{var k,O;try{l(!0),c(null);const D=await Ke.getWebsiteTasks(b||void 0);console.log("Loaded tasks for category:",b,"Count:",D==null?void 0:D.length),n(D||[]),a(null),C({companyName:"",country:"",language:""})}catch(D){c(((O=(k=D.response)==null?void 0:k.data)==null?void 0:O.message)||"Failed to load tasks"),console.error("Error loading tasks:",D)}finally{l(!1)}},q=k=>{a(k),k.status==="in_progress"?C({companyName:k.name||"",country:k.country||"",language:""}):C({companyName:"",country:"",language:""}),v(!1)},z=async()=>{var k,O,D;if(r)try{l(!0),console.log("[CLAIM] Claiming task:",r.id);const y=await Ke.claimTask(r.id);if(console.log("[CLAIM] Claim response:",y),console.log("[CLAIM] Response assignedToUserId:",y==null?void 0:y.assignedToUserId),!y)throw new Error("No response from claim endpoint");const F=s.map(A=>A.id===r.id?{...A,status:"in_progress",assignedToUserId:(t==null?void 0:t.id)||null}:A);n(F);const P={...r,status:"in_progress",assignedToUserId:(t==null?void 0:t.id)||null};a(P),console.log("[CLAIM] Task successfully claimed and updated in state"),C({companyName:r.name||"",country:r.country||"",language:""})}catch(y){console.error("[CLAIM] Error claiming task:",y),console.error("[CLAIM] Error response:",(k=y.response)==null?void 0:k.data),alert(((D=(O=y.response)==null?void 0:O.data)==null?void 0:D.message)||"Failed to claim task")}finally{l(!1)}},B=async()=>{var k,O,D;if(r){if(r.status!=="in_progress"){alert("Please claim this task before submitting");return}if(!N.companyName||!N.companyName.trim()){alert("Please provide the company name");return}if(!N.country||!N.country.trim()){alert("Please provide the country");return}if(!N.language||!N.language.trim()){alert("Please provide the website language");return}try{x(!0);const y={taskId:r.id,language:N.language.trim(),companyName:N.companyName.trim(),country:N.country.trim()};console.log("[SUBMIT] Submitting task:",r.id),console.log("[SUBMIT] Payload:",y),console.log("[SUBMIT] Active task status:",r.status),await Ke.submitTask(y),console.log("[SUBMIT] Task submitted successfully");const F={...r,status:"submitted",name:N.companyName,country:N.country},P=s.map(A=>A.id===r.id?F:A);n(P),a(F),v(!0)}catch(y){console.error("[SUBMIT] Submit error:",y),console.error("[SUBMIT] Error response:",(k=y.response)==null?void 0:k.data),alert(((D=(O=y.response)==null?void 0:O.data)==null?void 0:D.message)||"Failed to submit research")}finally{x(!1)}}},R=s.filter(k=>k.domain.toLowerCase().includes(h.toLowerCase())),T=s.filter(k=>k.status==="in_progress").length,E=s.filter(k=>k.status==="submitted").length,M=k=>k.status==="submitted"?"#22c55e":k.assignedToUserId&&(t==null?void 0:t.id)&&k.assignedToUserId===t.id?"#eab308":"#ef4444";return e.jsxs("div",{className:"wb-res-tasks-container",children:[e.jsxs("header",{className:"wb-res-header",children:[e.jsxs("div",{className:"wb-res-title",children:[e.jsx("h1",{children:"Website Intelligence Terminal"}),e.jsx("p",{children:"Analyze assigned domains and extract validated corporate intelligence."})]}),e.jsxs("div",{className:"wb-res-stats",children:[e.jsxs("div",{className:"res-stat-item",children:["Active Tasks: ",T]}),e.jsxs("div",{className:"res-stat-item",children:["Daily Progress: ",E]})]})]}),o&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:o}),w&&e.jsx("div",{style:{background:"#f0f9ff",padding:"20px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:"Loading your assigned categories..."}),!w&&j.length===0&&e.jsxs("div",{style:{background:"#fee2e2",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fca5a5"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#dc2626"},children:" No Categories Assigned"}),e.jsx("p",{style:{margin:0,color:"#991b1b"},children:"You are not assigned to any category. Please contact an administrator to assign you to categories before you can access research tasks."})]}),!w&&j.length>0&&j.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:b,onChange:k=>S(k.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),j.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]}),!w&&j.length>0&&!b&&j.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view available tasks."})}),o&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:o}),j.length>0&&b&&e.jsxs("div",{className:"wb-res-main",children:[e.jsxs("aside",{className:"wb-res-list",children:[e.jsx("div",{className:"list-search",children:e.jsx("input",{type:"text",placeholder:"Search domain...",value:h,onChange:k=>m(k.target.value)})}),i&&s.length===0&&e.jsx("div",{className:"empty-list",children:e.jsx("p",{children:"Loading tasks..."})}),!i&&R.length===0&&e.jsx("div",{className:"empty-list",children:e.jsx("p",{children:"No tasks available."})}),R.map(k=>e.jsxs("div",{className:`target-card ${(r==null?void 0:r.id)===k.id?"active":""}`,onClick:()=>q(k),children:[e.jsx("div",{className:"priority-line",style:{backgroundColor:M(k),height:"4px"}}),e.jsxs("div",{className:"target-card-info",children:[e.jsx("h4",{children:k.domain}),e.jsxs("div",{className:"target-card-meta",children:[e.jsx("span",{children:k.country}),e.jsx("span",{children:""}),e.jsx("span",{children:k.priority.toUpperCase()}),e.jsx("span",{children:""}),e.jsx("span",{children:k.status.replace("_"," ")})]})]})]},k.id))]}),e.jsx("main",{className:"wb-res-editor",children:r?e.jsxs("div",{className:"editor-view",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("h2",{children:["Inspecting:"," ",e.jsx("span",{className:"domain-txt",children:r.domain})]}),e.jsx("button",{className:"btn-open-site",onClick:()=>window.open(`https://${r.domain}`,"_blank"),children:"Open Website "})]}),r.status==="unassigned"&&e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsxs("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#92400e"},children:" Task Not Claimed"}),e.jsx("p",{style:{margin:"0 0 15px 0",color:"#78350f"},children:"You must claim this task before you can enter research data."})]}),e.jsxs("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsxs("div",{style:{marginBottom:"10px",color:"#64748b",fontSize:"14px"},children:[e.jsx("strong",{children:"Domain:"})," ",r.domain]}),r.name&&e.jsxs("div",{style:{marginBottom:"10px",color:"#64748b",fontSize:"14px"},children:[e.jsx("strong",{children:"Company:"})," ",r.name]}),e.jsxs("div",{style:{marginBottom:"10px",color:"#64748b",fontSize:"14px"},children:[e.jsx("strong",{children:"Country:"})," ",r.country]})]}),e.jsx("button",{className:"btn-submit-task",onClick:z,disabled:i,style:{padding:"12px 40px",fontSize:"16px"},children:i?"Claiming...":"Claim Task"})]}),r.status==="in_progress"&&e.jsxs("div",{className:"editor-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Link (Domain)"}),e.jsx("input",{type:"text",value:r.domain,disabled:!0,style:{background:"#f1f5f9",cursor:"not-allowed",fontWeight:"500"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#64748b",fontSize:"12px"},children:"System-provided, cannot be changed"})]}),e.jsx("hr",{style:{margin:"20px 0",border:"none",borderTop:"1px solid #e2e8f0"}}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Company Name ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Enter or verify company name...",value:N.companyName,onChange:k=>C({...N,companyName:k.target.value}),style:{borderColor:"#3b82f6"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#64748b",fontSize:"12px"},children:"Verify or correct the company name from the website"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Country ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Enter or verify country...",value:N.country,onChange:k=>C({...N,country:k.target.value}),style:{borderColor:"#3b82f6"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#64748b",fontSize:"12px"},children:"Verify or correct the country from the website"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Website Language ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"e.g., English, Spanish, French, German...",value:N.language,onChange:k=>C({...N,language:k.target.value}),style:{borderColor:"#3b82f6"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#64748b",fontSize:"12px"},children:"Primary language of the website content"})]}),e.jsx("div",{className:"action-row",style:{marginTop:"30px"},children:e.jsx("button",{className:"btn-submit-task",onClick:B,disabled:p,style:{width:"100%",padding:"12px"},children:p?"Submitting...":"Submit for Audit"})})]}),r.status==="submitted"&&e.jsxs("div",{className:"editor-content",children:[e.jsxs("div",{style:{background:"#d1fae5",padding:"20px",borderRadius:"8px",marginBottom:"20px",color:"#065f46",border:"2px solid #10b981"},children:[e.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:" Submission Successful"}),e.jsx("p",{style:{margin:0,fontSize:"14px"},children:"Your research has been submitted and is now awaiting audit review."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Link (Domain)"}),e.jsx("input",{type:"text",value:r.domain,disabled:!0,style:{background:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:N.companyName||r.name||"",disabled:!0,style:{background:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country"}),e.jsx("input",{type:"text",value:N.country||r.country||"",disabled:!0,style:{background:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Website Language"}),e.jsx("input",{type:"text",value:N.language||"",disabled:!0,style:{background:"#f1f5f9"}})]}),e.jsx("div",{className:"action-row",style:{marginTop:"30px"},children:e.jsx("button",{className:"btn-submit-task",onClick:()=>{n(k=>k.filter(O=>O.id!==r.id)),a(null),C({companyName:"",country:"",language:""}),v(!1)},style:{width:"100%",padding:"12px",background:"#22c55e"},children:" Done - Select Next Task"})})]})]}):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:""}),e.jsx("h3",{children:"Select a domain to start research"}),e.jsx("p",{children:"Choose a task from the left panel to begin."})]})})]})]})}function Bv(){const{user:t}=ms(),[s,n]=d.useState([]),[r,a]=d.useState(null),[i,l]=d.useState(!1),[o,c]=d.useState(null),[h,m]=d.useState(""),[p,x]=d.useState(!1),[j,g]=d.useState([]),[b,S]=d.useState(""),[w,u]=d.useState(!0),[f,v]=d.useState(!1),[N,C]=d.useState({contactName:"",contactLinkedinUrl:"",country:"",language:""});d.useEffect(()=>{_()},[t==null?void 0:t.id]),d.useEffect(()=>{b&&I()},[b]);const _=async()=>{if(t!=null&&t.id)try{u(!0);const k=await Ke.getMyCategories(),O=k&&k.length>0?Array.from(new Map(k.map(D=>[D.id,D])).values()):[];g(O),O&&O.length===1?S(O[0].id):O&&O.length>1&&S("")}catch(k){console.error("Failed to load categories:",k),c("Failed to load your assigned categories")}finally{u(!1)}},I=async()=>{var k,O;try{l(!0),c(null);const D=await Ke.getLinkedInTasks(b||void 0);n(D||[]),a(null),C({contactName:"",contactLinkedinUrl:"",country:"",language:""})}catch(D){c(((O=(k=D.response)==null?void 0:k.data)==null?void 0:O.message)||"Failed to load tasks"),console.error("Error loading tasks:",D)}finally{l(!1)}},q=k=>{a(k),k.status==="in_progress"?C({contactName:k.name||"",contactLinkedinUrl:k.domain||"",country:k.country||"",language:""}):C({contactName:"",contactLinkedinUrl:"",country:"",language:""}),v(!1)},z=async()=>{var k,O;if(r)try{if(l(!0),!await Ke.claimTask(r.id))throw new Error("No response from claim endpoint");const y=s.map(P=>P.id===r.id?{...P,status:"in_progress",assignedToUserId:(t==null?void 0:t.id)||null}:P);n(y);const F={...r,status:"in_progress",assignedToUserId:(t==null?void 0:t.id)||null};a(F),C({contactName:F.name||"",contactLinkedinUrl:F.domain||"",country:F.country||"",language:""})}catch(D){console.error("[CLAIM] Error claiming task:",D),alert(((O=(k=D.response)==null?void 0:k.data)==null?void 0:O.message)||"Failed to claim task")}finally{l(!1)}},B=async()=>{var k,O;if(r){if(r.status!=="in_progress"){alert("Please claim this task before submitting");return}if(!N.contactName.trim()){alert("Please provide the contact name");return}if(!N.contactLinkedinUrl.trim()){alert("Please provide the contact LinkedIn link");return}if(!N.country.trim()){alert("Please provide the country");return}if(!N.language.trim()){alert("Please provide the language");return}try{x(!0);const D={taskId:r.id,contactName:N.contactName.trim(),contactLinkedinUrl:N.contactLinkedinUrl.trim(),country:N.country.trim(),language:N.language.trim()};await Ke.submitLinkedinTask(D);const y=s.map(P=>P.id===r.id?{...P,status:"submitted"}:P);n(y);const F={...r,status:"submitted"};a(F),v(!0)}catch(D){console.error("[SUBMIT] Submit error:",D),alert(((O=(k=D.response)==null?void 0:k.data)==null?void 0:O.message)||"Failed to submit research")}finally{x(!1)}}},R=s.filter(k=>(k.domain||"").toLowerCase().includes(h.toLowerCase())),T=s.filter(k=>k.status==="in_progress").length,E=s.filter(k=>k.status==="submitted").length,M=k=>k.status==="submitted"?"#22c55e":k.assignedToUserId&&(t==null?void 0:t.id)&&k.assignedToUserId===t.id?"#eab308":"#ef4444";return e.jsxs("div",{className:"wb-res-tasks-container",children:[e.jsxs("header",{className:"wb-res-header",children:[e.jsxs("div",{className:"wb-res-title",children:[e.jsx("h1",{children:"LinkedIn Research Terminal"}),e.jsx("p",{children:"Analyze assigned LinkedIn profiles and submit validated contact details."})]}),e.jsxs("div",{className:"wb-res-stats",children:[e.jsxs("div",{className:"res-stat-item",children:["Active Tasks: ",T]}),e.jsxs("div",{className:"res-stat-item",children:["Daily Progress: ",E]})]})]}),o&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:o}),w&&e.jsx("div",{style:{background:"#f0f9ff",padding:"20px",borderRadius:"8px",marginBottom:"20px",textAlign:"center"},children:"Loading your assigned categories..."}),!w&&j.length===0&&e.jsxs("div",{style:{background:"#fee2e2",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fca5a5"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#dc2626"},children:" No Categories Assigned"}),e.jsx("p",{style:{margin:0,color:"#991b1b"},children:"You are not assigned to any category. Please contact an administrator to assign you to categories before you can access research tasks."})]}),!w&&j.length>0&&j.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:b,onChange:k=>S(k.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),j.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]}),!w&&j.length>0&&!b&&j.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view available tasks."})}),j.length>0&&b&&e.jsxs("div",{className:"wb-res-main",children:[e.jsxs("aside",{className:"wb-res-list",children:[e.jsx("div",{className:"list-search",children:e.jsx("input",{type:"text",placeholder:"Search profile URL...",value:h,onChange:k=>m(k.target.value)})}),i&&s.length===0&&e.jsx("div",{className:"empty-list",children:e.jsx("p",{children:"Loading tasks..."})}),!i&&R.length===0&&e.jsx("div",{className:"empty-list",children:e.jsx("p",{children:"No tasks available."})}),R.map(k=>e.jsxs("div",{className:`target-card ${(r==null?void 0:r.id)===k.id?"active":""}`,onClick:()=>q(k),children:[e.jsx("div",{className:"priority-line",style:{backgroundColor:M(k),height:"4px"}}),e.jsxs("div",{className:"target-card-info",children:[e.jsx("h4",{children:k.domain}),e.jsxs("div",{className:"target-card-meta",children:[e.jsx("span",{children:k.country}),e.jsx("span",{children:""}),e.jsx("span",{children:k.priority.toUpperCase()}),e.jsx("span",{children:""}),e.jsx("span",{children:k.status.replace("_"," ")})]})]})]},k.id))]}),e.jsx("main",{className:"wb-res-editor",children:r?e.jsxs("div",{className:"editor-view",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("h2",{children:["Inspecting: ",e.jsx("span",{className:"domain-txt",children:r.domain})]}),e.jsx("button",{className:"btn-open-site",onClick:()=>window.open(r.domain.startsWith("http")?r.domain:`https://${r.domain}`,"_blank"),children:"Open Profile "})]}),r.status==="unassigned"&&e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsxs("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#92400e"},children:" Task Not Claimed"}),e.jsx("p",{style:{margin:"0 0 15px 0",color:"#78350f"},children:"You must claim this task before you can enter research data."})]}),e.jsxs("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsxs("div",{style:{marginBottom:"10px",color:"#64748b",fontSize:"14px"},children:[e.jsx("strong",{children:"Profile:"})," ",r.domain]}),r.country&&e.jsxs("div",{style:{marginBottom:"10px",color:"#64748b",fontSize:"14px"},children:[e.jsx("strong",{children:"Country:"})," ",r.country]})]}),e.jsx("button",{className:"btn-submit-task",onClick:z,disabled:i,style:{padding:"12px 40px",fontSize:"16px"},children:i?"Claiming...":"Claim Task"})]}),r.status==="in_progress"&&e.jsxs("div",{className:"editor-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"LinkedIn Profile URL"}),e.jsx("input",{type:"text",value:r.domain,disabled:!0,style:{background:"#f1f5f9",cursor:"not-allowed",fontWeight:"500"}}),e.jsx("small",{style:{display:"block",marginTop:"6px",color:"#64748b",fontSize:"12px"},children:"System-provided, cannot be changed"})]}),e.jsx("hr",{style:{margin:"20px 0",border:"none",borderTop:"1px solid #e2e8f0"}}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Contact Name ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Enter or verify contact name...",value:N.contactName,onChange:k=>C({...N,contactName:k.target.value}),style:{borderColor:"#3b82f6"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Contact LinkedIn Link ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"https://linkedin.com/in/...",value:N.contactLinkedinUrl,onChange:k=>C({...N,contactLinkedinUrl:k.target.value}),style:{borderColor:"#3b82f6"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Country ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"Enter or verify country...",value:N.country,onChange:k=>C({...N,country:k.target.value}),style:{borderColor:"#3b82f6"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:["Language ",e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),e.jsx("input",{type:"text",placeholder:"e.g., English, Spanish, French, German...",value:N.language,onChange:k=>C({...N,language:k.target.value}),style:{borderColor:"#3b82f6"}})]}),e.jsx("div",{className:"action-row",style:{marginTop:"30px"},children:e.jsx("button",{className:"btn-submit-task",onClick:B,disabled:p,style:{width:"100%",padding:"12px"},children:p?"Submitting...":"Submit for Audit"})})]}),r.status==="submitted"&&e.jsxs("div",{className:"editor-content",children:[e.jsx("div",{style:{background:"#eff6ff",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#1e40af"},children:" This task has been submitted and is awaiting audit."}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"LinkedIn Profile URL"}),e.jsx("input",{type:"text",value:r.domain,disabled:!0,style:{background:"#f1f5f9"}})]}),r.name&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("input",{type:"text",value:r.name,disabled:!0,style:{background:"#f1f5f9"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Country"}),e.jsx("input",{type:"text",value:r.country,disabled:!0,style:{background:"#f1f5f9"}}),!f&&e.jsx("div",{className:"action-row",style:{marginTop:"30px"},children:e.jsx("button",{className:"btn-submit-task",onClick:()=>{v(!0);const k=s.filter(O=>O.id!==r.id);n(k),a(null),C({contactName:"",contactLinkedinUrl:"",country:"",language:""})},style:{width:"100%",padding:"12px",background:"#22c55e"},children:"Understood"})})]})]})]}):e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:""}),e.jsx("h3",{children:"Select a profile to start research"}),e.jsx("p",{children:"Choose a task from the left panel to begin."})]})})]})]})}const Zs={getWebsiteTasks:async()=>(await Y.get("/inquiry/tasks/website")).data,getLinkedInTasks:async()=>(await Y.get("/inquiry/tasks/linkedin")).data,takeTask:async t=>(await Y.post("/inquiry/take",{researchTaskId:t})).data,submitAction:async(t,s,n)=>{const r=new FormData;return r.append("inquiryTaskId",t),r.append("actionType",s),r.append("screenshot",n),console.log("[submitAction] Sending to /inquiry/submit"),console.log("[submitAction] inquiryTaskId:",t),console.log("[submitAction] actionType:",s),console.log("[submitAction] screenshot:",n.name,`(${n.size} bytes)`),(await Y.post("/inquiry/submit",r,{headers:{"Content-Type":void 0}})).data}},Wv=500*1024,$v=["image/png","image/jpeg"],Tt=[{title:"Partnership Inquiry",content:`Hi there,

I came across your website and was impressed by your work in [industry/field]. We specialize in [your service/product] and believe there could be valuable synergies between our companies.

Would you be open to a brief call to explore potential collaboration opportunities?

Best regards`},{title:"Service Introduction",content:`Hello,

I noticed your company is active in [specific area]. We provide [specific service] that has helped similar businesses achieve [specific benefit].

I'd love to share how we might be able to support your goals. Would you have 15 minutes for a quick chat?

Thank you`},{title:"Business Development",content:`Dear Team,

Your company's approach to [specific aspect] caught my attention. We work with organizations like yours to [value proposition].

I believe there's potential for a mutually beneficial relationship. Are you available for a brief discussion next week?

Looking forward to connecting`}];function Vv(){const{user:t}=ms(),[s,n]=d.useState([]),[r,a]=d.useState(!0),[i,l]=d.useState(null),[o,c]=d.useState(null),[h,m]=d.useState(null),[p,x]=d.useState(!1),[j,g]=d.useState(0),[b,S]=d.useState(""),[w,u]=d.useState(""),[f,v]=d.useState(null),[N,C]=d.useState(""),[_,I]=d.useState(""),[q,z]=d.useState(!1),[B,R]=d.useState(""),[T,E]=d.useState(""),[M,k]=d.useState([]),[O,D]=d.useState(""),[y,F]=d.useState(!0),P=()=>{const H=localStorage.getItem("accessToken");if(!H)return null;try{const ie=H.split(".")[1];return JSON.parse(window.atob(ie)).sub||null}catch{return null}};d.useEffect(()=>{A()},[t==null?void 0:t.id]),d.useEffect(()=>{(O||!y&&M.length>0)&&J()},[O,y]);const A=async()=>{try{F(!0);const H=await Ke.getMyCategories(),ie=Array.isArray(H)?H:Array.isArray(H==null?void 0:H.data)?H.data:[];console.log("[Inquirer] Raw categories from API:",H);const ue=ie&&ie.length>0?Array.from(new Map(ie.map(K=>[K.id,K])).values()):[];console.log("[Inquirer] Unique categories:",ue.length,ue.map(K=>K.id)),k(ue),ue&&ue.length===1?D(ue[0].id):ue&&ue.length>1&&D("")}catch(H){console.error("Failed to load categories:",H),l("Failed to load your assigned categories")}finally{F(!1)}},J=async()=>{try{a(!0),l(null);const H=await Zs.getWebsiteTasks(),ie=P(),K=(O?(H||[]).filter(re=>re.categoryId===O):H||[]).filter(re=>re.status==="PENDING"||re.status==="IN_PROGRESS"&&ie&&re.assignedToUserId===ie);if(n(K),!o){const re=K.find(he=>he.status==="IN_PROGRESS"&&he.assignedToUserId===ie);re&&se(re)}o&&!K.some(re=>re.id===o.id)&&(c(null),m(null))}catch(H){l(H.message||"Failed to load tasks"),console.error("Error loading tasks:",H)}finally{a(!1)}},se=H=>{const ie=P(),ue=H.status==="IN_PROGRESS"&&H.assignedToUserId===ie;c(H),m(ue?H.inquiryTaskId||H.id:null),x(!1),g(0),S(Tt[0].title),u(Tt[0].content),v(null),C(""),I(""),R(""),E("")},L=async()=>{if(o)try{x(!0),R("");const H=await Zs.takeTask(o.id);m(H.id),await J()}catch(H){R(H.message||"Failed to claim task"),console.error("Error claiming task:",H)}finally{x(!1)}},$=()=>{const H=j===0?Tt.length-1:j-1;g(H),S(Tt[H].title),u(Tt[H].content)},ee=()=>{const H=(j+1)%Tt.length;g(H),S(Tt[H].title),u(Tt[H].content)},V=H=>{var K;const ie=(K=H.target.files)==null?void 0:K[0];if(!ie)return;if(I(""),ie.size>Wv){I(`File too large. Maximum size is 500 KB. Your file is ${(ie.size/1024).toFixed(2)} KB.`),v(null),C("");return}if(!$v.includes(ie.type)){I("Invalid format. Allowed: PNG, JPG, JPEG"),v(null),C("");return}v(ie);const ue=new FileReader;ue.onload=re=>{var he;C((he=re.target)==null?void 0:he.result)},ue.readAsDataURL(ie)},ne=async()=>{var H,ie;if(!(!h||!f))try{z(!0),R(""),E("");const ue=await Zs.submitAction(h,"EMAIL",f);ue!=null&&ue.screenshotDuplicate&&E("Screenshot accepted (duplicate). Auditor will see duplicate flag."),n(s.filter(K=>K.id!==(o==null?void 0:o.id))),c(null),m(null),v(null),C(""),S(""),u("")}catch(ue){const K=((ie=(H=ue==null?void 0:ue.response)==null?void 0:H.data)==null?void 0:ie.message)||ue.message||"Failed to submit inquiry";R(K),console.error("Error submitting inquiry:",ue)}finally{z(!1)}},pe=d.useMemo(()=>s.length>0,[s]),W=h&&f&&!q,Z=H=>H.status==="SUBMITTED"?"#22c55e":H.status==="IN_PROGRESS"?"#eab308":"#ef4444";return y?e.jsx("div",{className:"inq-state-screen",children:e.jsx("p",{children:"Loading categories"})}):M.length===0?e.jsx("div",{className:"inq-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"inq-tasks-container",children:[M.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:O,onChange:H=>D(H.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),M.map(H=>e.jsx("option",{value:H.id,children:H.name},H.id))]})]}),!O&&M.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view available tasks."})}),O&&M.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"inq-tasks-header",children:[e.jsxs("div",{className:"title-group",children:[e.jsx("h1",{children:"Website Outreach Tasks"}),e.jsx("p",{children:"Claim approved research, execute contact actions, and submit verifiable proof."})]}),e.jsx("div",{className:"task-counter",children:e.jsxs("span",{children:["Available Tasks: ",e.jsx("strong",{children:s.length})]})})]}),r&&e.jsx("div",{className:"loading-state",children:e.jsx("p",{children:"Loading tasks..."})}),i&&e.jsx("div",{className:"error-state",children:e.jsx("p",{children:i})}),!r&&!i&&e.jsxs("div",{className:"inq-layout",children:[e.jsxs("aside",{className:"tasks-sidebar",children:[!pe&&e.jsx("div",{className:"empty-tasks",children:e.jsx("p",{children:"No approved research available at the moment."})}),s.map(H=>e.jsxs("div",{className:`task-selector-card ${(o==null?void 0:o.id)===H.id?"active":""}`,onClick:()=>se(H),children:[e.jsx("div",{className:"priority-line",style:{backgroundColor:Z(H),height:"4px"}}),e.jsx("div",{className:"task-id-badge",children:"RESEARCH"}),e.jsx("h4",{children:H.companyName||H.companyDomain}),e.jsx("p",{className:"task-category",children:H.categoryName}),e.jsx("p",{className:"task-country",children:H.companyCountry||"Global"}),e.jsxs("div",{className:"task-footer",children:[e.jsx("span",{className:"status",children:H.status==="IN_PROGRESS"?"In Progress":"Ready"}),e.jsx("span",{className:"cta-chip",children:H.status==="IN_PROGRESS"?"Resume":"Start"})]})]},H.id))]}),e.jsx("main",{className:"task-execution-area",children:o?e.jsx("div",{className:"execution-card",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card-section research-context",children:[e.jsx("h2",{children:"Research Context (Read-Only)"}),e.jsxs("div",{className:"context-grid",children:[e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Company Name"}),e.jsx("p",{children:o.companyName})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Website"}),e.jsx("a",{href:`https://${o.companyDomain}`,target:"_blank",rel:"noreferrer",children:o.companyDomain})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Country"}),e.jsx("p",{children:o.companyCountry||"N/A"})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Category"}),e.jsx("p",{children:o.categoryName})]}),o.contactName&&e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("p",{children:o.contactName})]}),o.email&&e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Email"}),e.jsx("p",{children:o.email})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Research Task ID"}),e.jsx("code",{className:"task-id",children:o.id})]})]})]}),e.jsxs("div",{className:"card-section message-section",children:[e.jsx("h2",{children:"Outreach Message Template"}),e.jsxs("div",{className:"template-selector",children:[e.jsx("button",{className:"btn-template-nav",onClick:$,type:"button",children:""}),e.jsxs("span",{className:"template-indicator",children:["Template ",j+1," of ",Tt.length]}),e.jsx("button",{className:"btn-template-nav",onClick:ee,type:"button",children:""})]}),e.jsxs("div",{className:"message-fields",children:[e.jsxs("div",{className:"message-field",children:[e.jsx("label",{children:"Subject / Title"}),e.jsx("input",{type:"text",className:"message-title-input",value:b,onChange:H=>S(H.target.value),placeholder:"Message subject"})]}),e.jsxs("div",{className:"message-field",children:[e.jsx("label",{children:"Message Content"}),e.jsx("textarea",{className:"message-textarea",value:w,onChange:H=>u(H.target.value),placeholder:"Message content..."})]})]})]}),e.jsxs("div",{className:"card-section proof-section",children:[e.jsx("h2",{children:"Upload Proof of Contact"}),e.jsx("p",{className:"proof-requirements",children:"Maximum file size: 500 KB | Formats: PNG, JPG, JPEG"}),e.jsxs("div",{className:"upload-zone",children:[e.jsx("div",{className:"upload-icon",children:""}),e.jsx("p",{className:"upload-text",children:"Upload a screenshot showing the company website and your outreach message."}),e.jsx("input",{type:"file",id:"proof-upload",accept:".png,.jpg,.jpeg",hidden:!0,onChange:V}),e.jsx("label",{htmlFor:"proof-upload",className:"btn-upload",children:"Select Image"}),_&&e.jsx("p",{className:"file-error",children:_}),f&&e.jsxs("p",{className:"file-name",children:[" ",f.name]})]}),N&&e.jsx("div",{className:"preview-container",children:e.jsx("img",{src:N,alt:"Preview",className:"preview-image"})})]}),B&&e.jsx("div",{className:"submit-error",children:B}),T&&e.jsxs("div",{className:"submit-warning",style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"6px",padding:"12px 16px",marginBottom:"16px",color:"#92400e",fontSize:"14px"},children:[" ",T]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-cancel",onClick:()=>{c(null),m(null)},disabled:q,children:"Cancel"}),e.jsx("button",{className:"btn-submit",onClick:ne,disabled:!W,children:q?"Submitting...":"Submit for Review"})]})]}):e.jsx("div",{className:"claim-section",children:e.jsxs("div",{className:"claim-box",children:[e.jsx("h2",{children:"Ready to Start Outreach"}),e.jsxs("div",{className:"claim-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Company:"})," ",o.companyName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Domain:"})," ",o.companyDomain]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",o.categoryName]})]}),B&&e.jsx("div",{className:"submit-error",children:B}),e.jsx("button",{className:"btn-claim",onClick:L,disabled:p,children:p?"Claiming...":"Claim This Task"})]})})}):e.jsxs("div",{className:"no-task-selected",children:[e.jsx("div",{className:"empty-illustration",children:""}),e.jsx("h3",{children:"Select a research to begin outreach"}),e.jsx("p",{children:"Claim the task, review research details, and submit contact proof."})]})})]})]})]})}function Hv(){const[t,s]=d.useState([]),[n,r]=d.useState(0),[a,i]=d.useState("0 GB"),[l,o]=d.useState("0 GB");return e.jsxs("div",{className:"uploads-container",children:[e.jsxs("header",{className:"uploads-header",children:[e.jsx("h1",{children:"Evidence Storage Terminal"}),e.jsx("p",{children:"Manage high-resolution captures for Website Inquiry tasks."})]}),e.jsxs("div",{className:"uploads-layout",children:[e.jsxs("main",{className:"uploads-main",children:[e.jsx("div",{className:"bulk-upload-card",children:e.jsxs("div",{className:"upload-box",children:[e.jsx("span",{className:"icon",children:""}),e.jsx("h3",{children:"Batch Upload Evidence"}),e.jsx("p",{children:"Drag PNG/JPG screenshots or click to select files"}),e.jsx("button",{className:"btn-browse",children:"Select Files"})]})}),e.jsxs("div",{className:"active-uploads",children:[e.jsxs("h3",{children:["Current Queue (",t.length,")"]}),t.length===0&&e.jsx("div",{className:"empty-state",children:"No evidence files uploaded yet"}),e.jsx("div",{className:"upload-list",children:t.map(c=>e.jsxs("div",{className:"upload-item",children:[e.jsx("div",{className:"file-icon",children:""}),e.jsxs("div",{className:"file-info",children:[e.jsxs("p",{className:"f-name",children:[c.filename," ",e.jsxs("span",{children:["(",c.size,")"]})]}),c.status==="uploading"&&e.jsx("div",{className:"progress-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${c.progress??0}%`}})}),c.status==="ready"&&e.jsx("span",{className:"status-done",children:"Ready to Link"})]}),e.jsx("div",{className:"file-type-select",children:e.jsxs("select",{value:c.evidenceType,readOnly:!0,children:[e.jsx("option",{children:"Main Screenshot"}),e.jsx("option",{children:"Tech Stack Proof"}),e.jsx("option",{children:"Contact Page"}),e.jsx("option",{children:"Other Evidence"})]})}),e.jsx("button",{className:"btn-remove","aria-label":"Remove upload",children:""})]},c.id))})]})]}),e.jsxs("aside",{className:"storage-sidebar",children:[e.jsxs("div",{className:"storage-card",children:[e.jsx("h3",{children:"Storage Used"}),e.jsx("div",{className:"storage-gauge",children:e.jsx("div",{className:"gauge-fill",style:{width:`${n}%`}})}),e.jsxs("p",{children:[e.jsx("strong",{children:a})," of ",l," (",n,"%)"]})]}),e.jsxs("div",{className:"audit-guidelines",children:[e.jsx("h3",{children:"Capture Standards"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Minimum width: 1920px."}),e.jsx("li",{children:"Full URL visible in browser address bar."}),e.jsx("li",{children:"System clock visible on screen."}),e.jsx("li",{children:"No cropping, masking or blurring."})]})]})]})]})]})}const Gv=500*1024,Qv=["image/png","image/jpeg"],Vt=[{step:1,title:"Step 1: Outreach",action:"LINKEDIN_OUTREACH",instruction:"Open LinkedIn profile, send connection request with personalized note. Screenshot must show LinkedIn URL and message.",templates:[{title:"B2B Partnership",content:`Hi [Name],

I noticed your work in [industry]. We help companies like yours with [value proposition]. Would love to connect and explore potential collaboration opportunities.

Best regards`},{title:"Industry Introduction",content:`Hello [Name],

Your experience in [field] caught my attention. We specialize in [service] and I believe there could be valuable synergies. Looking forward to connecting.

Thank you`},{title:"Direct Outreach",content:`Hi [Name],

I'm reaching out regarding potential partnership opportunities between our companies. Would you be open to a brief conversation?

Best`}]},{step:2,title:"Step 2: Ask for Email",action:"LINKEDIN_EMAIL_REQUEST",instruction:"If connection accepted, send message asking for email contact. Screenshot must show reply and email (if provided).",templates:[{title:"Email Request",content:`Hi [Name],

Thank you for connecting! I'd like to share some detailed information about our services. Would you mind sharing your business email so I can send you our portfolio?

Appreciate it!`},{title:"Professional Follow-up",content:`Hello [Name],

Great to be connected! I have some materials I'd like to share that might interest you. Could you please provide your email address?

Thanks in advance!`},{title:"Direct Email Ask",content:`Hi [Name],

I'd like to send you detailed information. What's the best email to reach you?

Thank you!`}]},{step:3,title:"Step 3: Send Catalogue + Price List",action:"LINKEDIN_CATALOGUE",instruction:"If no email provided, send catalogue and price list via LinkedIn message. Screenshot must show the sent files/links and message.",templates:[{title:"Catalogue Share",content:`Hi [Name],

As discussed, here's our product catalogue and current pricing. Please review and let me know if you have any questions or would like to discuss further.

[Attach catalogue PDF/link]
[Attach price list]

Looking forward to your feedback!`},{title:"Materials Delivery",content:`Hello [Name],

I'm sharing our complete product information and pricing structure. Feel free to reach out with any questions.

[Catalogue link]
[Pricing document]

Best regards`},{title:"Direct Send",content:`Hi [Name],

Here are the materials:

 Product Catalogue: [link]
 Price List: [link]

Let me know your thoughts!`}]}];function Jv(){const{user:t}=ms(),[s,n]=d.useState([]),[r,a]=d.useState(!0),[i,l]=d.useState(null),[o,c]=d.useState(null),[h,m]=d.useState(null),[p,x]=d.useState(!1),[j,g]=d.useState(1),[b,S]=d.useState(0),[w,u]=d.useState(""),[f,v]=d.useState(""),[N,C]=d.useState(null),[_,I]=d.useState(""),[q,z]=d.useState(""),[B,R]=d.useState(!1),[T,E]=d.useState(""),[M,k]=d.useState(""),[O,D]=d.useState([]),[y,F]=d.useState(""),[P,A]=d.useState(!0),J=()=>{const K=localStorage.getItem("accessToken");if(!K)return null;try{const re=K.split(".")[1];return JSON.parse(window.atob(re)).sub||null}catch{return null}};d.useEffect(()=>{se()},[t==null?void 0:t.id]),d.useEffect(()=>{(y||!P&&O.length>0)&&L()},[y,P]);const se=async()=>{try{A(!0);const K=await Ke.getMyCategories(),re=Array.isArray(K)?K:Array.isArray(K==null?void 0:K.data)?K.data:[],he=re&&re.length>0?Array.from(new Map(re.map(xe=>[xe.id,xe])).values()):[];D(he),he&&he.length===1&&F(he[0].id)}catch(K){console.error("Failed to load categories:",K),l("Failed to load your assigned categories")}finally{A(!1)}},L=async()=>{try{a(!0),l(null);const K=await Zs.getLinkedInTasks(),re=J(),xe=(y?(K||[]).filter(Se=>Se.categoryId===y):K||[]).filter(Se=>Se.status==="PENDING"||Se.status==="IN_PROGRESS"&&re&&Se.assignedToUserId===re);if(n(xe),!o){const Se=xe.find(Wt=>Wt.status==="IN_PROGRESS"&&Wt.assignedToUserId===re);Se&&$(Se)}o&&!xe.some(Se=>Se.id===o.id)&&(c(null),m(null))}catch(K){l(K.message||"Failed to load tasks"),console.error("Error loading tasks:",K)}finally{a(!1)}},$=K=>{var Se;const re=J(),he=K.status==="IN_PROGRESS"&&K.assignedToUserId===re;c(K),m(he?K.inquiryTaskId||K.id:null),x(!1);const xe=((Se=K.linkedinProgress)==null?void 0:Se.nextStep)||1;g(xe),S(0),u(Vt[xe-1].templates[0].title),v(Vt[xe-1].templates[0].content),C(null),I(""),z(""),E(""),k("")},ee=async()=>{if(o)try{x(!0),E("");const K=await Zs.takeTask(o.id);m(K.id),await L()}catch(K){E(K.message||"Failed to claim task"),console.error("Error claiming task:",K)}finally{x(!1)}},V=()=>{const K=Vt[j-1],re=b===0?K.templates.length-1:b-1;S(re),u(K.templates[re].title),v(K.templates[re].content)},ne=()=>{const K=Vt[j-1],re=(b+1)%K.templates.length;S(re),u(K.templates[re].title),v(K.templates[re].content)},pe=K=>{var xe;const re=(xe=K.target.files)==null?void 0:xe[0];if(!re)return;if(z(""),re.size>Gv){z(`File too large. Maximum size is 500 KB. Your file is ${(re.size/1024).toFixed(2)} KB.`),C(null),I("");return}if(!Qv.includes(re.type)){z("Invalid format. Allowed: PNG, JPG, JPEG"),C(null),I("");return}C(re);const he=new FileReader;he.onload=Se=>{var Wt;I((Wt=Se.target)==null?void 0:Wt.result)},he.readAsDataURL(re)},W=async()=>{var K,re;if(!(!h||!N))try{R(!0),E(""),k("");const he=Vt[j-1],xe=await Zs.submitAction(h,he.action,N);if(xe!=null&&xe.screenshotDuplicate&&k("Screenshot accepted (duplicate). Auditor will see duplicate flag."),await L(),j<3){const Se=j+1;g(Se),S(0);const Wt=Vt[Se-1];u(Wt.templates[0].title),v(Wt.templates[0].content),C(null),I(""),z(""),k("")}else n(s.filter(Se=>Se.id!==(o==null?void 0:o.id))),c(null),m(null),g(1)}catch(he){const xe=((re=(K=he==null?void 0:he.response)==null?void 0:K.data)==null?void 0:re.message)||he.message||"Failed to submit action";E(xe),console.error("Error submitting action:",he)}finally{R(!1)}},Z=d.useMemo(()=>s.length>0,[s]),H=h&&N&&!B,ie=Vt[j-1],ue=K=>K.status==="SUBMITTED"?"#22c55e":K.status==="IN_PROGRESS"?"#eab308":"#ef4444";return P?e.jsx("div",{className:"inq-state-screen",children:e.jsx("p",{children:"Loading categories"})}):O.length===0?e.jsx("div",{className:"inq-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"inq-tasks-container",children:[O.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:y,onChange:K=>F(K.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),O.map(K=>e.jsx("option",{value:K.id,children:K.name},K.id))]})]}),!y&&O.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view available tasks."})}),y&&O.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"inq-tasks-header",children:[e.jsxs("div",{className:"title-group",children:[e.jsx("h1",{children:"LinkedIn Outreach Tasks"}),e.jsx("p",{children:"Execute 3-step LinkedIn outreach: Connection  Email Request  Catalogue Delivery"})]}),e.jsx("div",{className:"task-counter",children:e.jsxs("span",{children:["Available Tasks: ",e.jsx("strong",{children:s.length})]})})]}),r&&e.jsx("div",{className:"loading-state",children:e.jsx("p",{children:"Loading tasks..."})}),i&&e.jsx("div",{className:"error-state",children:e.jsx("p",{children:i})}),!r&&!i&&e.jsxs("div",{className:"inq-layout",children:[e.jsxs("aside",{className:"tasks-sidebar",children:[!Z&&e.jsx("div",{className:"empty-tasks",children:e.jsx("p",{children:"No approved LinkedIn research available."})}),s.map(K=>e.jsxs("div",{className:`task-selector-card ${(o==null?void 0:o.id)===K.id?"active":""}`,onClick:()=>$(K),children:[e.jsx("div",{className:"priority-line",style:{backgroundColor:ue(K),height:"4px"}}),e.jsx("div",{className:"task-id-badge",children:"LINKEDIN"}),e.jsx("h4",{children:K.contactName||"LinkedIn Contact"}),e.jsx("p",{className:"task-category",children:K.categoryName}),e.jsx("p",{className:"task-country",children:K.country||K.companyCountry||"Global"}),e.jsx("div",{className:"task-footer",children:e.jsx("span",{className:"status",children:"3-Step Workflow"})})]},K.id))]}),e.jsx("main",{className:"task-execution-area",children:o?e.jsx("div",{className:"execution-card",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"workflow-progress",children:Vt.map((K,re)=>e.jsxs("div",{className:`progress-step ${re+1<j?"completed":re+1===j?"active":"pending"}`,children:[e.jsx("div",{className:"step-circle",children:re+1}),e.jsx("div",{className:"step-label",children:K.title})]},re))}),e.jsxs("div",{className:"card-section research-context",children:[e.jsx("h2",{children:"LinkedIn Contact Details (Read-Only)"}),e.jsxs("div",{className:"context-grid",children:[e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Contact Name"}),e.jsx("p",{children:o.contactName||"N/A"})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"LinkedIn Profile"}),e.jsx("a",{href:o.contactLinkedinUrl||o.targetId,target:"_blank",rel:"noreferrer",children:o.contactLinkedinUrl||o.targetId})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Country"}),e.jsx("p",{children:o.country||o.companyCountry||"N/A"})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Language"}),e.jsx("p",{children:o.language||"N/A"})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Category"}),e.jsx("p",{children:o.categoryName})]}),e.jsxs("div",{className:"context-item",children:[e.jsx("label",{children:"Research Task ID"}),e.jsx("code",{className:"task-id",children:o.id})]})]})]}),e.jsxs("div",{className:"card-section action-instructions",children:[e.jsx("h2",{children:ie.title}),e.jsx("div",{className:"instruction-box",children:e.jsx("p",{className:"instruction-text",children:ie.instruction})})]}),e.jsxs("div",{className:"card-section message-section",children:[e.jsx("h2",{children:"Message Template"}),e.jsxs("div",{className:"template-selector",children:[e.jsx("button",{className:"btn-template-nav",onClick:V,type:"button",children:""}),e.jsxs("span",{className:"template-indicator",children:["Template ",b+1," of ",ie.templates.length]}),e.jsx("button",{className:"btn-template-nav",onClick:ne,type:"button",children:""})]}),e.jsxs("div",{className:"message-fields",children:[e.jsxs("div",{className:"message-field",children:[e.jsx("label",{children:"Title / Subject"}),e.jsx("input",{type:"text",className:"message-title-input",value:w,onChange:K=>u(K.target.value),placeholder:"Message title"})]}),e.jsxs("div",{className:"message-field",children:[e.jsx("label",{children:"Message Content"}),e.jsx("textarea",{className:"message-textarea",value:f,onChange:K=>v(K.target.value),placeholder:"Message content...",rows:8})]})]})]}),e.jsxs("div",{className:"card-section proof-section",children:[e.jsxs("h2",{children:["Upload Proof of Action (Step ",j,"/3)"]}),e.jsx("p",{className:"proof-requirements",children:"Maximum file size: 500 KB | Formats: PNG, JPG, JPEG"}),e.jsxs("div",{className:"upload-zone",children:[e.jsx("div",{className:"upload-icon",children:""}),e.jsxs("p",{className:"upload-text",children:["Screenshot must show LinkedIn profile URL and ",j===1?"connection message":j===2?"email request and reply (if any)":"catalogue/price list sent","."]}),e.jsx("input",{type:"file",id:"proof-upload",accept:".png,.jpg,.jpeg",hidden:!0,onChange:pe}),e.jsx("label",{htmlFor:"proof-upload",className:"btn-upload",children:"Select Image"}),q&&e.jsx("p",{className:"file-error",children:q}),N&&e.jsxs("p",{className:"file-name",children:[" ",N.name]})]}),_&&e.jsx("div",{className:"preview-container",children:e.jsx("img",{src:_,alt:"Preview",className:"preview-image"})})]}),T&&e.jsx("div",{className:"submit-error",children:T}),M&&e.jsxs("div",{className:"submit-warning",style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"6px",padding:"12px 16px",marginBottom:"16px",color:"#92400e",fontSize:"14px"},children:[" ",M]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-cancel",onClick:()=>{c(null),m(null),g(1)},disabled:B,children:"Cancel"}),e.jsx("button",{className:"btn-submit",onClick:W,disabled:!H,children:B?"Submitting...":j===3?"Complete Task":`Submit Step ${j} & Continue`})]})]}):e.jsx("div",{className:"claim-section",children:e.jsxs("div",{className:"claim-box",children:[e.jsx("h2",{children:"Ready to Start LinkedIn Outreach"}),e.jsxs("div",{className:"claim-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Contact:"})," ",o.contactName||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"LinkedIn URL:"})," ",o.contactLinkedinUrl||o.targetId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",o.categoryName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",o.country||o.companyCountry||"N/A"]})]}),T&&e.jsx("div",{className:"submit-error",children:T}),e.jsx("button",{className:"btn-claim",onClick:ee,disabled:p,children:p?"Claiming...":"Claim This Task"})]})})}):e.jsxs("div",{className:"no-task-selected",children:[e.jsx("div",{className:"empty-illustration",children:""}),e.jsx("h3",{children:"Select a LinkedIn task to begin"}),e.jsx("p",{children:"Claim the task and complete 3 sequential actions with screenshot proof."})]})})]})]})]})}function Kv({files:t=[],storageUsed:s="0 GB",storageTotal:n="0 GB",storagePercent:r=0}){return e.jsxs("div",{className:"li-uploads",children:[e.jsxs("header",{className:"page-header",children:[e.jsxs("div",{className:"title-area",children:[e.jsx("h1",{children:"LinkedIn Asset Vault"}),e.jsx("p",{children:"Secure management of evidence for multi-step outreach tasks."})]}),e.jsx("div",{className:"header-meta",children:e.jsxs("div",{className:"storage-info",children:[e.jsxs("span",{children:["Storage Used:"," ",e.jsxs("strong",{children:[s," / ",n]})]}),e.jsx("div",{className:"storage-bar",children:e.jsx("div",{className:"fill",style:{width:`${Math.min(r,100)}%`}})})]})})]}),e.jsxs("div",{className:"upload-main",children:[e.jsxs("section",{className:"dropzone-section",children:[e.jsxs("div",{className:"li-dropzone",children:[e.jsx("span",{className:"dz-icon",children:""}),e.jsx("h3",{children:"Upload New Proof"}),e.jsx("p",{children:"Drag and drop PNG, JPG or PDF. Maximum file size: 500 KB."}),e.jsx("button",{className:"btn-dz",children:"Browse Files"})]}),e.jsxs("div",{className:"upload-guidelines",children:[e.jsx("h4",{children:"LinkedIn Evidence Requirements"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Full Browser Capture: Must show LinkedIn navigation bar."}),e.jsx("li",{children:"Timestamp Visible: System clock must be visible."}),e.jsx("li",{children:"Clear Text: Messages must be readable."}),e.jsx("li",{children:"Unedited: No cropping, blurring or masking."})]})]})]}),e.jsxs("section",{className:"file-library",children:[e.jsxs("div",{className:"library-header",children:[e.jsx("h3",{children:"Recent Uploads"}),e.jsx("div",{className:"library-filters",children:e.jsxs("select",{children:[e.jsx("option",{children:"All Proofs"}),e.jsx("option",{children:"Conversations"}),e.jsx("option",{children:"Profile Proof"})]})})]}),t.length===0?e.jsx("div",{className:"empty-library",children:e.jsx("p",{children:"No evidence uploaded yet."})}):e.jsx("div",{className:"file-grid",children:t.map(a=>e.jsxs("div",{className:"file-card",children:[e.jsx("div",{className:"file-preview",children:e.jsx("div",{className:"file-type-icon",children:""})}),e.jsxs("div",{className:"file-details",children:[e.jsxs("div",{className:"file-top",children:[e.jsx("span",{className:"file-tag",children:a.type}),e.jsx("span",{className:`status-dot ${a.status}`})]}),e.jsx("p",{className:"file-name",title:a.name,children:a.name}),e.jsxs("div",{className:"file-footer",children:[e.jsx("span",{children:a.size}),e.jsxs("div",{className:"file-actions",children:[e.jsx("button",{className:"btn-icon",children:""}),e.jsx("button",{className:"btn-icon",children:""})]})]})]})]},a.id))})]})]})]})}const ve={getPendingResearch:async()=>(await Y.get("/audit/research/pending")).data,auditResearch:async(t,s)=>(await Y.post(`/audit/research/${t}`,s)).data,getPendingInquiry:async()=>(await Y.get("/audit/inquiry/pending")).data,auditInquiry:async(t,s)=>(await Y.post(`/audit/inquiry/${t}`,s)).data,getPendingLinkedInInquiry:async()=>(await Y.get("/audit/linkedin-inquiry/pending")).data,auditLinkedInInquiry:async(t,s,n)=>(await Y.post(`/audit/linkedin-inquiry/${t}/actions/${s}`,n)).data,getDisapprovalReasons:async t=>(await Y.get("/audit/disapproval-reasons",{params:t})).data};function Yv(){const{user:t}=ms(),[s,n]=d.useState([]),[r,a]=d.useState([]),[i,l]=d.useState(0),[o,c]=d.useState(!0),[h,m]=d.useState(null),[p,x]=d.useState([]),[j,g]=d.useState(""),[b,S]=d.useState(!0),[w,u]=d.useState([]),[f,v]=d.useState([]),[N,C]=d.useState(!1);d.useEffect(()=>{_()},[t==null?void 0:t.id]),d.useEffect(()=>{I()},[]),d.useEffect(()=>{if(!j){u([]),v([]);return}q(j)},[j]),d.useEffect(()=>{if(b)return;if(!j&&p.length===1){g(p[0].id);return}if(!j&&p.length>1){n([]);return}const E=j?r.filter(M=>M.categoryId===j):r;n(E),l(0)},[j,r,b,p]);const _=async()=>{if(t!=null&&t.id)try{S(!0);const E=await Ke.getMyCategories(),M=Array.isArray(E)?E:Array.isArray(E==null?void 0:E.data)?E.data:[];console.log("[Auditor] Raw categories:",E);const k=M.length>0?Array.from(new Map(M.map(O=>[O.id,O])).values()):[];x(k),k.length===1?g(k[0].id):k.length>1&&g("")}catch(E){console.error("Failed to load categories:",E),m("Failed to load your assigned categories")}finally{S(!1)}},I=async()=>{var E,M;try{c(!0);const k=await ve.getPendingInquiry();a(k);const O=j?k.filter(D=>D.categoryId===j):k;n(O),l(0),m(null)}catch(k){m(((M=(E=k.response)==null?void 0:E.data)==null?void 0:M.message)||"Failed to load submissions")}finally{c(!1)}},q=async E=>{try{C(!0);const[M,k]=await Promise.all([ve.getDisapprovalReasons({role:"website_inquirer_auditor",reasonType:"rejection",categoryId:E}),ve.getDisapprovalReasons({role:"website_inquirer_auditor",reasonType:"flag",categoryId:E})]);u(Array.isArray(M)?M:[]),v(Array.isArray(k)?k:[])}catch(M){console.error("Failed to load disapproval reasons",M),m("Failed to load disapproval reasons")}finally{C(!1)}},z=async E=>{var M,k;try{await ve.auditInquiry(E,{decision:"APPROVED"}),n(O=>{const D=O.filter(y=>y.id!==E);return l(y=>Math.min(y,Math.max(D.length-1,0))),D})}catch(O){alert(((k=(M=O.response)==null?void 0:M.data)==null?void 0:k.message)||"Failed to approve submission")}},B=async(E,M)=>{var k,O;try{await ve.auditInquiry(E,{decision:"REJECTED",reasonId:M}),n(D=>{const y=D.filter(F=>F.id!==E);return l(F=>Math.min(F,Math.max(y.length-1,0))),y})}catch(D){alert(((O=(k=D.response)==null?void 0:k.data)==null?void 0:O.message)||"Failed to reject submission")}},R=async(E,M)=>{var k,O;try{await ve.auditInquiry(E,{decision:"FLAGGED",reasonId:M}),n(D=>{const y=D.filter(F=>F.id!==E);return l(F=>Math.min(F,Math.max(y.length-1,0))),y})}catch(D){alert(((O=(k=D.response)==null?void 0:k.data)==null?void 0:O.message)||"Failed to flag submission")}},T=E=>{const M=new Date,k=new Date(E),O=M.getTime()-k.getTime(),D=Math.floor(O/6e4),y=Math.floor(D/60),F=Math.floor(y/24);return F>0?`${F} day${F>1?"s":""} ago`:y>0?`${y} hour${y>1?"s":""} ago`:D>0?`${D} minute${D>1?"s":""} ago`:"Just now"};return b?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"Loading categories"})}):p.length===0?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"wb-inquiry-pending-container",children:[p.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:j,onChange:E=>g(E.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),p.map(E=>e.jsx("option",{value:E.id,children:E.name},E.id))]})]}),!j&&p.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view pending submissions."})}),h&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:h}),j&&p.length>0&&e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"Loading submissions"})}),!o&&s.length===0&&e.jsx("div",{style:{background:"#f3f4f6",padding:"20px",borderRadius:"8px",textAlign:"center"},children:e.jsx("p",{style:{margin:0,color:"#666"},children:"No pending submissions to review in this category."})}),!o&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"wb-pending-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Website Inquiry Audits"}),e.jsxs("p",{children:[s.length," pending submission",s.length!==1?"s":""]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("button",{onClick:()=>l(E=>E>0?E-1:E),disabled:i===0,className:"btn-nav",children:" Previous"}),e.jsxs("span",{style:{fontWeight:600},children:[i+1," / ",s.length]}),e.jsx("button",{onClick:()=>l(E=>E<s.length-1?E+1:E),disabled:i>=s.length-1,className:"btn-nav",children:"Next "})]})]}),e.jsx("div",{className:"submissions-grid",style:{gridTemplateColumns:"1fr"},children:e.jsx(Xv,{submission:s[i],onApprove:z,onReject:B,onFlag:R,rejectionReasons:w,flagReasons:f,loadingReasons:N,formatTimeAgo:T},s[i].id)})]})]})]})}function Xv({submission:t,onApprove:s,onReject:n,onFlag:r,rejectionReasons:a,flagReasons:i,loadingReasons:l,formatTimeAgo:o}){const[c,h]=d.useState({actionMatches:!1,screenshotValid:!1,targetCorrect:!1,noManipulation:!1,messageValid:!1}),[m,p]=d.useState(""),[x,j]=d.useState(""),[g,b]=d.useState(!1);if(!t)return null;const S=t.companyName||"",w=t.companyDomain||"",u=t.companyCountry||"",f=t.language||"",v=(t==null?void 0:t.isDuplicate)===!0,N=t.screenshotUrl;console.log("[WebsiteAuditor] Current submission:",{id:t.id,screenshotUrl:N,isDuplicate:v,companyName:t.companyName});const _=Object.values(c).every(E=>E)&&!v,I=!!m,q=!!x&&!v,z=async()=>{if(_){b(!0);try{await s(t.id)}finally{b(!1)}}},B=async()=>{if(!(!I||!m)){b(!0);try{await n(t.id,m)}finally{b(!1)}}},R=async()=>{if(!(!q||!x)){b(!0);try{await r(t.id,x)}finally{b(!1)}}},T=E=>{h(M=>({...M,[E]:!M[E]}))};return e.jsxs("div",{className:"submission-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("span",{className:"type-badge",children:"Website Inquiry"}),e.jsx("span",{className:"time-badge",children:o(t.createdAt)})]}),e.jsxs("div",{className:"card-content-wrapper",children:[e.jsxs("div",{className:"card-body",children:[e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Context"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Company Name:"}),e.jsx("span",{className:"info-value",children:S})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Company Link:"}),w!==""?e.jsx("a",{href:`https://${w}`,target:"_blank",rel:"noopener noreferrer",className:"company-link",children:w}):e.jsx("span",{className:"info-value",children:""})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Country:"}),e.jsx("span",{className:"info-value",children:u})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Language:"}),e.jsx("span",{className:"info-value",children:f})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Submission Details"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Task ID:"}),e.jsx("span",{className:"info-value task-id",title:t.id,children:t.id})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Worker"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.assignedToUserId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.workerName||"Unknown"})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Email:"}),e.jsx("span",{className:"nested-value",children:t.workerEmail||"N/A"})]})]})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Category"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.categoryId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.categoryName||"Unknown"})]})]})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Duplicate Detection (System)"}),v&&e.jsxs("div",{style:{background:"#fee2e2",padding:"12px",borderRadius:"6px",marginBottom:"10px",border:"2px solid #dc2626",color:"#991b1b",fontSize:"13px",fontWeight:"600"},children:[" ",e.jsx("strong",{children:"System Alert: Duplicate."})," Approval disabled. This screenshot matches a previously submitted image. You must reject this submission."]}),!v&&e.jsx("div",{style:{background:"#d1fae5",padding:"12px",borderRadius:"6px",border:"2px solid #10b981",color:"#059669",fontSize:"13px"},children:" Screenshot is NOT flagged as duplicate"})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Validation Checklist"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.actionMatches,onChange:()=>T("actionMatches")}),e.jsx("span",{children:"Action matches submission type"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.screenshotValid,onChange:()=>T("screenshotValid")}),e.jsx("span",{children:"Screenshot is valid proof of action"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.targetCorrect,onChange:()=>T("targetCorrect")}),e.jsx("span",{children:"Target website/LinkedIn is correct"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.noManipulation,onChange:()=>T("noManipulation")}),e.jsx("span",{children:"No signs of manipulation or forgery"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.messageValid,onChange:()=>T("messageValid")}),e.jsx("span",{children:"Outreach message matches template"})]})]})]}),e.jsxs("section",{className:"controls-section",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Rejection Reason"}),e.jsxs("select",{value:m,onChange:E=>{p(E.target.value),j("")},className:"rejection-select",disabled:l,children:[e.jsx("option",{value:"",children:"Select reason..."}),a.map(E=>e.jsx("option",{value:E.id,children:E.reason},E.id))]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Flag Reason"}),e.jsxs("select",{value:x,onChange:E=>{j(E.target.value),p("")},className:"rejection-select",disabled:l||v,children:[e.jsx("option",{value:"",children:"Not flagging"}),i.map(E=>e.jsx("option",{value:E.id,children:E.reason},E.id))]}),v&&e.jsx("p",{className:"muted",children:"Duplicate detected  use a rejection reason."})]}),l&&e.jsx("p",{className:"muted",children:"Loading reasons"})]})]}),e.jsxs("div",{className:"screenshot-panel",children:[e.jsx("h3",{children:"Screenshot"}),e.jsx("div",{className:"screenshot-container",children:N?e.jsx("img",{src:N,alt:"Inquiry submission screenshot",className:"screenshot-image",onClick:()=>window.open(N,"_blank"),style:{cursor:"pointer"},title:"Click to open in new tab"}):e.jsx("div",{className:"no-screenshot",children:"No screenshot available"})})]})]}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{onClick:B,disabled:!I||g,className:"btn-reject",title:I?"":"Select a rejection reason",children:g?"Processing...":"Reject"}),e.jsx("button",{onClick:R,disabled:!q||g,className:"btn-secondary",title:q?"":v?"Duplicate must be rejected, not flagged":"Select a flag reason",children:g?"Processing...":"Flag"}),e.jsx("button",{onClick:z,disabled:!_||g,className:"btn-approve",title:_?"":v?"Cannot approve: Duplicate screenshot detected":"Complete all validations",children:g?"Processing...":"Approve"})]})]})}function Zv(){const{user:t}=ms(),[s,n]=d.useState([]),[r,a]=d.useState([]),[i,l]=d.useState(0),[o,c]=d.useState(!0),[h,m]=d.useState(null),[p,x]=d.useState([]),[j,g]=d.useState(""),[b,S]=d.useState(!0),[w,u]=d.useState([]),[f,v]=d.useState([]),[N,C]=d.useState(!1);d.useEffect(()=>{_()},[t==null?void 0:t.id]),d.useEffect(()=>{I()},[]),d.useEffect(()=>{if(!j){u([]),v([]);return}q(j)},[j]),d.useEffect(()=>{if(b)return;if(!j&&p.length===1){g(p[0].id);return}if(!j&&p.length>1){n([]);return}const B=j?r.filter(R=>R.categoryId===j):r;n(B),l(0)},[j,r,b,p]);const _=async()=>{if(t!=null&&t.id)try{S(!0);const B=await Ke.getMyCategories(),R=Array.isArray(B)?B:Array.isArray(B==null?void 0:B.data)?B.data:[];console.log("[LinkedinAuditor] Raw categories:",B);const T=R.length>0?Array.from(new Map(R.map(E=>[E.id,E])).values()):[];x(T),T.length===1?g(T[0].id):T.length>1&&g("")}catch(B){console.error("Failed to load categories:",B),m("Failed to load your assigned categories")}finally{S(!1)}},I=async()=>{var B,R;try{c(!0);const T=await ve.getPendingLinkedInInquiry();a(T);const E=j?T.filter(M=>M.categoryId===j):T;n(E),l(0),m(null)}catch(T){m(((R=(B=T.response)==null?void 0:B.data)==null?void 0:R.message)||"Failed to load submissions")}finally{c(!1)}},q=async B=>{try{C(!0);const[R,T]=await Promise.all([ve.getDisapprovalReasons({role:"linkedin_inquirer_auditor",reasonType:"rejection",categoryId:B}),ve.getDisapprovalReasons({role:"linkedin_inquirer_auditor",reasonType:"flag",categoryId:B})]);u(Array.isArray(R)?R:[]),v(Array.isArray(T)?T:[])}catch(R){console.error("Failed to load disapproval reasons",R),m("Failed to load disapproval reasons")}finally{C(!1)}},z=B=>{const R=new Date,T=new Date(B),E=R.getTime()-T.getTime(),M=Math.floor(E/6e4),k=Math.floor(M/60),O=Math.floor(k/24);return O>0?`${O} day${O>1?"s":""} ago`:k>0?`${k} hour${k>1?"s":""} ago`:M>0?`${M} minute${M>1?"s":""} ago`:"Just now"};return b?e.jsx("div",{className:"li-state-screen",children:e.jsx("p",{children:"Loading categories"})}):p.length===0?e.jsx("div",{className:"li-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"li-inquiry-pending-container",children:[p.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:j,onChange:B=>g(B.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),p.map(B=>e.jsx("option",{value:B.id,children:B.name},B.id))]})]}),!j&&p.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view pending submissions."})}),h&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:h}),j&&p.length>0&&e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"li-state-screen",children:e.jsx("p",{children:"Loading submissions"})}),!o&&s.length===0&&e.jsx("div",{style:{background:"#f3f4f6",padding:"20px",borderRadius:"8px",textAlign:"center"},children:e.jsx("p",{style:{margin:0,color:"#666"},children:"No pending submissions to review in this category."})}),!o&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"li-pending-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h1",{children:"LinkedIn Inquiry Audits"}),e.jsxs("p",{children:[s.length," pending submission",s.length!==1?"s":""]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("button",{onClick:()=>l(B=>B>0?B-1:B),disabled:i===0,className:"btn-nav",children:" Previous"}),e.jsxs("span",{style:{fontWeight:600},children:[i+1," / ",s.length]}),e.jsx("button",{onClick:()=>l(B=>B<s.length-1?B+1:B),disabled:i>=s.length-1,className:"btn-nav",children:"Next "})]})]}),e.jsx("div",{className:"submissions-grid",style:{gridTemplateColumns:"1fr"},children:e.jsx(eN,{submission:s[i],onRefresh:()=>{I()},rejectionReasons:w,flagReasons:f,loadingReasons:N,formatTimeAgo:z},s[i].id)})]})]})]})}function eN({submission:t,onRefresh:s,rejectionReasons:n,flagReasons:r,loadingReasons:a,formatTimeAgo:i}){const[l,o]=d.useState(t.actions&&t.actions.length>0?t.actions[0].id:null),[c,h]=d.useState({}),[m,p]=d.useState({}),[x,j]=d.useState(!1);if(!t)return null;const g={LINKEDIN_OUTREACH:"Step 1: LinkedIn Outreach",LINKEDIN_EMAIL_REQUEST:"Step 2: Email Request",LINKEDIN_CATALOGUE:"Step 3: Catalogue Request"},b=async u=>{var f,v;try{j(!0),await ve.auditLinkedInInquiry(t.id,u,{decision:"APPROVED"}),alert("Action approved successfully!"),s()}catch(N){alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||"Failed to approve action")}finally{j(!1)}},S=async u=>{var v,N;const f=c[u];if(!f){alert("Please select a rejection reason");return}try{j(!0),await ve.auditLinkedInInquiry(t.id,u,{decision:"REJECTED",reasonId:f}),alert("Action rejected successfully!"),s()}catch(C){alert(((N=(v=C.response)==null?void 0:v.data)==null?void 0:N.message)||"Failed to reject action")}finally{j(!1)}},w=async u=>{var v,N;const f=m[u];if(!f){alert("Please select a flag reason");return}try{j(!0),await ve.auditLinkedInInquiry(t.id,u,{decision:"FLAGGED",reasonId:f}),alert("Action flagged successfully!"),s()}catch(C){alert(((N=(v=C.response)==null?void 0:v.data)==null?void 0:N.message)||"Failed to flag action")}finally{j(!1)}};return e.jsxs("div",{className:"li-submission-card",children:[e.jsxs("div",{className:"li-card-header",children:[e.jsx("span",{className:"li-type-badge",children:"LinkedIn Inquiry (3-Step)"}),e.jsx("span",{className:"li-time-badge",children:i(t.createdAt)})]}),e.jsx("div",{className:"li-card-content-wrapper",children:e.jsxs("div",{className:"li-card-body",children:[e.jsxs("section",{className:"li-info-section",children:[e.jsx("h3",{children:"Worker Information"}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"Name:"}),e.jsx("span",{className:"li-info-value",children:t.workerName||""})]}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"Email:"}),e.jsx("span",{className:"li-info-value",children:t.workerEmail||""})]}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"User ID:"}),e.jsx("span",{className:"li-info-value task-id",title:t.assignedToUserId,children:t.assignedToUserId})]})]}),e.jsxs("section",{className:"li-info-section",children:[e.jsx("h3",{children:"Task Information"}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"Task ID:"}),e.jsx("span",{className:"li-info-value task-id",title:t.id,children:t.id})]}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"Category:"}),e.jsx("span",{className:"li-info-value",children:t.categoryName||""})]}),e.jsxs("div",{className:"li-info-row",children:[e.jsx("label",{children:"Status:"}),e.jsx("span",{className:"li-info-value",style:{fontWeight:"600",color:"#0ea5e9"},children:t.status})]})]}),e.jsxs("section",{className:"li-info-section",children:[e.jsx("h3",{children:"Multi-Action Progress"}),e.jsx("div",{className:"li-timeline",children:t.actions&&t.actions.map((u,f)=>e.jsxs("div",{className:"li-timeline-item",style:{marginBottom:f<t.actions.length-1?"16px":"0"},children:[e.jsx("div",{className:"li-timeline-dot",style:{background:u.status==="APPROVED"?"#10b981":u.status==="REJECTED"?"#ef4444":"#f59e0b"}}),e.jsxs("div",{className:"li-timeline-content",children:[e.jsx("h4",{children:g[u.actionType]||u.actionType}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginTop:"8px"},children:[e.jsx("span",{className:"li-status-badge",style:{background:u.status==="APPROVED"?"#d1fae5":u.status==="REJECTED"?"#fee2e2":"#fef3c7",color:u.status==="APPROVED"?"#065f46":u.status==="REJECTED"?"#7c2d12":"#92400e",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:u.status}),u.isDuplicate&&e.jsx("span",{className:"li-duplicate-badge",style:{background:"#fee2e2",color:"#991b1b",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:" Duplicate Screenshot"})]})]}),e.jsx("button",{onClick:()=>o(l===u.id?null:u.id),className:"li-expand-btn",children:l===u.id?"":"+"})]},u.id))})]}),l&&t.actions&&(()=>{const u=t.actions.find(f=>f.id===l);return u?e.jsxs("section",{className:"li-info-section li-action-details",children:[e.jsxs("h3",{children:["Review: ",g[u.actionType]||u.actionType]}),u.isDuplicate&&e.jsxs("div",{style:{background:"#fee2e2",padding:"12px",borderRadius:"6px",marginBottom:"15px",border:"2px solid #dc2626",color:"#991b1b",fontSize:"13px",fontWeight:"600"},children:[" ",e.jsx("strong",{children:"System Alert: Duplicate."})," This screenshot matches a previously submitted image."]}),e.jsxs("div",{className:"li-action-screenshot",style:{marginBottom:"20px"},children:[e.jsx("h4",{style:{marginBottom:"10px"},children:"Screenshot Evidence"}),u.screenshotUrl?e.jsx("img",{src:u.screenshotUrl,alt:`${u.actionType} screenshot`,className:"li-screenshot-image",onClick:()=>window.open(u.screenshotUrl,"_blank"),style:{cursor:"pointer"},title:"Click to open in new tab"}):e.jsx("div",{className:"li-no-screenshot",children:"No screenshot available"})]}),u.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"li-reason-selectors",style:{display:"flex",gap:"15px",marginBottom:"15px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600",fontSize:"13px"},children:"Rejection Reason:"}),e.jsxs("select",{value:c[u.id]||"",onChange:f=>{h({...c,[u.id]:f.target.value}),p({...m,[u.id]:""})},disabled:a,style:{width:"100%",padding:"8px",fontSize:"13px",borderRadius:"4px"},children:[e.jsx("option",{value:"",children:"Select reason..."}),n.map(f=>e.jsx("option",{value:f.id,children:f.reason},f.id))]})]}),e.jsxs("div",{style:{flex:1},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600",fontSize:"13px"},children:"Flag Reason:"}),e.jsxs("select",{value:m[u.id]||"",onChange:f=>{p({...m,[u.id]:f.target.value}),h({...c,[u.id]:""})},disabled:a||u.isDuplicate,style:{width:"100%",padding:"8px",fontSize:"13px",borderRadius:"4px"},children:[e.jsx("option",{value:"",children:"Not flagging"}),r.map(f=>e.jsx("option",{value:f.id,children:f.reason},f.id))]}),u.isDuplicate&&e.jsx("p",{style:{fontSize:"11px",color:"#666",marginTop:"3px"},children:"Duplicate  use rejection."})]})]}),a&&e.jsx("p",{style:{fontSize:"12px",color:"#666",marginBottom:"10px"},children:"Loading reasons"})]}),e.jsxs("div",{className:"li-action-controls",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>S(u.id),disabled:x||u.status!=="PENDING"||!c[u.id],className:"li-btn-reject",title:c[u.id]?"":"Select a rejection reason",children:x?"Processing...":"Reject"}),e.jsx("button",{onClick:()=>w(u.id),disabled:x||u.status!=="PENDING"||!m[u.id]||u.isDuplicate,className:"li-btn-secondary",title:u.isDuplicate?"Duplicate must be rejected":m[u.id]?"":"Select a flag reason",children:x?"Processing...":"Flag"}),e.jsx("button",{onClick:()=>b(u.id),disabled:x||u.status!=="PENDING"||u.isDuplicate,className:"li-btn-approve",title:u.isDuplicate?"Cannot approve duplicate":"",children:x?"Processing...":"Approve"})]})]}):null})()]})})]})}function tN(){return e.jsxs("div",{className:"wb-audit-dash",children:[e.jsx("header",{className:"dash-header",children:e.jsxs("div",{className:"welcome-text",children:[e.jsx("h1",{children:"Website Research Quality Assurance"}),e.jsx("p",{children:"Review and validate researcher submissions for website targets."})]})}),e.jsxs("section",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Pending Reviews"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Approved Submissions"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Rejected Submissions"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Avg. Review Time"}),e.jsx("h2",{className:"metric-value",children:""})]})]}),e.jsxs("div",{className:"dash-content-layout",children:[e.jsxs("section",{className:"queue-status-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Research Submissions Queue"}),e.jsx("span",{className:"badge-live",children:"LIVE"})]}),e.jsxs("div",{className:"queue-empty",children:[e.jsx("p",{children:"No submissions currently queued for review."}),e.jsx("span",{children:"Waiting for backend data"})]})]}),e.jsxs("section",{className:"accuracy-chart-card",children:[e.jsx("h3",{children:"Submissions by Category"}),e.jsx("div",{className:"chart-placeholder empty",children:e.jsx("p",{children:"Submission data unavailable"})}),e.jsx("div",{className:"chart-legend",children:e.jsx("p",{children:"Charts will render automatically once data is received."})})]})]}),e.jsx("footer",{className:"dash-footer",children:e.jsxs("div",{className:"system-status",children:[e.jsx("span",{className:"status-dot green"}),"Waiting for system status update"]})})]})}function sN(){const{user:t}=ms(),[s,n]=d.useState([]),[r,a]=d.useState([]),[i,l]=d.useState(!0),[o,c]=d.useState(null),[h,m]=d.useState([]),[p,x]=d.useState(""),[j,g]=d.useState(!0),[b,S]=d.useState([]),[w,u]=d.useState([]),[f,v]=d.useState(!1);d.useEffect(()=>{N()},[t==null?void 0:t.id]),d.useEffect(()=>{C()},[]),d.useEffect(()=>{if(!p){S([]),u([]);return}_(p)},[p]),d.useEffect(()=>{if(j)return;if(!p&&h.length===1){x(h[0].id);return}if(!p&&h.length>1){n([]);return}const R=p?r.filter(T=>T.categoryId===p):r;n(R)},[p,r,j,h]);const N=async()=>{if(t!=null&&t.id)try{g(!0);const R=await Ke.getMyCategories(),T=Array.isArray(R)?R:Array.isArray(R==null?void 0:R.data)?R.data:[];console.log("[Auditor] Raw categories:",R);const E=T.length>0?Array.from(new Map(T.map(M=>[M.id,M])).values()):[];m(E),E.length===1?x(E[0].id):E.length>1&&x("")}catch(R){console.error("Failed to load categories:",R),c("Failed to load your assigned categories")}finally{g(!1)}},C=async()=>{var R,T;try{l(!0);const M=(await ve.getPendingResearch()).filter(O=>O.targetType==="COMPANY");a(M);const k=p?M.filter(O=>O.categoryId===p):M;n(k),c(null)}catch(E){c(((T=(R=E.response)==null?void 0:R.data)==null?void 0:T.message)||"Failed to load submissions")}finally{l(!1)}},_=async R=>{try{v(!0);const[T,E]=await Promise.all([ve.getDisapprovalReasons({role:"website_research_auditor",reasonType:"rejection",categoryId:R}),ve.getDisapprovalReasons({role:"website_research_auditor",reasonType:"flag",categoryId:R})]);S(Array.isArray(T)?T:[]),u(Array.isArray(E)?E:[])}catch(T){console.error("Failed to load disapproval reasons",T)}finally{v(!1)}},I=async R=>{var T,E;try{await ve.auditResearch(R,{decision:"APPROVED"}),n(M=>M.filter(k=>k.id!==R))}catch(M){alert(((E=(T=M.response)==null?void 0:T.data)==null?void 0:E.message)||"Failed to approve submission")}},q=async(R,T)=>{var E,M;try{await ve.auditResearch(R,{decision:"REJECTED",reasonId:T}),n(k=>k.filter(O=>O.id!==R))}catch(k){alert(((M=(E=k.response)==null?void 0:E.data)==null?void 0:M.message)||"Failed to reject submission")}},z=async(R,T)=>{var E,M;try{await ve.auditResearch(R,{decision:"FLAGGED",reasonId:T}),n(k=>k.filter(O=>O.id!==R))}catch(k){alert(((M=(E=k.response)==null?void 0:E.data)==null?void 0:M.message)||"Failed to flag submission")}},B=R=>{const T=new Date,E=new Date(R),M=T.getTime()-E.getTime(),k=Math.floor(M/6e4),O=Math.floor(k/60),D=Math.floor(O/24);return D>0?`${D} day${D>1?"s":""} ago`:O>0?`${O} hour${O>1?"s":""} ago`:k>0?`${k} minute${k>1?"s":""} ago`:"Just now"};return j?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"Loading categories"})}):h.length===0?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"wb-research-pending-container",children:[h.length>1&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"Select Category:"}),e.jsxs("select",{value:p,onChange:R=>x(R.target.value),style:{width:"100%",maxWidth:"300px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:[e.jsx("option",{value:"",children:"Choose a category..."}),h.map(R=>e.jsx("option",{value:R.id,children:R.name},R.id))]})]}),!p&&h.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view pending submissions."})}),o&&e.jsx("div",{style:{background:"#fee",padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#c00"},children:o}),p&&h.length>0&&e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"Loading submissions"})}),!i&&s.length===0&&e.jsx("div",{style:{background:"#f3f4f6",padding:"20px",borderRadius:"8px",textAlign:"center"},children:e.jsx("p",{style:{margin:0,color:"#666"},children:"No pending submissions to review in this category."})}),!i&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"wb-pending-header",children:e.jsxs("div",{children:[e.jsx("h1",{children:"Website Research Audits"}),e.jsxs("p",{children:[s.length," pending submission",s.length!==1?"s":""]})]})}),e.jsx("div",{className:"submissions-grid",children:s.map(R=>e.jsx(nN,{submission:R,onApprove:I,onReject:q,onFlag:z,rejectionReasons:b,flagReasons:w,loadingReasons:f,formatTimeAgo:B},R.id))})]})]})]})}function nN({submission:t,onApprove:s,onReject:n,onFlag:r,rejectionReasons:a,flagReasons:i,loadingReasons:l,formatTimeAgo:o}){const[c,h]=d.useState({noRecentContact:!1,companyName:!1,companyLink:!1,country:!1,language:!1}),[m,p]=d.useState(""),[x,j]=d.useState(""),[g,b]=d.useState(!1),S=t.submission;if(!S)return null;const u=Object.values(c).every(q=>q),f=!!m,v=!!x,N=async()=>{if(u){b(!0);try{await s(t.id)}finally{b(!1)}}},C=async()=>{if(!(!f||!m)){b(!0);try{await n(t.id,m)}finally{b(!1)}}},_=async()=>{if(!(!v||!x)){b(!0);try{await r(t.id,x)}finally{b(!1)}}},I=q=>{h(z=>({...z,[q]:!z[q]}))};return e.jsxs("div",{className:"submission-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("span",{className:"type-badge",children:"Website Research"}),e.jsx("span",{className:"time-badge",children:o(S.createdAt)})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Context"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Company Name:"}),e.jsx("span",{className:"info-value",children:t.companyName||"Unknown"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Company Link:"}),e.jsx("a",{href:`https://${t.companyDomain}`,target:"_blank",rel:"noopener noreferrer",className:"company-link",children:t.companyDomain||"N/A"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Country:"}),e.jsx("span",{className:"info-value",children:t.companyCountry||"N/A"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Language:"}),e.jsx("span",{className:"info-value",children:S.language||"N/A"})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Submission Details"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Task ID:"}),e.jsx("span",{className:"info-value task-id",title:t.id,children:t.id})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Worker"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.assignedToUserId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.workerName||"Unknown"})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Email:"}),e.jsx("span",{className:"nested-value",children:t.workerEmail||"N/A"})]})]})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Category"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.categoryId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.categoryName||"Unknown"})]})]})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Validation Checklist"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.noRecentContact,onChange:()=>I("noRecentContact")}),e.jsx("span",{children:"No recent contact (30 days)"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.companyName,onChange:()=>I("companyName")}),e.jsxs("span",{children:["Company Name: ",t.companyName||"Unknown"]})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.companyLink,onChange:()=>I("companyLink")}),e.jsxs("span",{children:["Company Link: ",t.companyDomain||"N/A"]})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.country,onChange:()=>I("country")}),e.jsxs("span",{children:["Country: ",t.companyCountry||"N/A"]})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.language,onChange:()=>I("language")}),e.jsxs("span",{children:["Language: ",S.language||"N/A"]})]})]})]}),S.email&&e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Additional Data"}),S.email&&e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Email:"}),e.jsx("span",{children:S.email})]}),S.phone&&e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Phone:"}),e.jsx("span",{children:S.phone})]}),S.techStack&&e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Tech Stack:"}),e.jsx("span",{children:S.techStack})]})]}),e.jsxs("section",{className:"controls-section",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Rejection Reason:"}),e.jsxs("select",{value:m,onChange:q=>{p(q.target.value),q.target.value&&j("")},className:"rejection-select",disabled:l||!!x,children:[e.jsx("option",{value:"",children:"Select reason..."}),a.map(q=>e.jsx("option",{value:q.id,children:q.description},q.id))]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Flag Reason:"}),e.jsxs("select",{value:x,onChange:q=>{j(q.target.value),q.target.value&&p("")},className:`suspicious-select ${x?"active":""}`,disabled:l||!!m,children:[e.jsx("option",{value:"",children:"Not flagged"}),i.map(q=>e.jsx("option",{value:q.id,children:q.description},q.id))]})]})]})]}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{onClick:C,disabled:!f||g,className:"btn-reject",title:f?"":"Select a rejection reason",children:g?"Processing...":"Reject"}),e.jsx("button",{onClick:_,disabled:!v||g,className:"btn-flag",title:v?"":"Select a flag reason",children:g?"Processing...":"Flag"}),e.jsx("button",{onClick:N,disabled:!u||g,className:"btn-approve",title:u?"":x?"Clear flag reason first":"Complete all validations",children:g?"Processing...":"Approve"})]})]})}function rN(){return e.jsxs("div",{className:"wb-audit-dash",children:[e.jsx("header",{className:"dash-header",children:e.jsxs("div",{className:"welcome-text",children:[e.jsx("h1",{children:"LinkedIn Research Quality Assurance"}),e.jsx("p",{children:"Review and validate researcher submissions for LinkedIn profiles."})]})}),e.jsxs("section",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Pending Reviews"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Approved Submissions"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Rejected Submissions"}),e.jsx("h2",{className:"metric-value",children:""})]}),e.jsxs("div",{className:"metric-card empty",children:[e.jsx("span",{className:"metric-label",children:"Avg. Review Time"}),e.jsx("h2",{className:"metric-value",children:""})]})]}),e.jsxs("div",{className:"dash-content-layout",children:[e.jsxs("section",{className:"queue-status-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Research Submissions Queue"}),e.jsx("span",{className:"badge-live",children:"LIVE"})]}),e.jsxs("div",{className:"queue-empty",children:[e.jsx("p",{children:"No submissions currently queued for review."}),e.jsx("span",{children:"Waiting for backend data"})]})]}),e.jsxs("section",{className:"accuracy-chart-card",children:[e.jsx("h3",{children:"Submissions by Category"}),e.jsx("div",{className:"chart-placeholder empty",children:e.jsx("p",{children:"Submission data unavailable"})}),e.jsx("div",{className:"chart-legend",children:e.jsx("p",{children:"Charts will render automatically once data is received."})})]})]}),e.jsx("footer",{className:"dash-footer",children:e.jsxs("div",{className:"system-status",children:[e.jsx("span",{className:"status-dot green"}),"Waiting for system status update"]})})]})}function aN(){const{user:t}=ms(),[s,n]=d.useState([]),[r,a]=d.useState([]),[i,l]=d.useState([]),[o,c]=d.useState(""),[h,m]=d.useState(!0),[p,x]=d.useState(!0),[j,g]=d.useState(null),[b,S]=d.useState([]),[w,u]=d.useState([]),[f,v]=d.useState(!0);d.useEffect(()=>{N()},[t==null?void 0:t.id]),d.useEffect(()=>{C()},[]),d.useEffect(()=>{o&&_()},[o]),d.useEffect(()=>{if(p)return;if(!o&&i.length===1){c(i[0].id);return}if(!o&&i.length>1){n([]);return}const R=o?r.filter(T=>T.categoryId===o):r;n(R)},[o,r,p,i]);const N=async()=>{if(t!=null&&t.id)try{x(!0);const R=await Ke.getMyCategories(),T=Array.isArray(R)?R:Array.isArray(R==null?void 0:R.data)?R.data:[],E=T.length>0?Array.from(new Map(T.map(M=>[M.id,M])).values()):[];l(E),E.length===1&&c(E[0].id)}catch(R){console.error("Failed to load categories:",R),g("Failed to load your assigned categories")}finally{x(!1)}},C=async()=>{var R,T;try{m(!0);const M=(await ve.getPendingResearch()).filter(O=>O.targetType!=="COMPANY");a(M);const k=o?M.filter(O=>O.categoryId===o):M;n(k),g(null)}catch(E){g(((T=(R=E.response)==null?void 0:R.data)==null?void 0:T.message)||"Failed to load submissions")}finally{m(!1)}},_=async()=>{if(o)try{v(!0);const[R,T]=await Promise.all([ve.getDisapprovalReasons({role:"linkedin_research_auditor",categoryId:o,reasonType:"rejection"}),ve.getDisapprovalReasons({role:"linkedin_research_auditor",categoryId:o,reasonType:"flag"})]);S(R),u(T)}catch(R){console.error("Failed to load disapproval reasons:",R)}finally{v(!1)}},I=async R=>{var T,E;try{await ve.auditResearch(R,{decision:"APPROVED"}),n(M=>M.filter(k=>k.id!==R))}catch(M){alert(((E=(T=M.response)==null?void 0:T.data)==null?void 0:E.message)||"Failed to approve submission")}},q=async(R,T)=>{var E,M;try{await ve.auditResearch(R,{decision:"REJECTED",reasonId:T}),n(k=>k.filter(O=>O.id!==R))}catch(k){alert(((M=(E=k.response)==null?void 0:E.data)==null?void 0:M.message)||"Failed to reject submission")}},z=async(R,T)=>{var E,M;try{await ve.auditResearch(R,{decision:"FLAGGED",reasonId:T}),n(k=>k.filter(O=>O.id!==R))}catch(k){alert(((M=(E=k.response)==null?void 0:E.data)==null?void 0:M.message)||"Failed to flag submission")}},B=R=>{const T=new Date,E=new Date(R),M=T.getTime()-E.getTime(),k=Math.floor(M/6e4),O=Math.floor(k/60),D=Math.floor(O/24);return D>0?`${D} day${D>1?"s":""} ago`:O>0?`${O} hour${O>1?"s":""} ago`:k>0?`${k} minute${k>1?"s":""} ago`:"Just now"};return p?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"Loading categories"})}):i.length===0?e.jsx("div",{className:"wb-state-screen",children:e.jsx("p",{children:"No categories assigned. Contact administrator."})}):e.jsxs("div",{className:"wb-research-pending-container",children:[i.length>1&&e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600},children:"Select Category:"}),e.jsxs("select",{value:o,onChange:R=>c(R.target.value),style:{width:"100%",maxWidth:300,padding:10,border:"1px solid #cbd5e1",borderRadius:6,fontSize:14,fontWeight:500},children:[e.jsx("option",{value:"",children:"Choose a category..."}),i.map(R=>e.jsx("option",{value:R.id,children:R.name},R.id))]})]}),!o&&i.length>1&&e.jsx("div",{style:{background:"#fef3c7",padding:20,borderRadius:8,marginBottom:20,border:"1px solid #fcd34d"},children:e.jsx("p",{style:{margin:0,color:"#92400e"},children:" Please select a category from above to view pending submissions."})}),j&&e.jsx("div",{style:{background:"#fee",padding:15,borderRadius:8,marginBottom:20,color:"#c00"},children:j}),o&&!h&&s.length===0&&e.jsx("div",{style:{background:"#f3f4f6",padding:20,borderRadius:8,textAlign:"center"},children:e.jsx("p",{style:{margin:0,color:"#666"},children:"No pending LinkedIn research submissions for this category."})}),o&&s.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"wb-pending-header",children:[e.jsx("h1",{children:"LinkedIn Research Audits"}),e.jsxs("p",{children:[s.length," pending submission",s.length!==1?"s":""]})]}),e.jsx("div",{className:"submissions-grid",children:s.map(R=>e.jsx(iN,{submission:R,onApprove:I,onReject:q,onFlag:z,rejectionReasons:b,flagReasons:w,loadingReasons:f,formatTimeAgo:B},R.id))})]})]})}function iN({submission:t,onApprove:s,onReject:n,onFlag:r,rejectionReasons:a,flagReasons:i,loadingReasons:l,formatTimeAgo:o}){const[c,h]=d.useState({profileUrl:!1,contactName:!1,contactLink:!1,country:!1,language:!1}),[m,p]=d.useState(""),[x,j]=d.useState(""),[g,b]=d.useState(!1),S=(()=>{var B;const z=((B=t.submission)==null?void 0:B.contactLinkedinUrl)||t.linkedInUrl||t.targetId;return z?z.startsWith("http")?z:`https://${z}`:""})(),u=Object.values(c).every(Boolean)&&!x,f=!!m,v=!!x,N=z=>h(B=>({...B,[z]:!B[z]})),C=async()=>{if(u){b(!0);try{await s(t.id)}finally{b(!1)}}},_=async()=>{if(!(!f||!m)){b(!0);try{await n(t.id,m)}finally{b(!1)}}},I=async()=>{if(!(!v||!x)){b(!0);try{await r(t.id,x)}finally{b(!1)}}},q=t.submission;return e.jsxs("div",{className:"submission-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("span",{className:"type-badge",children:"LinkedIn Research"}),e.jsx("span",{className:"time-badge",children:q?o(q.createdAt):"Pending"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Target"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"LinkedIn Profile/Search:"}),e.jsx("a",{className:"company-link",href:S,target:"_blank",rel:"noopener noreferrer",children:S})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Contact Details"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Contact Name:"}),e.jsx("span",{className:"info-value",children:(q==null?void 0:q.contactName)||t.linkedInContactName||"Unknown"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"LinkedIn URL:"}),e.jsx("span",{className:"info-value",children:(q==null?void 0:q.contactLinkedinUrl)||t.linkedInUrl||"N/A"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Country:"}),e.jsx("span",{className:"info-value",children:(q==null?void 0:q.country)||t.linkedInCountry||"N/A"})]}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Language:"}),e.jsx("span",{className:"info-value",children:(q==null?void 0:q.language)||t.linkedInLanguage||"N/A"})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Submission Details"}),e.jsxs("div",{className:"info-row",children:[e.jsx("label",{children:"Task ID:"}),e.jsx("span",{className:"info-value task-id",title:t.id,children:t.id})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Worker"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.assignedToUserId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.workerName||"Unknown"})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Email:"}),e.jsx("span",{className:"nested-value",children:t.workerEmail||"N/A"})]})]})]}),e.jsxs("div",{className:"info-section-nested",children:[e.jsx("label",{className:"nested-label",children:"Category"}),e.jsxs("div",{className:"nested-items",children:[e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"ID:"}),e.jsx("span",{className:"nested-value",children:t.categoryId})]}),e.jsxs("div",{className:"nested-row",children:[e.jsx("span",{className:"nested-key",children:"Name:"}),e.jsx("span",{className:"nested-value",children:t.categoryName||"Unknown"})]})]})]})]}),e.jsxs("section",{className:"info-section",children:[e.jsx("h3",{children:"Validation Checklist"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.profileUrl,onChange:()=>N("profileUrl")}),e.jsx("span",{children:"Open the LinkedIn link and verify target matches"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.contactName,onChange:()=>N("contactName")}),e.jsx("span",{children:"Contact Name present and correct"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.contactLink,onChange:()=>N("contactLink")}),e.jsx("span",{children:"LinkedIn URL present and valid"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.country,onChange:()=>N("country")}),e.jsx("span",{children:"Country present"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:c.language,onChange:()=>N("language")}),e.jsx("span",{children:"Language present"})]})]})]}),e.jsxs("section",{className:"controls-section",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Rejection Reason:"}),e.jsxs("select",{value:m,onChange:z=>{p(z.target.value),z.target.value&&j("")},className:"rejection-select",disabled:l||!!x,children:[e.jsx("option",{value:"",children:"Select reason..."}),a.map(z=>e.jsx("option",{value:z.id,children:z.description},z.id))]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Flag Reason:"}),e.jsxs("select",{value:x,onChange:z=>{j(z.target.value),z.target.value&&p("")},className:`suspicious-select ${x?"active":""}`,disabled:l||!!m,children:[e.jsx("option",{value:"",children:"Not flagged"}),i.map(z=>e.jsx("option",{value:z.id,children:z.description},z.id))]})]})]})]}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{className:"btn-reject",onClick:_,disabled:!f||g,children:g?"Processing...":"Reject"}),e.jsx("button",{className:"btn-flag",onClick:I,disabled:!v||g,children:g?"Processing...":"Flag"}),e.jsx("button",{className:"btn-approve",onClick:C,disabled:!u||g,children:g?"Processing...":"Approve"})]})]})}function lN(){return e.jsxs(zx,{children:[e.jsx(Q,{path:"/login",element:e.jsx(Oj,{})}),e.jsx(Q,{path:"/forbidden",element:e.jsx(Uj,{})}),e.jsx(Q,{element:e.jsx(kt,{allowedRoles:["super_admin"]}),children:e.jsxs(Q,{path:"/super-admin",element:e.jsx(Mj,{}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ge,{to:"dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(by,{})}),e.jsx(Q,{path:"users",element:e.jsx(jv,{})}),e.jsx(Q,{path:"users/create",element:e.jsx(yv,{})}),e.jsx(Q,{path:"categories",element:e.jsx(vv,{})}),e.jsx(Q,{path:"user-categories",element:e.jsx(Mv,{})}),e.jsx(Q,{path:"category-rules",element:e.jsx(Nv,{})}),e.jsx(Q,{path:"action-config",element:e.jsx(Cv,{})}),e.jsx(Q,{path:"disapproval-reasons",element:e.jsx(Rv,{})}),e.jsx(Q,{path:"company-types",element:e.jsx(Av,{})}),e.jsx(Q,{path:"job-types",element:e.jsx(Ev,{})}),e.jsx(Q,{path:"pricing",element:e.jsx(_v,{})}),e.jsx(Q,{path:"role-performance",element:e.jsx(Ov,{})}),e.jsx(Q,{path:"logs",element:e.jsx(qv,{})})]})}),e.jsx(Q,{element:e.jsx(kt,{allowedRoles:["sub_admin"]}),children:e.jsxs(Q,{path:"/sub-admin",element:e.jsx(Bj,{}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ge,{to:"dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(wy,{})}),e.jsx(Q,{path:"users",element:e.jsx(cv,{})}),e.jsx(Q,{path:"company-types",element:e.jsx(av,{})}),e.jsx(Q,{path:"job-types",element:e.jsx(iv,{})}),e.jsx(Q,{path:"disapproval-reasons",element:e.jsx(lv,{})}),e.jsx(Q,{path:"daily-limits",element:e.jsx(dv,{})}),e.jsx(Q,{path:"create-tasks",element:e.jsx(uv,{})}),e.jsx(Q,{path:"research/website",element:e.jsx(Hy,{})}),e.jsx(Q,{path:"research/linkedin",element:e.jsx(Gy,{})}),e.jsx(Q,{path:"research/create",element:e.jsx(Qy,{})}),e.jsx(Q,{path:"inquiry/website",element:e.jsx(Jy,{})}),e.jsx(Q,{path:"inquiry/linkedin",element:e.jsx(Ky,{})}),e.jsx(Q,{path:"inquiry/create",element:e.jsx(Yy,{})}),e.jsx(Q,{path:"audit/website-research",element:e.jsx(jd,{})}),e.jsx(Q,{path:"audit/linkedin-research",element:e.jsx(jd,{})}),e.jsx(Q,{path:"audit/website-inquiry",element:e.jsx(yd,{})}),e.jsx(Q,{path:"audit/linkedin-inquiry",element:e.jsx(yd,{})}),e.jsx(Q,{path:"review/research/website/:taskId",element:e.jsx(Xy,{})}),e.jsx(Q,{path:"review/research/linkedin/:taskId",element:e.jsx(Zy,{})}),e.jsx(Q,{path:"review/inquiry/website/:taskId",element:e.jsx(ev,{})}),e.jsx(Q,{path:"review/inquiry/linkedin/:taskId",element:e.jsx(tv,{})}),e.jsx(Q,{path:"performance",element:e.jsx(nv,{})}),e.jsx(Q,{path:"top-workers",element:e.jsx(rv,{})}),e.jsx(Q,{path:"notices",element:e.jsx(ov,{})}),e.jsx(Q,{path:"messages",element:e.jsx(sv,{})})]})}),e.jsx(Q,{element:e.jsx(kt,{allowedRoles:["website_researcher"]}),children:e.jsxs(Q,{path:"/researcher/website",element:e.jsx($j,{}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ge,{to:"dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(hv,{})}),e.jsx(Q,{path:"tasks",element:e.jsx(zv,{})})]})}),e.jsx(Q,{element:e.jsx(kt,{allowedRoles:["linkedin_researcher"]}),children:e.jsxs(Q,{path:"/researcher/linkedin",element:e.jsx(Hj,{}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ge,{to:"dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(mv,{})}),e.jsx(Q,{path:"tasks",element:e.jsx(Bv,{})})]})}),e.jsx(Q,{element:e.jsx(kt,{allowedRoles:["website_inquirer"]}),children:e.jsxs(Q,{path:"/inquirer/website",element:e.jsx(Qj,{}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ge,{to:"dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(pv,{})}),e.jsx(Q,{path:"tasks",element:e.jsx(Vv,{})}),e.jsx(Q,{path:"uploads",element:e.jsx(Hv,{})})]})}),e.jsx(Q,{element:e.jsx(kt,{allowedRoles:["linkedin_inquirer"]}),children:e.jsxs(Q,{path:"/inquirer/linkedin",element:e.jsx(Kj,{}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ge,{to:"dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(fv,{})}),e.jsx(Q,{path:"tasks",element:e.jsx(Jv,{})}),e.jsx(Q,{path:"uploads",element:e.jsx(Kv,{})})]})}),e.jsx(Q,{element:e.jsx(kt,{allowedRoles:["website_inquirer_auditor"]}),children:e.jsxs(Q,{path:"/auditor/website",element:e.jsx(Xj,{}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ge,{to:"dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(xv,{})}),e.jsx(Q,{path:"pending",element:e.jsx(Yv,{})})]})}),e.jsx(Q,{element:e.jsx(kt,{allowedRoles:["linkedin_inquirer_auditor"]}),children:e.jsxs(Q,{path:"/auditor/linkedin",element:e.jsx(ey,{}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ge,{to:"dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(gv,{})}),e.jsx(Q,{path:"pending",element:e.jsx(Zv,{})})]})}),e.jsx(Q,{element:e.jsx(kt,{allowedRoles:["website_research_auditor"]}),children:e.jsxs(Q,{path:"/auditor-researcher/website",element:e.jsx(sy,{}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ge,{to:"dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(tN,{})}),e.jsx(Q,{path:"pending",element:e.jsx(sN,{})})]})}),e.jsx(Q,{element:e.jsx(kt,{allowedRoles:["linkedin_research_auditor"]}),children:e.jsxs(Q,{path:"/auditor-researcher/linkedin",element:e.jsx(ry,{}),children:[e.jsx(Q,{index:!0,element:e.jsx(Ge,{to:"dashboard",replace:!0})}),e.jsx(Q,{path:"dashboard",element:e.jsx(rN,{})}),e.jsx(Q,{path:"pending",element:e.jsx(aN,{})})]})}),e.jsx(Q,{path:"/",element:e.jsx(Ge,{to:"/login",replace:!0})}),e.jsx(Q,{path:"*",element:e.jsx(Ge,{to:"/login",replace:!0})})]})}function oN(){return e.jsx(Fj,{children:e.jsx(lN,{})})}Ti.createRoot(document.getElementById("root")).render(e.jsx(Ld.StrictMode,{children:e.jsx(Jx,{children:e.jsx(oN,{})})}));
